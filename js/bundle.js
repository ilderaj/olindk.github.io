!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function n(t,e){e=e||Q;var n=e.createElement("script");n.text=t,e.head.appendChild(n).parentNode.removeChild(n)}function r(t){var e=!!t&&"length"in t&&t.length,n=ft.type(t);return"function"!==n&&!ft.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function i(t,e,n){if(ft.isFunction(e))return ft.grep(t,function(t,r){return!!e.call(t,r,t)!==n});if(e.nodeType)return ft.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(_t.test(e))return ft.filter(e,t,n);e=ft.filter(e,t)}return ft.grep(t,function(t){return it.call(e,t)>-1!==n&&1===t.nodeType})}function o(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function a(t){var e={};return ft.each(t.match(Tt)||[],function(t,n){e[n]=!0}),e}function s(t){return t}function u(t){throw t}function l(t,e,n){var r;try{t&&ft.isFunction(r=t.promise)?r.call(t).done(e).fail(n):t&&ft.isFunction(r=t.then)?r.call(t,e,n):e.call(void 0,t)}catch(t){n.call(void 0,t)}}function c(){Q.removeEventListener("DOMContentLoaded",c),t.removeEventListener("load",c),ft.ready()}function h(){this.expando=ft.expando+h.uid++}function f(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(Bt,"-$&").toLowerCase(),n=t.getAttribute(r),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:It.test(n)?JSON.parse(n):n)}catch(t){}Ot.set(t,e,n)}else n=void 0;return n}function d(t,e,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return ft.css(t,e,"")},u=s(),l=n&&n[3]||(ft.cssNumber[e]?"":"px"),c=(ft.cssNumber[e]||"px"!==l&&+u)&&Rt.exec(ft.css(t,e));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+u||1;do o=o||".5",c/=o,ft.style(t,e,c+l);while(o!==(o=s()/u)&&1!==o&&--a)}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}function p(t){var e,n=t.ownerDocument,r=t.nodeName,i=$t[r];return i?i:(e=n.body.appendChild(n.createElement(r)),i=ft.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),$t[r]=i,i)}function g(t,e){for(var n,r,i=[],o=0,a=t.length;o<a;o++)r=t[o],r.style&&(n=r.style.display,e?("none"===n&&(i[o]=Nt.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&Wt(r)&&(i[o]=p(r))):"none"!==n&&(i[o]="none",Nt.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(t[o].style.display=i[o]);return t}function y(t,e){var n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&ft.nodeName(t,e)?ft.merge([t],n):n}function v(t,e){for(var n=0,r=t.length;n<r;n++)Nt.set(t[n],"globalEval",!e||Nt.get(e[n],"globalEval"))}function m(t,e,n,r,i){for(var o,a,s,u,l,c,h=e.createDocumentFragment(),f=[],d=0,p=t.length;d<p;d++)if(o=t[d],o||0===o)if("object"===ft.type(o))ft.merge(f,o.nodeType?[o]:o);else if(Gt.test(o)){for(a=a||h.appendChild(e.createElement("div")),s=(zt.exec(o)||["",""])[1].toLowerCase(),u=Yt[s]||Yt._default,a.innerHTML=u[1]+ft.htmlPrefilter(o)+u[2],c=u[0];c--;)a=a.lastChild;ft.merge(f,a.childNodes),a=h.firstChild,a.textContent=""}else f.push(e.createTextNode(o));for(h.textContent="",d=0;o=f[d++];)if(r&&ft.inArray(o,r)>-1)i&&i.push(o);else if(l=ft.contains(o.ownerDocument,o),a=y(h.appendChild(o),"script"),l&&v(a),n)for(c=0;o=a[c++];)Ut.test(o.type||"")&&n.push(o);return h}function b(){return!0}function x(){return!1}function w(){try{return Q.activeElement}catch(t){}}function _(t,e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=void 0);for(s in e)_(t,s,n,r,e[s],o);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),i===!1)i=x;else if(!i)return t;return 1===o&&(a=i,i=function(t){return ft().off(t),a.apply(this,arguments)},i.guid=a.guid||(a.guid=ft.guid++)),t.each(function(){ft.event.add(this,e,i,r,n)})}function k(t,e){return ft.nodeName(t,"table")&&ft.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t:t}function A(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function C(t){var e=ee.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function S(t,e){var n,r,i,o,a,s,u,l;if(1===e.nodeType){if(Nt.hasData(t)&&(o=Nt.access(t),a=Nt.set(e,o),l=o.events)){delete a.handle,a.events={};for(i in l)for(n=0,r=l[i].length;n<r;n++)ft.event.add(e,i,l[i][n])}Ot.hasData(t)&&(s=Ot.access(t),u=ft.extend({},s),Ot.set(e,u))}}function E(t,e){var n=e.nodeName.toLowerCase();"input"===n&&qt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function T(t,e,r,i){e=nt.apply([],e);var o,a,s,u,l,c,h=0,f=t.length,d=f-1,p=e[0],g=ft.isFunction(p);if(g||f>1&&"string"==typeof p&&!ct.checkClone&&te.test(p))return t.each(function(n){var o=t.eq(n);g&&(e[0]=p.call(this,n,o.html())),T(o,e,r,i)});if(f&&(o=m(e,t[0].ownerDocument,!1,t,i),a=o.firstChild,1===o.childNodes.length&&(o=a),a||i)){for(s=ft.map(y(o,"script"),A),u=s.length;h<f;h++)l=o,h!==d&&(l=ft.clone(l,!0,!0),u&&ft.merge(s,y(l,"script"))),r.call(t[h],l,h);if(u)for(c=s[s.length-1].ownerDocument,ft.map(s,C),h=0;h<u;h++)l=s[h],Ut.test(l.type||"")&&!Nt.access(l,"globalEval")&&ft.contains(c,l)&&(l.src?ft._evalUrl&&ft._evalUrl(l.src):n(l.textContent.replace(ne,""),c))}return t}function M(t,e,n){for(var r,i=e?ft.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||ft.cleanData(y(r)),r.parentNode&&(n&&ft.contains(r.ownerDocument,r)&&v(y(r,"script")),r.parentNode.removeChild(r));return t}function D(t,e,n){var r,i,o,a,s=t.style;return n=n||oe(t),n&&(a=n.getPropertyValue(e)||n[e],""!==a||ft.contains(t.ownerDocument,t)||(a=ft.style(t,e)),!ct.pixelMarginRight()&&ie.test(a)&&re.test(e)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function L(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function F(t){if(t in ce)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=le.length;n--;)if(t=le[n]+e,t in ce)return t}function N(t,e,n){var r=Rt.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function O(t,e,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===e?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=ft.css(t,n+jt[o],!0,i)),r?("content"===n&&(a-=ft.css(t,"padding"+jt[o],!0,i)),"margin"!==n&&(a-=ft.css(t,"border"+jt[o]+"Width",!0,i))):(a+=ft.css(t,"padding"+jt[o],!0,i),"padding"!==n&&(a+=ft.css(t,"border"+jt[o]+"Width",!0,i)));return a}function I(t,e,n){var r,i=!0,o=oe(t),a="border-box"===ft.css(t,"boxSizing",!1,o);if(t.getClientRects().length&&(r=t.getBoundingClientRect()[e]),r<=0||null==r){if(r=D(t,e,o),(r<0||null==r)&&(r=t.style[e]),ie.test(r))return r;i=a&&(ct.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+O(t,e,n||(a?"border":"content"),i,o)+"px"}function B(t,e,n,r,i){return new B.prototype.init(t,e,n,r,i)}function P(){fe&&(t.requestAnimationFrame(P),ft.fx.tick())}function R(){return t.setTimeout(function(){he=void 0}),he=ft.now()}function j(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)n=jt[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function W(t,e,n){for(var r,i=(q.tweeners[e]||[]).concat(q.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,e,t))return r}function H(t,e,n){var r,i,o,a,s,u,l,c,h="width"in e||"height"in e,f=this,d={},p=t.style,y=t.nodeType&&Wt(t),v=Nt.get(t,"fxshow");n.queue||(a=ft._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,ft.queue(t,"fx").length||a.empty.fire()})}));for(r in e)if(i=e[r],de.test(i)){if(delete e[r],o=o||"toggle"===i,i===(y?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;y=!0}d[r]=v&&v[r]||ft.style(t,r)}if(u=!ft.isEmptyObject(e),u||!ft.isEmptyObject(d)){h&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=v&&v.display,null==l&&(l=Nt.get(t,"display")),c=ft.css(t,"display"),"none"===c&&(l?c=l:(g([t],!0),l=t.style.display||l,c=ft.css(t,"display"),g([t]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===ft.css(t,"float")&&(u||(f.done(function(){p.display=l}),null==l&&(c=p.display,l="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),u=!1;for(r in d)u||(v?"hidden"in v&&(y=v.hidden):v=Nt.access(t,"fxshow",{display:l}),o&&(v.hidden=!y),y&&g([t],!0),f.done(function(){y||g([t]),Nt.remove(t,"fxshow");for(r in d)ft.style(t,r,d[r])})),u=W(y?v[r]:0,r,f),r in v||(v[r]=u.start,y&&(u.end=u.start,u.start=0))}}function $(t,e){var n,r,i,o,a;for(n in t)if(r=ft.camelCase(n),i=e[r],o=t[n],ft.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),a=ft.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete t[r];for(n in o)n in t||(t[n]=o[n],e[n]=i)}else e[r]=i}function q(t,e,n){var r,i,o=0,a=q.prefilters.length,s=ft.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=he||R(),n=Math.max(0,l.startTime+l.duration-e),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;a<u;a++)l.tweens[a].run(o);return s.notifyWith(t,[l,o,n]),o<1&&u?n:(s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:ft.extend({},e),opts:ft.extend(!0,{specialEasing:{},easing:ft.easing._default},n),originalProperties:e,originalOptions:n,startTime:he||R(),duration:n.duration,tweens:[],createTween:function(e,n){var r=ft.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(r),r},stop:function(e){var n=0,r=e?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return e?(s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l,e])):s.rejectWith(t,[l,e]),this}}),c=l.props;for($(c,l.opts.specialEasing);o<a;o++)if(r=q.prefilters[o].call(l,t,c,l.opts))return ft.isFunction(r.stop)&&(ft._queueHooks(l.elem,l.opts.queue).stop=ft.proxy(r.stop,r)),r;return ft.map(c,W,l),ft.isFunction(l.opts.start)&&l.opts.start.call(t,l),ft.fx.timer(ft.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function z(t){return t.getAttribute&&t.getAttribute("class")||""}function U(t,e,n,r){var i;if(ft.isArray(e))ft.each(e,function(e,i){n||Se.test(t)?r(t,i):U(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,r)});else if(n||"object"!==ft.type(e))r(t,e);else for(i in e)U(t+"["+i+"]",e[i],n,r)}function Y(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(Tt)||[];if(ft.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function G(t,e,n,r){function i(s){var u;return o[s]=!0,ft.each(t[s]||[],function(t,s){var l=s(e,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(e.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=t===Re;return i(e.dataTypes[0])||!o["*"]&&i("*")}function V(t,e){var n,r,i=ft.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&ft.extend(!0,t,r),t}function X(t,e,n){for(var r,i,o,a,s=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function K(t,e,n,r){var i,o,a,s,u,l={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)l[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[i]:l[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function Z(t){return ft.isWindow(t)?t:9===t.nodeType&&t.defaultView}var J=[],Q=t.document,tt=Object.getPrototypeOf,et=J.slice,nt=J.concat,rt=J.push,it=J.indexOf,ot={},at=ot.toString,st=ot.hasOwnProperty,ut=st.toString,lt=ut.call(Object),ct={},ht="3.1.0",ft=function(t,e){return new ft.fn.init(t,e)},dt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,pt=/^-ms-/,gt=/-([a-z])/g,yt=function(t,e){return e.toUpperCase()};ft.fn=ft.prototype={jquery:ht,constructor:ft,length:0,toArray:function(){return et.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:et.call(this)},pushStack:function(t){var e=ft.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return ft.each(this,t)},map:function(t){return this.pushStack(ft.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(et.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:rt,sort:J.sort,splice:J.splice},ft.extend=ft.fn.extend=function(){var t,e,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||ft.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],r=t[e],a!==r&&(l&&r&&(ft.isPlainObject(r)||(i=ft.isArray(r)))?(i?(i=!1,o=n&&ft.isArray(n)?n:[]):o=n&&ft.isPlainObject(n)?n:{},a[e]=ft.extend(l,o,r)):void 0!==r&&(a[e]=r));return a},ft.extend({expando:"jQuery"+(ht+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ft.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=ft.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==at.call(t)||(e=tt(t))&&(n=st.call(e,"constructor")&&e.constructor,"function"!=typeof n||ut.call(n)!==lt))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?ot[at.call(t)]||"object":typeof t},globalEval:function(t){n(t)},camelCase:function(t){return t.replace(pt,"ms-").replace(gt,yt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,i=0;if(r(t))for(n=t.length;i<n&&e.call(t[i],i,t[i])!==!1;i++);else for(i in t)if(e.call(t[i],i,t[i])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(dt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(r(Object(t))?ft.merge(n,"string"==typeof t?[t]:t):rt.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:it.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r,i=[],o=0,a=t.length,s=!n;o<a;o++)r=!e(t[o],o),r!==s&&i.push(t[o]);return i},map:function(t,e,n){var i,o,a=0,s=[];if(r(t))for(i=t.length;a<i;a++)o=e(t[a],a,n),null!=o&&s.push(o);else for(a in t)o=e(t[a],a,n),null!=o&&s.push(o);return nt.apply([],s)},guid:1,proxy:function(t,e){var n,r,i;if("string"==typeof e&&(n=t[e],e=t,t=n),ft.isFunction(t))return r=et.call(arguments,2),i=function(){return t.apply(e||this,r.concat(et.call(arguments)))},i.guid=t.guid=t.guid||ft.guid++,i},now:Date.now,support:ct}),"function"==typeof Symbol&&(ft.fn[Symbol.iterator]=J[Symbol.iterator]),ft.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){ot["[object "+e+"]"]=e.toLowerCase()});var vt=function(t){function e(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&((e?e.ownerDocument||e:H)!==N&&F(e),e=e||N,I)){if(11!==p&&(u=vt.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&j(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return J.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&_.getElementsByClassName&&e.getElementsByClassName)return J.apply(n,e.getElementsByClassName(i)),n}if(_.qsa&&!Y[t+" "]&&(!B||!B.test(t))){if(1!==p)f=e,c=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(wt,_t):e.setAttribute("id",s=W),l=S(t),o=l.length;o--;)l[o]="#"+s+" "+d(l[o]);c=l.join(","),f=mt.test(t)&&h(e.parentNode)||e}if(c)try{return J.apply(n,f.querySelectorAll(c)),n}catch(t){}finally{s===W&&e.removeAttribute("id")}}}return T(t.replace(st,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>k.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[W]=!0,t}function i(t){var e=N.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),r=n.length;r--;)k.attrHandle[n[r]]=e}function a(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function l(t){return function(e){return"label"in e&&e.disabled===t||"form"in e&&e.disabled===t||"form"in e&&e.disabled===!1&&(e.isDisabled===t||e.isDisabled!==!t&&("label"in e||!At(e))!==t)}}function c(t){return r(function(e){return e=+e,r(function(n,r){for(var i,o=t([],n.length,e),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function h(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function f(){}function d(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function p(t,e,n){var r=e.dir,i=e.next,o=i||r,a=n&&"parentNode"===o,s=q++;return e.first?function(e,n,i){for(;e=e[r];)if(1===e.nodeType||a)return t(e,n,i)}:function(e,n,u){var l,c,h,f=[$,s];if(u){for(;e=e[r];)if((1===e.nodeType||a)&&t(e,n,u))return!0}else for(;e=e[r];)if(1===e.nodeType||a)if(h=e[W]||(e[W]={}),c=h[e.uniqueID]||(h[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[r]||e;else{if((l=c[o])&&l[0]===$&&l[1]===s)return f[2]=l[2];if(c[o]=f,f[2]=t(e,n,u))return!0}}}function g(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function y(t,n,r){for(var i=0,o=n.length;i<o;i++)e(t,n[i],r);return r}function v(t,e,n,r,i){for(var o,a=[],s=0,u=t.length,l=null!=e;s<u;s++)(o=t[s])&&(n&&!n(o,r,i)||(a.push(o),l&&e.push(s)));return a}function m(t,e,n,i,o,a){return i&&!i[W]&&(i=m(i)),o&&!o[W]&&(o=m(o,a)),r(function(r,a,s,u){var l,c,h,f=[],d=[],p=a.length,g=r||y(e||"*",s.nodeType?[s]:s,[]),m=!t||!r&&e?g:v(g,f,t,s,u),b=n?o||(r?t:p||i)?[]:a:m;if(n&&n(m,b,s,u),i)for(l=v(b,d),i(l,[],s,u),c=l.length;c--;)(h=l[c])&&(b[d[c]]=!(m[d[c]]=h));if(r){if(o||t){if(o){for(l=[],c=b.length;c--;)(h=b[c])&&l.push(m[c]=h);o(null,b=[],l,u)}for(c=b.length;c--;)(h=b[c])&&(l=o?tt(r,h):f[c])>-1&&(r[l]=!(a[l]=h))}}else b=v(b===a?b.splice(p,b.length):b),o?o(null,a,b,u):J.apply(a,b)})}function b(t){for(var e,n,r,i=t.length,o=k.relative[t[0].type],a=o||k.relative[" "],s=o?1:0,u=p(function(t){return t===e},a,!0),l=p(function(t){return tt(e,t)>-1},a,!0),c=[function(t,n,r){var i=!o&&(r||n!==M)||((e=n).nodeType?u(t,n,r):l(t,n,r));return e=null,i}];s<i;s++)if(n=k.relative[t[s].type])c=[p(g(c),n)];else{if(n=k.filter[t[s].type].apply(null,t[s].matches),n[W]){for(r=++s;r<i&&!k.relative[t[r].type];r++);return m(s>1&&g(c),s>1&&d(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(st,"$1"),n,s<r&&b(t.slice(s,r)),r<i&&b(t=t.slice(r)),r<i&&d(t))}c.push(n)}return g(c)}function x(t,n){var i=n.length>0,o=t.length>0,a=function(r,a,s,u,l){var c,h,f,d=0,p="0",g=r&&[],y=[],m=M,b=r||o&&k.find.TAG("*",l),x=$+=null==m?1:Math.random()||.1,w=b.length;for(l&&(M=a===N||a||l);p!==w&&null!=(c=b[p]);p++){if(o&&c){for(h=0,a||c.ownerDocument===N||(F(c),s=!I);f=t[h++];)if(f(c,a||N,s)){u.push(c);break}l&&($=x)}i&&((c=!f&&c)&&d--,r&&g.push(c))}if(d+=p,i&&p!==d){for(h=0;f=n[h++];)f(g,y,a,s);if(r){if(d>0)for(;p--;)g[p]||y[p]||(y[p]=K.call(u));y=v(y)}J.apply(u,y),l&&!r&&y.length>0&&d+n.length>1&&e.uniqueSort(u)}return l&&($=x,M=m),g};return i?r(a):a}var w,_,k,A,C,S,E,T,M,D,L,F,N,O,I,B,P,R,j,W="sizzle"+1*new Date,H=t.document,$=0,q=0,z=n(),U=n(),Y=n(),G=function(t,e){return t===e&&(L=!0),0},V={}.hasOwnProperty,X=[],K=X.pop,Z=X.push,J=X.push,Q=X.slice,tt=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",it="\\["+nt+"*("+rt+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+nt+"*\\]",ot=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+it+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),st=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),lt=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ht=new RegExp(ot),ft=new RegExp("^"+rt+"$"),dt={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt+"|[*])"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,yt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,mt=/[+~]/,bt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),xt=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},wt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,_t=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},kt=function(){F()},At=p(function(t){return t.disabled===!0},{dir:"parentNode",next:"legend"});try{J.apply(X=Q.call(H.childNodes),H.childNodes),X[H.childNodes.length].nodeType}catch(t){J={apply:X.length?function(t,e){Z.apply(t,Q.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}_=e.support={},C=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},F=e.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:H;return r!==N&&9===r.nodeType&&r.documentElement?(N=r,O=N.documentElement,I=!C(N),H!==N&&(n=N.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",kt,!1):n.attachEvent&&n.attachEvent("onunload",kt)),_.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),_.getElementsByTagName=i(function(t){return t.appendChild(N.createComment("")),!t.getElementsByTagName("*").length}),_.getElementsByClassName=yt.test(N.getElementsByClassName),_.getById=i(function(t){return O.appendChild(t).id=W,!N.getElementsByName||!N.getElementsByName(W).length}),_.getById?(k.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&I){var n=e.getElementById(t);return n?[n]:[]}},k.filter.ID=function(t){var e=t.replace(bt,xt);return function(t){return t.getAttribute("id")===e}}):(delete k.find.ID,k.filter.ID=function(t){var e=t.replace(bt,xt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),k.find.TAG=_.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):_.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},k.find.CLASS=_.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&I)return e.getElementsByClassName(t)},P=[],B=[],(_.qsa=yt.test(N.querySelectorAll))&&(i(function(t){O.appendChild(t).innerHTML="<a id='"+W+"'></a><select id='"+W+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&B.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||B.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+W+"-]").length||B.push("~="),t.querySelectorAll(":checked").length||B.push(":checked"),t.querySelectorAll("a#"+W+"+*").length||B.push(".#.+[+~]")}),i(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=N.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&B.push("name"+nt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&B.push(":enabled",":disabled"),O.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&B.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),B.push(",.*:")})),(_.matchesSelector=yt.test(R=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&i(function(t){_.disconnectedMatch=R.call(t,"*"),R.call(t,"[s!='']:x"),P.push("!=",ot)}),B=B.length&&new RegExp(B.join("|")),P=P.length&&new RegExp(P.join("|")),e=yt.test(O.compareDocumentPosition),j=e||yt.test(O.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},G=e?function(t,e){if(t===e)return L=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!_.sortDetached&&e.compareDocumentPosition(t)===n?t===N||t.ownerDocument===H&&j(H,t)?-1:e===N||e.ownerDocument===H&&j(H,e)?1:D?tt(D,t)-tt(D,e):0:4&n?-1:1)}:function(t,e){if(t===e)return L=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,s=[t],u=[e];if(!i||!o)return t===N?-1:e===N?1:i?-1:o?1:D?tt(D,t)-tt(D,e):0;if(i===o)return a(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;s[r]===u[r];)r++;return r?a(s[r],u[r]):s[r]===H?-1:u[r]===H?1:0},N):N},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==N&&F(t),n=n.replace(ct,"='$1']"),_.matchesSelector&&I&&!Y[n+" "]&&(!P||!P.test(n))&&(!B||!B.test(n)))try{var r=R.call(t,n);if(r||_.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){}return e(n,N,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==N&&F(t),j(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==N&&F(t);var n=k.attrHandle[e.toLowerCase()],r=n&&V.call(k.attrHandle,e.toLowerCase())?n(t,e,!I):void 0;return void 0!==r?r:_.attributes||!I?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.escape=function(t){return(t+"").replace(wt,_t)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,i=0;if(L=!_.detectDuplicates,D=!_.sortStable&&t.slice(0),t.sort(G),L){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return D=null,t},A=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=A(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=A(e);return n},k=e.selectors={cacheLength:50,createPseudo:r,match:dt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(bt,xt),t[3]=(t[3]||t[4]||t[5]||"").replace(bt,xt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return dt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ht.test(n)&&(e=S(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(bt,xt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=z[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&z(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(at," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var l,c,h,f,d,p,g=o!==a?"nextSibling":"previousSibling",y=e.parentNode,v=s&&e.nodeName.toLowerCase(),m=!u&&!s,b=!1;if(y){if(o){for(;g;){for(f=e;f=f[g];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?y.firstChild:y.lastChild],a&&m){for(f=y,h=f[W]||(f[W]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),l=c[t]||[],d=l[0]===$&&l[1],b=d&&l[2],f=d&&y.childNodes[d];f=++d&&f&&f[g]||(b=d=0)||p.pop();)if(1===f.nodeType&&++b&&f===e){c[t]=[$,d,b];break}}else if(m&&(f=e,h=f[W]||(f[W]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),l=c[t]||[],d=l[0]===$&&l[1],b=d),b===!1)for(;(f=++d&&f&&f[g]||(b=d=0)||p.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++b||(m&&(h=f[W]||(f[W]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),c[t]=[$,b]),f!==e)););return b-=i,b===r||b%r===0&&b/r>=0}}},PSEUDO:function(t,n){var i,o=k.pseudos[t]||k.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[W]?o(n):o.length>1?(i=[t,t,"",n],k.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,i=o(t,n),a=i.length;a--;)r=tt(t,i[a]),t[r]=!(e[r]=i[a])}):function(t){return o(t,0,i)}):o}},pseudos:{not:r(function(t){var e=[],n=[],i=E(t.replace(st,"$1"));return i[W]?r(function(t,e,n,r){for(var o,a=i(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return t=t.replace(bt,xt),function(e){return(e.textContent||e.innerText||A(e)).indexOf(t)>-1}}),lang:r(function(t){return ft.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(bt,xt).toLowerCase(),function(e){var n;do if(n=I?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===O},focus:function(t){return t===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:l(!1),disabled:l(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;
return!0},parent:function(t){return!k.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[n<0?n+e:n]}),even:c(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var r=n<0?n+e:n;--r>=0;)t.push(r);return t}),gt:c(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}},k.pseudos.nth=k.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})k.pseudos[w]=u(w);return f.prototype=k.filters=k.pseudos,k.setFilters=new f,S=e.tokenize=function(t,n){var r,i,o,a,s,u,l,c=U[t+" "];if(c)return n?0:c.slice(0);for(s=t,u=[],l=k.preFilter;s;){r&&!(i=ut.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=lt.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(st," ")}),s=s.slice(r.length));for(a in k.filter)!(i=dt[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?e.error(t):U(t,u).slice(0)},E=e.compile=function(t,e){var n,r=[],i=[],o=Y[t+" "];if(!o){for(e||(e=S(t)),n=e.length;n--;)o=b(e[n]),o[W]?r.push(o):i.push(o);o=Y(t,x(i,r)),o.selector=t}return o},T=e.select=function(t,e,n,r){var i,o,a,s,u,l="function"==typeof t&&t,c=!r&&S(t=l.selector||t);if(n=n||[],1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&_.getById&&9===e.nodeType&&I&&k.relative[o[1].type]){if(e=(k.find.ID(a.matches[0].replace(bt,xt),e)||[])[0],!e)return n;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=dt.needsContext.test(t)?0:o.length;i--&&(a=o[i],!k.relative[s=a.type]);)if((u=k.find[s])&&(r=u(a.matches[0].replace(bt,xt),mt.test(o[0].type)&&h(e.parentNode)||e))){if(o.splice(i,1),t=r.length&&d(o),!t)return J.apply(n,r),n;break}}return(l||E(t,c))(r,e,!I,n,!e||mt.test(t)&&h(e.parentNode)||e),n},_.sortStable=W.split("").sort(G).join("")===W,_.detectDuplicates=!!L,F(),_.sortDetached=i(function(t){return 1&t.compareDocumentPosition(N.createElement("fieldset"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),_.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var r;if(!n)return t[e]===!0?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),e}(t);ft.find=vt,ft.expr=vt.selectors,ft.expr[":"]=ft.expr.pseudos,ft.uniqueSort=ft.unique=vt.uniqueSort,ft.text=vt.getText,ft.isXMLDoc=vt.isXML,ft.contains=vt.contains,ft.escapeSelector=vt.escape;var mt=function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&ft(t).is(n))break;r.push(t)}return r},bt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},xt=ft.expr.match.needsContext,wt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,_t=/^.[^:#\[\.,]*$/;ft.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?ft.find.matchesSelector(r,t)?[r]:[]:ft.find.matches(t,ft.grep(e,function(t){return 1===t.nodeType}))},ft.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(ft(t).filter(function(){for(e=0;e<r;e++)if(ft.contains(i[e],this))return!0}));for(n=this.pushStack([]),e=0;e<r;e++)ft.find(t,i[e],n);return r>1?ft.uniqueSort(n):n},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&xt.test(t)?ft(t):t||[],!1).length}});var kt,At=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ct=ft.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||kt,"string"==typeof t){if(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:At.exec(t),!r||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof ft?e[0]:e,ft.merge(this,ft.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:Q,!0)),wt.test(r[1])&&ft.isPlainObject(e))for(r in e)ft.isFunction(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return i=Q.getElementById(r[2]),i&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):ft.isFunction(t)?void 0!==n.ready?n.ready(t):t(ft):ft.makeArray(t,this)};Ct.prototype=ft.fn,kt=ft(Q);var St=/^(?:parents|prev(?:Until|All))/,Et={children:!0,contents:!0,next:!0,prev:!0};ft.fn.extend({has:function(t){var e=ft(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(ft.contains(this,e[t]))return!0})},closest:function(t,e){var n,r=0,i=this.length,o=[],a="string"!=typeof t&&ft(t);if(!xt.test(t))for(;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ft.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?ft.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?it.call(ft(t),this[0]):it.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ft.uniqueSort(ft.merge(this.get(),ft(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ft.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return mt(t,"parentNode")},parentsUntil:function(t,e,n){return mt(t,"parentNode",n)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return mt(t,"nextSibling")},prevAll:function(t){return mt(t,"previousSibling")},nextUntil:function(t,e,n){return mt(t,"nextSibling",n)},prevUntil:function(t,e,n){return mt(t,"previousSibling",n)},siblings:function(t){return bt((t.parentNode||{}).firstChild,t)},children:function(t){return bt(t.firstChild)},contents:function(t){return t.contentDocument||ft.merge([],t.childNodes)}},function(t,e){ft.fn[t]=function(n,r){var i=ft.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=ft.filter(r,i)),this.length>1&&(Et[t]||ft.uniqueSort(i),St.test(t)&&i.reverse()),this.pushStack(i)}});var Tt=/\S+/g;ft.Callbacks=function(t){t="string"==typeof t?a(t):ft.extend({},t);var e,n,r,i,o=[],s=[],u=-1,l=function(){for(i=t.once,r=e=!0;s.length;u=-1)for(n=s.shift();++u<o.length;)o[u].apply(n[0],n[1])===!1&&t.stopOnFalse&&(u=o.length,n=!1);t.memory||(n=!1),e=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!e&&(u=o.length-1,s.push(n)),function e(n){ft.each(n,function(n,r){ft.isFunction(r)?t.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==ft.type(r)&&e(r)})}(arguments),n&&!e&&l()),this},remove:function(){return ft.each(arguments,function(t,e){for(var n;(n=ft.inArray(e,o,n))>-1;)o.splice(n,1),n<=u&&u--}),this},has:function(t){return t?ft.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=s=[],n||e||(o=n=""),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=n||[],n=[t,n.slice?n.slice():n],s.push(n),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},ft.extend({Deferred:function(e){var n=[["notify","progress",ft.Callbacks("memory"),ft.Callbacks("memory"),2],["resolve","done",ft.Callbacks("once memory"),ft.Callbacks("once memory"),0,"resolved"],["reject","fail",ft.Callbacks("once memory"),ft.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return i.then(null,t)},pipe:function(){var t=arguments;return ft.Deferred(function(e){ft.each(n,function(n,r){var i=ft.isFunction(t[r[4]])&&t[r[4]];o[r[1]](function(){var t=i&&i.apply(this,arguments);t&&ft.isFunction(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[r[0]+"With"](this,i?[t]:arguments)})}),t=null}).promise()},then:function(e,r,i){function o(e,n,r,i){return function(){var l=this,c=arguments,h=function(){var t,h;if(!(e<a)){if(t=r.apply(l,c),t===n.promise())throw new TypeError("Thenable self-resolution");h=t&&("object"==typeof t||"function"==typeof t)&&t.then,ft.isFunction(h)?i?h.call(t,o(a,n,s,i),o(a,n,u,i)):(a++,h.call(t,o(a,n,s,i),o(a,n,u,i),o(a,n,s,n.notifyWith))):(r!==s&&(l=void 0,c=[t]),(i||n.resolveWith)(l,c))}},f=i?h:function(){try{h()}catch(t){ft.Deferred.exceptionHook&&ft.Deferred.exceptionHook(t,f.stackTrace),e+1>=a&&(r!==u&&(l=void 0,c=[t]),n.rejectWith(l,c))}};e?f():(ft.Deferred.getStackHook&&(f.stackTrace=ft.Deferred.getStackHook()),t.setTimeout(f))}}var a=0;return ft.Deferred(function(t){n[0][3].add(o(0,t,ft.isFunction(i)?i:s,t.notifyWith)),n[1][3].add(o(0,t,ft.isFunction(e)?e:s)),n[2][3].add(o(0,t,ft.isFunction(r)?r:u))}).promise()},promise:function(t){return null!=t?ft.extend(t,i):i}},o={};return ft.each(n,function(t,e){var a=e[2],s=e[5];i[e[1]]=a.add,s&&a.add(function(){r=s},n[3-t][2].disable,n[0][2].lock),a.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=a.fireWith}),i.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,n=e,r=Array(n),i=et.call(arguments),o=ft.Deferred(),a=function(t){return function(n){r[t]=this,i[t]=arguments.length>1?et.call(arguments):n,--e||o.resolveWith(r,i)}};if(e<=1&&(l(t,o.done(a(n)).resolve,o.reject),"pending"===o.state()||ft.isFunction(i[n]&&i[n].then)))return o.then();for(;n--;)l(i[n],a(n),o.reject);return o.promise()}});var Mt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ft.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&Mt.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)},ft.readyException=function(e){t.setTimeout(function(){throw e})};var Dt=ft.Deferred();ft.fn.ready=function(t){return Dt.then(t).catch(function(t){ft.readyException(t)}),this},ft.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ft.readyWait++:ft.ready(!0)},ready:function(t){(t===!0?--ft.readyWait:ft.isReady)||(ft.isReady=!0,t!==!0&&--ft.readyWait>0||Dt.resolveWith(Q,[ft]))}}),ft.ready.then=Dt.then,"complete"===Q.readyState||"loading"!==Q.readyState&&!Q.documentElement.doScroll?t.setTimeout(ft.ready):(Q.addEventListener("DOMContentLoaded",c),t.addEventListener("load",c));var Lt=function(t,e,n,r,i,o,a){var s=0,u=t.length,l=null==n;if("object"===ft.type(n)){i=!0;for(s in n)Lt(t,e,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,ft.isFunction(r)||(a=!0),l&&(a?(e.call(t,r),e=null):(l=e,e=function(t,e,n){return l.call(ft(t),n)})),e))for(;s<u;s++)e(t[s],n,a?r:r.call(t[s],s,e(t[s],n)));return i?t:l?e.call(t):u?e(t[0],n):o},Ft=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};h.uid=1,h.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Ft(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[ft.camelCase(e)]=n;else for(r in e)i[ft.camelCase(r)]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][ft.camelCase(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){ft.isArray(e)?e=e.map(ft.camelCase):(e=ft.camelCase(e),e=e in r?[e]:e.match(Tt)||[]),n=e.length;for(;n--;)delete r[e[n]]}(void 0===e||ft.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!ft.isEmptyObject(e)}};var Nt=new h,Ot=new h,It=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Bt=/[A-Z]/g;ft.extend({hasData:function(t){return Ot.hasData(t)||Nt.hasData(t)},data:function(t,e,n){return Ot.access(t,e,n)},removeData:function(t,e){Ot.remove(t,e)},_data:function(t,e,n){return Nt.access(t,e,n)},_removeData:function(t,e){Nt.remove(t,e)}}),ft.fn.extend({data:function(t,e){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(i=Ot.get(o),1===o.nodeType&&!Nt.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=ft.camelCase(r.slice(5)),f(o,r,i[r])));Nt.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){Ot.set(this,t)}):Lt(this,function(e){var n;if(o&&void 0===e){if(n=Ot.get(o,t),void 0!==n)return n;if(n=f(o,t),void 0!==n)return n}else this.each(function(){Ot.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Ot.remove(this,t)})}}),ft.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=Nt.get(t,e),n&&(!r||ft.isArray(n)?r=Nt.access(t,e,ft.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=ft.queue(t,e),r=n.length,i=n.shift(),o=ft._queueHooks(t,e),a=function(){ft.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Nt.get(t,n)||Nt.access(t,n,{empty:ft.Callbacks("once memory").add(function(){Nt.remove(t,[e+"queue",n])})})}}),ft.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?ft.queue(this[0],t):void 0===e?this:this.each(function(){var n=ft.queue(this,t,e);ft._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&ft.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ft.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=ft.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)n=Nt.get(o[a],t+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(e)}});var Pt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Rt=new RegExp("^(?:([+-])=|)("+Pt+")([a-z%]*)$","i"),jt=["Top","Right","Bottom","Left"],Wt=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&ft.contains(t.ownerDocument,t)&&"none"===ft.css(t,"display")},Ht=function(t,e,n,r){var i,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];i=n.apply(t,r||[]);for(o in e)t.style[o]=a[o];return i},$t={};ft.fn.extend({show:function(){return g(this,!0)},hide:function(){return g(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Wt(this)?ft(this).show():ft(this).hide()})}});var qt=/^(?:checkbox|radio)$/i,zt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ut=/^$|\/(?:java|ecma)script/i,Yt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Yt.optgroup=Yt.option,Yt.tbody=Yt.tfoot=Yt.colgroup=Yt.caption=Yt.thead,Yt.th=Yt.td;var Gt=/<|&#?\w+;/;!function(){var t=Q.createDocumentFragment(),e=t.appendChild(Q.createElement("div")),n=Q.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),ct.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",ct.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Vt=Q.documentElement,Xt=/^key/,Kt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Zt=/^([^.]*)(?:\.(.+)|)/;ft.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,h,f,d,p,g,y=Nt.get(t);if(y)for(n.handler&&(o=n,n=o.handler,i=o.selector),i&&ft.find.matchesSelector(Vt,i),n.guid||(n.guid=ft.guid++),(u=y.events)||(u=y.events={}),(a=y.handle)||(a=y.handle=function(e){return"undefined"!=typeof ft&&ft.event.triggered!==e.type?ft.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Tt)||[""],l=e.length;l--;)s=Zt.exec(e[l])||[],d=g=s[1],p=(s[2]||"").split(".").sort(),d&&(h=ft.event.special[d]||{},d=(i?h.delegateType:h.bindType)||d,h=ft.event.special[d]||{},c=ft.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ft.expr.match.needsContext.test(i),namespace:p.join(".")},o),(f=u[d])||(f=u[d]=[],f.delegateCount=0,h.setup&&h.setup.call(t,r,p,a)!==!1||t.addEventListener&&t.addEventListener(d,a)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,c):f.push(c),ft.event.global[d]=!0)},remove:function(t,e,n,r,i){var o,a,s,u,l,c,h,f,d,p,g,y=Nt.hasData(t)&&Nt.get(t);if(y&&(u=y.events)){for(e=(e||"").match(Tt)||[""],l=e.length;l--;)if(s=Zt.exec(e[l])||[],d=g=s[1],p=(s[2]||"").split(".").sort(),d){for(h=ft.event.special[d]||{},d=(r?h.delegateType:h.bindType)||d,f=u[d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)c=f[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,h.remove&&h.remove.call(t,c));a&&!f.length&&(h.teardown&&h.teardown.call(t,p,y.handle)!==!1||ft.removeEvent(t,d,y.handle),delete u[d])}else for(d in u)ft.event.remove(t,d+e[l],n,r,!0);ft.isEmptyObject(u)&&Nt.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,o,a,s=ft.event.fix(t),u=new Array(arguments.length),l=(Nt.get(this,"events")||{})[s.type]||[],c=ft.event.special[s.type]||{};for(u[0]=s,e=1;e<arguments.length;e++)u[e]=arguments[e];if(s.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,s)!==!1){for(a=ft.event.handlers.call(this,s,l),e=0;(i=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,r=((ft.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u),void 0!==r&&(s.result=r)===!1&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,r,i,o,a=[],s=e.delegateCount,u=t.target;if(s&&u.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==t.type)){for(r=[],n=0;n<s;n++)o=e[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?ft(i,this).index(u)>-1:ft.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&a.push({elem:u,handlers:r})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},addProp:function(t,e){Object.defineProperty(ft.Event.prototype,t,{enumerable:!0,configurable:!0,get:ft.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[ft.expando]?t:new ft.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==w()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===w()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&ft.nodeName(this,"input"))return this.click(),!1},_default:function(t){return ft.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},ft.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},ft.Event=function(t,e){return this instanceof ft.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?b:x,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&ft.extend(this,e),this.timeStamp=t&&t.timeStamp||ft.now(),void(this[ft.expando]=!0)):new ft.Event(t,e)},ft.Event.prototype={constructor:ft.Event,isDefaultPrevented:x,isPropagationStopped:x,isImmediatePropagationStopped:x,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=b,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=b,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=b,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},ft.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Xt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Kt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},ft.event.addProp),ft.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ft.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return i&&(i===r||ft.contains(r,i))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),ft.fn.extend({on:function(t,e,n,r){return _(this,t,e,n,r)},one:function(t,e,n,r){return _(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,ft(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=void 0),n===!1&&(n=x),this.each(function(){ft.event.remove(this,t,n,e)})}});var Jt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Qt=/<script|<style|<link/i,te=/checked\s*(?:[^=]|=\s*.checked.)/i,ee=/^true\/(.*)/,ne=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ft.extend({htmlPrefilter:function(t){return t.replace(Jt,"<$1></$2>")},clone:function(t,e,n){var r,i,o,a,s=t.cloneNode(!0),u=ft.contains(t.ownerDocument,t);if(!(ct.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ft.isXMLDoc(t)))for(a=y(s),o=y(t),r=0,i=o.length;r<i;r++)E(o[r],a[r]);if(e)if(n)for(o=o||y(t),a=a||y(s),r=0,i=o.length;r<i;r++)S(o[r],a[r]);else S(t,s);return a=y(s,"script"),a.length>0&&v(a,!u&&y(t,"script")),s},cleanData:function(t){for(var e,n,r,i=ft.event.special,o=0;void 0!==(n=t[o]);o++)if(Ft(n)){if(e=n[Nt.expando]){if(e.events)for(r in e.events)i[r]?ft.event.remove(n,r):ft.removeEvent(n,r,e.handle);n[Nt.expando]=void 0}n[Ot.expando]&&(n[Ot.expando]=void 0)}}}),ft.fn.extend({detach:function(t){return M(this,t,!0)},remove:function(t){return M(this,t)},text:function(t){return Lt(this,function(t){return void 0===t?ft.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return T(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=k(this,t);e.appendChild(t)}})},prepend:function(){return T(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=k(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return T(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return T(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(ft.cleanData(y(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return ft.clone(this,t,e)})},html:function(t){return Lt(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Qt.test(t)&&!Yt[(zt.exec(t)||["",""])[1].toLowerCase()]){t=ft.htmlPrefilter(t);try{for(;n<r;n++)e=this[n]||{},1===e.nodeType&&(ft.cleanData(y(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return T(this,arguments,function(e){var n=this.parentNode;ft.inArray(this,t)<0&&(ft.cleanData(y(this)),n&&n.replaceChild(e,this))},t)}}),ft.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ft.fn[t]=function(t){for(var n,r=[],i=ft(t),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),ft(i[a])[e](n),rt.apply(r,n.get());return this.pushStack(r)}});var re=/^margin/,ie=new RegExp("^("+Pt+")(?!px)[a-z%]+$","i"),oe=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)};!function(){function e(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Vt.appendChild(a);var e=t.getComputedStyle(s);n="1%"!==e.top,o="2px"===e.marginLeft,r="4px"===e.width,s.style.marginRight="50%",i="4px"===e.marginRight,Vt.removeChild(a),s=null}}var n,r,i,o,a=Q.createElement("div"),s=Q.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",ct.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),ft.extend(ct,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return e(),r},pixelMarginRight:function(){return e(),i},reliableMarginLeft:function(){return e(),o}}))}();var ae=/^(none|table(?!-c[ea]).+)/,se={position:"absolute",visibility:"hidden",display:"block"},ue={letterSpacing:"0",fontWeight:"400"},le=["Webkit","Moz","ms"],ce=Q.createElement("div").style;ft.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=D(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,a,s=ft.camelCase(e),u=t.style;return e=ft.cssProps[s]||(ft.cssProps[s]=F(s)||s),a=ft.cssHooks[e]||ft.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(t,!1,r))?i:u[e]:(o=typeof n,"string"===o&&(i=Rt.exec(n))&&i[1]&&(n=d(t,e,i),o="number"),void(null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(ft.cssNumber[s]?"":"px")),ct.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,r))||(u[e]=n))))}},css:function(t,e,n,r){var i,o,a,s=ft.camelCase(e);return e=ft.cssProps[s]||(ft.cssProps[s]=F(s)||s),a=ft.cssHooks[e]||ft.cssHooks[s],a&&"get"in a&&(i=a.get(t,!0,n)),void 0===i&&(i=D(t,e,r)),"normal"===i&&e in ue&&(i=ue[e]),""===n||n?(o=parseFloat(i),n===!0||isFinite(o)?o||0:i):i}}),ft.each(["height","width"],function(t,e){ft.cssHooks[e]={get:function(t,n,r){if(n)return!ae.test(ft.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?I(t,e,r):Ht(t,se,function(){return I(t,e,r)})},set:function(t,n,r){var i,o=r&&oe(t),a=r&&O(t,e,r,"border-box"===ft.css(t,"boxSizing",!1,o),o);return a&&(i=Rt.exec(n))&&"px"!==(i[3]||"px")&&(t.style[e]=n,n=ft.css(t,e)),N(t,n,a)}}}),ft.cssHooks.marginLeft=L(ct.reliableMarginLeft,function(t,e){if(e)return(parseFloat(D(t,"marginLeft"))||t.getBoundingClientRect().left-Ht(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),ft.each({margin:"",padding:"",border:"Width"},function(t,e){ft.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[t+jt[r]+e]=o[r]||o[r-2]||o[0];return i}},re.test(t)||(ft.cssHooks[t+e].set=N)}),ft.fn.extend({css:function(t,e){return Lt(this,function(t,e,n){var r,i,o={},a=0;if(ft.isArray(e)){for(r=oe(t),i=e.length;a<i;a++)o[e[a]]=ft.css(t,e[a],!1,r);return o}return void 0!==n?ft.style(t,e,n):ft.css(t,e)},t,e,arguments.length>1)}}),ft.Tween=B,B.prototype={constructor:B,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||ft.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ft.cssNumber[n]?"":"px")},cur:function(){var t=B.propHooks[this.prop];return t&&t.get?t.get(this):B.propHooks._default.get(this)},run:function(t){var e,n=B.propHooks[this.prop];return this.options.duration?this.pos=e=ft.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):B.propHooks._default.set(this),this}},B.prototype.init.prototype=B.prototype,B.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ft.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){ft.fx.step[t.prop]?ft.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ft.cssProps[t.prop]]&&!ft.cssHooks[t.prop]?t.elem[t.prop]=t.now:ft.style(t.elem,t.prop,t.now+t.unit)}}},B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ft.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ft.fx=B.prototype.init,ft.fx.step={};var he,fe,de=/^(?:toggle|show|hide)$/,pe=/queueHooks$/;ft.Animation=ft.extend(q,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return d(n.elem,t,Rt.exec(e),n),n}]},tweener:function(t,e){ft.isFunction(t)?(e=t,t=["*"]):t=t.match(Tt);for(var n,r=0,i=t.length;r<i;r++)n=t[r],q.tweeners[n]=q.tweeners[n]||[],q.tweeners[n].unshift(e)},prefilters:[H],prefilter:function(t,e){e?q.prefilters.unshift(t):q.prefilters.push(t)}}),ft.speed=function(t,e,n){var r=t&&"object"==typeof t?ft.extend({},t):{complete:n||!n&&e||ft.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ft.isFunction(e)&&e};return ft.fx.off||Q.hidden?r.duration=0:r.duration="number"==typeof r.duration?r.duration:r.duration in ft.fx.speeds?ft.fx.speeds[r.duration]:ft.fx.speeds._default,null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){ft.isFunction(r.old)&&r.old.call(this),r.queue&&ft.dequeue(this,r.queue)},r},ft.fn.extend({fadeTo:function(t,e,n,r){return this.filter(Wt).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=ft.isEmptyObject(t),o=ft.speed(e,n,r),a=function(){var e=q(this,ft.extend({},t),o);(i||Nt.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=ft.timers,a=Nt.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&pe.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));!e&&n||ft.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=Nt.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=ft.timers,a=r?r.length:0;for(n.finish=!0,ft.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)r[e]&&r[e].finish&&r[e].finish.call(this);
delete n.finish})}}),ft.each(["toggle","show","hide"],function(t,e){var n=ft.fn[e];ft.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(j(e,!0),t,r,i)}}),ft.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ft.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),ft.timers=[],ft.fx.tick=function(){var t,e=0,n=ft.timers;for(he=ft.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||ft.fx.stop(),he=void 0},ft.fx.timer=function(t){ft.timers.push(t),t()?ft.fx.start():ft.timers.pop()},ft.fx.interval=13,ft.fx.start=function(){fe||(fe=t.requestAnimationFrame?t.requestAnimationFrame(P):t.setInterval(ft.fx.tick,ft.fx.interval))},ft.fx.stop=function(){t.cancelAnimationFrame?t.cancelAnimationFrame(fe):t.clearInterval(fe),fe=null},ft.fx.speeds={slow:600,fast:200,_default:400},ft.fn.delay=function(e,n){return e=ft.fx?ft.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,r){var i=t.setTimeout(n,e);r.stop=function(){t.clearTimeout(i)}})},function(){var t=Q.createElement("input"),e=Q.createElement("select"),n=e.appendChild(Q.createElement("option"));t.type="checkbox",ct.checkOn=""!==t.value,ct.optSelected=n.selected,t=Q.createElement("input"),t.value="t",t.type="radio",ct.radioValue="t"===t.value}();var ge,ye=ft.expr.attrHandle;ft.fn.extend({attr:function(t,e){return Lt(this,ft.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ft.removeAttr(this,t)})}}),ft.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?ft.prop(t,e,n):(1===o&&ft.isXMLDoc(t)||(i=ft.attrHooks[e.toLowerCase()]||(ft.expr.match.bool.test(e)?ge:void 0)),void 0!==n?null===n?void ft.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:(r=ft.find.attr(t,e),null==r?void 0:r))},attrHooks:{type:{set:function(t,e){if(!ct.radioValue&&"radio"===e&&ft.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(Tt);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),ge={set:function(t,e,n){return e===!1?ft.removeAttr(t,n):t.setAttribute(n,n),n}},ft.each(ft.expr.match.bool.source.match(/\w+/g),function(t,e){var n=ye[e]||ft.find.attr;ye[e]=function(t,e,r){var i,o,a=e.toLowerCase();return r||(o=ye[a],ye[a]=i,i=null!=n(t,e,r)?a:null,ye[a]=o),i}});var ve=/^(?:input|select|textarea|button)$/i,me=/^(?:a|area)$/i;ft.fn.extend({prop:function(t,e){return Lt(this,ft.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[ft.propFix[t]||t]})}}),ft.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ft.isXMLDoc(t)||(e=ft.propFix[e]||e,i=ft.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=ft.find.attr(t,"tabindex");return e?parseInt(e,10):ve.test(t.nodeName)||me.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ct.optSelected||(ft.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ft.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ft.propFix[this.toLowerCase()]=this});var be=/[\t\r\n\f]/g;ft.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(ft.isFunction(t))return this.each(function(e){ft(this).addClass(t.call(this,e,z(this)))});if("string"==typeof t&&t)for(e=t.match(Tt)||[];n=this[u++];)if(i=z(n),r=1===n.nodeType&&(" "+i+" ").replace(be," ")){for(a=0;o=e[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");s=ft.trim(r),i!==s&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(ft.isFunction(t))return this.each(function(e){ft(this).removeClass(t.call(this,e,z(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Tt)||[];n=this[u++];)if(i=z(n),r=1===n.nodeType&&(" "+i+" ").replace(be," ")){for(a=0;o=e[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");s=ft.trim(r),i!==s&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):ft.isFunction(t)?this.each(function(n){ft(this).toggleClass(t.call(this,n,z(this),e),e)}):this.each(function(){var e,r,i,o;if("string"===n)for(r=0,i=ft(this),o=t.match(Tt)||[];e=o[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else void 0!==t&&"boolean"!==n||(e=z(this),e&&Nt.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":Nt.get(this,"__className__")||""))})},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+z(n)+" ").replace(be," ").indexOf(e)>-1)return!0;return!1}});var xe=/\r/g,we=/[\x20\t\r\n\f]+/g;ft.fn.extend({val:function(t){var e,n,r,i=this[0];return arguments.length?(r=ft.isFunction(t),this.each(function(n){var i;1===this.nodeType&&(i=r?t.call(this,n,ft(this).val()):t,null==i?i="":"number"==typeof i?i+="":ft.isArray(i)&&(i=ft.map(i,function(t){return null==t?"":t+""})),e=ft.valHooks[this.type]||ft.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))})):i?(e=ft.valHooks[i.type]||ft.valHooks[i.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(xe,""):null==n?"":n)):void 0}}),ft.extend({valHooks:{option:{get:function(t){var e=ft.find.attr(t,"value");return null!=e?e:ft.trim(ft.text(t)).replace(we," ")}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,o="select-one"===t.type,a=o?null:[],s=o?i+1:r.length,u=i<0?s:o?i:0;u<s;u++)if(n=r[u],(n.selected||u===i)&&!n.disabled&&(!n.parentNode.disabled||!ft.nodeName(n.parentNode,"optgroup"))){if(e=ft(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,r,i=t.options,o=ft.makeArray(e),a=i.length;a--;)r=i[a],(r.selected=ft.inArray(ft.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),ft.each(["radio","checkbox"],function(){ft.valHooks[this]={set:function(t,e){if(ft.isArray(e))return t.checked=ft.inArray(ft(t).val(),e)>-1}},ct.checkOn||(ft.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var _e=/^(?:focusinfocus|focusoutblur)$/;ft.extend(ft.event,{trigger:function(e,n,r,i){var o,a,s,u,l,c,h,f=[r||Q],d=st.call(e,"type")?e.type:e,p=st.call(e,"namespace")?e.namespace.split("."):[];if(a=s=r=r||Q,3!==r.nodeType&&8!==r.nodeType&&!_e.test(d+ft.event.triggered)&&(d.indexOf(".")>-1&&(p=d.split("."),d=p.shift(),p.sort()),l=d.indexOf(":")<0&&"on"+d,e=e[ft.expando]?e:new ft.Event(d,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:ft.makeArray(n,[e]),h=ft.event.special[d]||{},i||!h.trigger||h.trigger.apply(r,n)!==!1)){if(!i&&!h.noBubble&&!ft.isWindow(r)){for(u=h.delegateType||d,_e.test(u+d)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(r.ownerDocument||Q)&&f.push(s.defaultView||s.parentWindow||t)}for(o=0;(a=f[o++])&&!e.isPropagationStopped();)e.type=o>1?u:h.bindType||d,c=(Nt.get(a,"events")||{})[e.type]&&Nt.get(a,"handle"),c&&c.apply(a,n),c=l&&a[l],c&&c.apply&&Ft(a)&&(e.result=c.apply(a,n),e.result===!1&&e.preventDefault());return e.type=d,i||e.isDefaultPrevented()||h._default&&h._default.apply(f.pop(),n)!==!1||!Ft(r)||l&&ft.isFunction(r[d])&&!ft.isWindow(r)&&(s=r[l],s&&(r[l]=null),ft.event.triggered=d,r[d](),ft.event.triggered=void 0,s&&(r[l]=s)),e.result}},simulate:function(t,e,n){var r=ft.extend(new ft.Event,n,{type:t,isSimulated:!0});ft.event.trigger(r,null,e)}}),ft.fn.extend({trigger:function(t,e){return this.each(function(){ft.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return ft.event.trigger(t,e,n,!0)}}),ft.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){ft.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),ft.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),ct.focusin="onfocusin"in t,ct.focusin||ft.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){ft.event.simulate(e,t.target,ft.event.fix(t))};ft.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=Nt.access(r,e);i||r.addEventListener(t,n,!0),Nt.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Nt.access(r,e)-1;i?Nt.access(r,e,i):(r.removeEventListener(t,n,!0),Nt.remove(r,e))}}});var ke=t.location,Ae=ft.now(),Ce=/\?/;ft.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||ft.error("Invalid XML: "+e),n};var Se=/\[\]$/,Ee=/\r?\n/g,Te=/^(?:submit|button|image|reset|file)$/i,Me=/^(?:input|select|textarea|keygen)/i;ft.param=function(t,e){var n,r=[],i=function(t,e){var n=ft.isFunction(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(ft.isArray(t)||t.jquery&&!ft.isPlainObject(t))ft.each(t,function(){i(this.name,this.value)});else for(n in t)U(n,t[n],e,i);return r.join("&")},ft.fn.extend({serialize:function(){return ft.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ft.prop(this,"elements");return t?ft.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ft(this).is(":disabled")&&Me.test(this.nodeName)&&!Te.test(t)&&(this.checked||!qt.test(t))}).map(function(t,e){var n=ft(this).val();return null==n?null:ft.isArray(n)?ft.map(n,function(t){return{name:e.name,value:t.replace(Ee,"\r\n")}}):{name:e.name,value:n.replace(Ee,"\r\n")}}).get()}});var De=/%20/g,Le=/#.*$/,Fe=/([?&])_=[^&]*/,Ne=/^(.*?):[ \t]*([^\r\n]*)$/gm,Oe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ie=/^(?:GET|HEAD)$/,Be=/^\/\//,Pe={},Re={},je="*/".concat("*"),We=Q.createElement("a");We.href=ke.href,ft.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ke.href,type:"GET",isLocal:Oe.test(ke.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":je,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ft.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?V(V(t,ft.ajaxSettings),e):V(ft.ajaxSettings,t)},ajaxPrefilter:Y(Pe),ajaxTransport:Y(Re),ajax:function(e,n){function r(e,n,r,s){var l,f,d,x,w,_=n;c||(c=!0,u&&t.clearTimeout(u),i=void 0,a=s||"",k.readyState=e>0?4:0,l=e>=200&&e<300||304===e,r&&(x=X(p,k,r)),x=K(p,x,k,l),l?(p.ifModified&&(w=k.getResponseHeader("Last-Modified"),w&&(ft.lastModified[o]=w),w=k.getResponseHeader("etag"),w&&(ft.etag[o]=w)),204===e||"HEAD"===p.type?_="nocontent":304===e?_="notmodified":(_=x.state,f=x.data,d=x.error,l=!d)):(d=_,!e&&_||(_="error",e<0&&(e=0))),k.status=e,k.statusText=(n||_)+"",l?v.resolveWith(g,[f,_,k]):v.rejectWith(g,[k,_,d]),k.statusCode(b),b=void 0,h&&y.trigger(l?"ajaxSuccess":"ajaxError",[k,p,l?f:d]),m.fireWith(g,[k,_]),h&&(y.trigger("ajaxComplete",[k,p]),--ft.active||ft.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var i,o,a,s,u,l,c,h,f,d,p=ft.ajaxSetup({},n),g=p.context||p,y=p.context&&(g.nodeType||g.jquery)?ft(g):ft.event,v=ft.Deferred(),m=ft.Callbacks("once memory"),b=p.statusCode||{},x={},w={},_="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(c){if(!s)for(s={};e=Ne.exec(a);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(t,e){return null==c&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,x[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)k.always(t[k.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||_;return i&&i.abort(e),r(0,e),this}};if(v.promise(k),p.url=((e||p.url||ke.href)+"").replace(Be,ke.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(Tt)||[""],null==p.crossDomain){l=Q.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=We.protocol+"//"+We.host!=l.protocol+"//"+l.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=ft.param(p.data,p.traditional)),G(Pe,p,n,k),c)return k;h=ft.event&&p.global,h&&0===ft.active++&&ft.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ie.test(p.type),o=p.url.replace(Le,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(De,"+")):(d=p.url.slice(o.length),p.data&&(o+=(Ce.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(o=o.replace(Fe,""),d=(Ce.test(o)?"&":"?")+"_="+Ae++ +d),p.url=o+d),p.ifModified&&(ft.lastModified[o]&&k.setRequestHeader("If-Modified-Since",ft.lastModified[o]),ft.etag[o]&&k.setRequestHeader("If-None-Match",ft.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&k.setRequestHeader("Content-Type",p.contentType),k.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+je+"; q=0.01":""):p.accepts["*"]);for(f in p.headers)k.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(p.beforeSend.call(g,k,p)===!1||c))return k.abort();if(_="abort",m.add(p.complete),k.done(p.success),k.fail(p.error),i=G(Re,p,n,k)){if(k.readyState=1,h&&y.trigger("ajaxSend",[k,p]),c)return k;p.async&&p.timeout>0&&(u=t.setTimeout(function(){k.abort("timeout")},p.timeout));try{c=!1,i.send(x,r)}catch(t){if(c)throw t;r(-1,t)}}else r(-1,"No Transport");return k},getJSON:function(t,e,n){return ft.get(t,e,n,"json")},getScript:function(t,e){return ft.get(t,void 0,e,"script")}}),ft.each(["get","post"],function(t,e){ft[e]=function(t,n,r,i){return ft.isFunction(n)&&(i=i||r,r=n,n=void 0),ft.ajax(ft.extend({url:t,type:e,dataType:i,data:n,success:r},ft.isPlainObject(t)&&t))}}),ft._evalUrl=function(t){return ft.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},ft.fn.extend({wrapAll:function(t){var e;return this[0]&&(ft.isFunction(t)&&(t=t.call(this[0])),e=ft(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return ft.isFunction(t)?this.each(function(e){ft(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ft(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=ft.isFunction(t);return this.each(function(n){ft(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){ft(this).replaceWith(this.childNodes)}),this}}),ft.expr.pseudos.hidden=function(t){return!ft.expr.pseudos.visible(t)},ft.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},ft.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var He={0:200,1223:204},$e=ft.ajaxSettings.xhr();ct.cors=!!$e&&"withCredentials"in $e,ct.ajax=$e=!!$e,ft.ajaxTransport(function(e){var n,r;if(ct.cors||$e&&!e.crossDomain)return{send:function(i,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);n=function(t){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(He[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&t.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(e.hasContent&&e.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}}),ft.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),ft.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ft.globalEval(t),t}}}),ft.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),ft.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,i){e=ft("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),Q.head.appendChild(e[0])},abort:function(){n&&n()}}}});var qe=[],ze=/(=)\?(?=&|$)|\?\?/;ft.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=qe.pop()||ft.expando+"_"+Ae++;return this[t]=!0,t}}),ft.ajaxPrefilter("json jsonp",function(e,n,r){var i,o,a,s=e.jsonp!==!1&&(ze.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&ze.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=ft.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(ze,"$1"+i):e.jsonp!==!1&&(e.url+=(Ce.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||ft.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=t[i],t[i]=function(){a=arguments},r.always(function(){void 0===o?ft(t).removeProp(i):t[i]=o,e[i]&&(e.jsonpCallback=n.jsonpCallback,qe.push(i)),a&&ft.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),ct.createHTMLDocument=function(){var t=Q.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),ft.parseHTML=function(t,e,n){if("string"!=typeof t)return[];"boolean"==typeof e&&(n=e,e=!1);var r,i,o;return e||(ct.createHTMLDocument?(e=Q.implementation.createHTMLDocument(""),r=e.createElement("base"),r.href=Q.location.href,e.head.appendChild(r)):e=Q),i=wt.exec(t),o=!n&&[],i?[e.createElement(i[1])]:(i=m([t],e,o),o&&o.length&&ft(o).remove(),ft.merge([],i.childNodes))},ft.fn.load=function(t,e,n){var r,i,o,a=this,s=t.indexOf(" ");return s>-1&&(r=ft.trim(t.slice(s)),t=t.slice(0,s)),ft.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),a.length>0&&ft.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(r?ft("<div>").append(ft.parseHTML(t)).find(r):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},ft.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ft.fn[e]=function(t){return this.on(e,t)}}),ft.expr.pseudos.animated=function(t){return ft.grep(ft.timers,function(e){return t===e.elem}).length},ft.offset={setOffset:function(t,e,n){var r,i,o,a,s,u,l,c=ft.css(t,"position"),h=ft(t),f={};"static"===c&&(t.style.position="relative"),s=h.offset(),o=ft.css(t,"top"),u=ft.css(t,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=h.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),ft.isFunction(e)&&(e=e.call(t,n,ft.extend({},s))),null!=e.top&&(f.top=e.top-s.top+a),null!=e.left&&(f.left=e.left-s.left+i),"using"in e?e.using.call(t,f):h.css(f)}},ft.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ft.offset.setOffset(this,t,e)});var e,n,r,i,o=this[0];return o?o.getClientRects().length?(r=o.getBoundingClientRect(),r.width||r.height?(i=o.ownerDocument,n=Z(i),e=i.documentElement,{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===ft.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ft.nodeName(t[0],"html")||(r=t.offset()),r={top:r.top+ft.css(t[0],"borderTopWidth",!0),left:r.left+ft.css(t[0],"borderLeftWidth",!0)}),{top:e.top-r.top-ft.css(n,"marginTop",!0),left:e.left-r.left-ft.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===ft.css(t,"position");)t=t.offsetParent;return t||Vt})}}),ft.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;ft.fn[t]=function(r){return Lt(this,function(t,r,i){var o=Z(t);return void 0===i?o?o[e]:t[r]:void(o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):t[r]=i)},t,r,arguments.length)}}),ft.each(["top","left"],function(t,e){ft.cssHooks[e]=L(ct.pixelPosition,function(t,n){if(n)return n=D(t,e),ie.test(n)?ft(t).position()[e]+"px":n})}),ft.each({Height:"height",Width:"width"},function(t,e){ft.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){ft.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||o===!0?"margin":"border");return Lt(this,function(e,n,i){var o;return ft.isWindow(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?ft.css(e,n,s):ft.style(e,n,i,s)},e,a?i:void 0,a)}})}),ft.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),ft.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ft});var Ue=t.jQuery,Ye=t.$;return ft.noConflict=function(e){return t.$===ft&&(t.$=Ye),e&&t.jQuery===ft&&(t.jQuery=Ue),ft},e||(t.jQuery=t.$=ft),ft}),!function(t){"object"==typeof module&&"object"==typeof module.exports?t(require("jquery"),window,document):t(jQuery,window,document)}(function(t,e,n,r){var i=[],o=function(){return i.length?i[i.length-1]:null},a=function(){var t,e=!1;for(t=i.length-1;t>=0;t--)i[t].$blocker&&(i[t].$blocker.toggleClass("current",!e).toggleClass("behind",e),e=!0)};t.modal=function(e,n){var r,a;if(this.$body=t("body"),this.options=t.extend({},t.modal.defaults,n),this.options.doFade=!isNaN(parseInt(this.options.fadeDuration,10)),this.$blocker=null,this.options.closeExisting)for(;t.modal.isActive();)t.modal.close();if(i.push(this),e.is("a"))if(a=e.attr("href"),/^#/.test(a)){if(this.$elm=t(a),1!==this.$elm.length)return null;this.$body.append(this.$elm),this.open()}else this.$elm=t("<div>"),this.$body.append(this.$elm),r=function(t,e){e.elm.remove()},this.showSpinner(),e.trigger(t.modal.AJAX_SEND),t.get(a).done(function(n){if(t.modal.isActive()){e.trigger(t.modal.AJAX_SUCCESS);var i=o();i.$elm.empty().append(n).on(t.modal.CLOSE,r),i.hideSpinner(),i.open(),e.trigger(t.modal.AJAX_COMPLETE)}}).fail(function(){e.trigger(t.modal.AJAX_FAIL);var n=o();n.hideSpinner(),i.pop(),e.trigger(t.modal.AJAX_COMPLETE)});else this.$elm=e,this.$body.append(this.$elm),this.open()},t.modal.prototype={constructor:t.modal,open:function(){var e=this;this.block(),this.options.doFade?setTimeout(function(){e.show()},this.options.fadeDuration*this.options.fadeDelay):this.show(),t(n).off("keydown.modal").on("keydown.modal",function(t){var e=o();27==t.which&&e.options.escapeClose&&e.close()}),this.options.clickClose&&this.$blocker.click(function(e){e.target==this&&t.modal.close()})},close:function(){i.pop(),this.unblock(),this.hide(),t.modal.isActive()||t(n).off("keydown.modal")},block:function(){this.$elm.trigger(t.modal.BEFORE_BLOCK,[this._ctx()]),this.$body.css("overflow","hidden"),this.$blocker=t('<div class="jquery-modal blocker current"></div>').appendTo(this.$body),a(),this.options.doFade&&this.$blocker.css("opacity",0).animate({opacity:1},this.options.fadeDuration),this.$elm.trigger(t.modal.BLOCK,[this._ctx()])},unblock:function(e){!e&&this.options.doFade?this.$blocker.fadeOut(this.options.fadeDuration,this.unblock.bind(this,!0)):(this.$blocker.children().appendTo(this.$body),this.$blocker.remove(),this.$blocker=null,a(),t.modal.isActive()||this.$body.css("overflow",""))},show:function(){this.$elm.trigger(t.modal.BEFORE_OPEN,[this._ctx()]),this.options.showClose&&(this.closeButton=t('<a href="#close-modal" rel="modal:close" class="close-modal '+this.options.closeClass+'">'+this.options.closeText+"</a>"),this.$elm.append(this.closeButton)),this.$elm.addClass(this.options.modalClass).appendTo(this.$blocker),this.options.doFade?this.$elm.css("opacity",0).show().animate({opacity:1},this.options.fadeDuration):this.$elm.show(),this.$elm.trigger(t.modal.OPEN,[this._ctx()])},hide:function(){this.$elm.trigger(t.modal.BEFORE_CLOSE,[this._ctx()]),this.closeButton&&this.closeButton.remove();var e=this;this.options.doFade?this.$elm.fadeOut(this.options.fadeDuration,function(){e.$elm.trigger(t.modal.AFTER_CLOSE,[e._ctx()])}):this.$elm.hide(0,function(){e.$elm.trigger(t.modal.AFTER_CLOSE,[e._ctx()])}),this.$elm.trigger(t.modal.CLOSE,[this._ctx()])},showSpinner:function(){this.options.showSpinner&&(this.spinner=this.spinner||t('<div class="'+this.options.modalClass+'-spinner"></div>').append(this.options.spinnerHtml),this.$body.append(this.spinner),this.spinner.show())},hideSpinner:function(){this.spinner&&this.spinner.remove()},_ctx:function(){return{elm:this.$elm,$blocker:this.$blocker,options:this.options}}},t.modal.close=function(e){if(t.modal.isActive()){e&&e.preventDefault();var n=o();return n.close(),n.$elm}},t.modal.isActive=function(){return i.length>0},t.modal.getCurrent=o,t.modal.defaults={closeExisting:!0,escapeClose:!0,clickClose:!0,closeText:"Close",closeClass:"",modalClass:"modal",spinnerHtml:null,showSpinner:!0,showClose:!0,fadeDuration:null,fadeDelay:1},t.modal.BEFORE_BLOCK="modal:before-block",t.modal.BLOCK="modal:block",t.modal.BEFORE_OPEN="modal:before-open",t.modal.OPEN="modal:open",t.modal.BEFORE_CLOSE="modal:before-close",t.modal.CLOSE="modal:close",t.modal.AFTER_CLOSE="modal:after-close",t.modal.AJAX_SEND="modal:ajax:send",t.modal.AJAX_SUCCESS="modal:ajax:success",t.modal.AJAX_FAIL="modal:ajax:fail",t.modal.AJAX_COMPLETE="modal:ajax:complete",t.fn.modal=function(e){return 1===this.length&&new t.modal(this,e),this},t(n).on("click.modal",'a[rel~="modal:close"]',t.modal.close),t(n).on("click.modal",'a[rel~="modal:open"]',function(e){e.preventDefault(),t(this).modal()})}),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.mermaidAPI=t()}}(function(){var define,module,exports;return function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return i(n?n:t)},c,c.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){},{}],2:[function(t,e,n){(function(t){function e(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return i.exec(t).slice(1)};n.resolve=function(){for(var n="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,i="/"===a.charAt(0))}return n=e(r(n.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+n||"."},n.normalize=function(t){var i=n.isAbsolute(t),o="/"===a(t,-1);return t=e(r(t.split("/"),function(t){return!!t}),!i).join("/"),t||i||(t="."),t&&o&&(t+="/"),(i?"/":"")+t},n.isAbsolute=function(t){return"/"===t.charAt(0)},n.join=function(){var t=Array.prototype.slice.call(arguments,0);return n.normalize(r(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},n.relative=function(t,e){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=n.resolve(t).substr(1),e=n.resolve(e).substr(1);for(var i=r(t.split("/")),o=r(e.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}for(var l=[],u=s;u<i.length;u++)l.push("..");return l=l.concat(o.slice(s)),l.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(t){var e=o(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},n.basename=function(t,e){var n=o(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},n.extname=function(t){return o(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,t("_process"))},{_process:3}],3:[function(t,e,n){function r(){}var i=e.exports={};i.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.MutationObserver,n="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};var r=[];if(e){var i=document.createElement("div"),o=new MutationObserver(function(){var t=r.slice();r.length=0,t.forEach(function(t){t()})});return o.observe(i,{attributes:!0}),function(t){r.length||i.setAttribute("yes","no"),r.push(t)}}return n?(window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),r.length>0)){var n=r.shift();n()}},!0),function(t){r.push(t),window.postMessage("process-tick","*")}):function(t){setTimeout(t,0)}}(),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.on=r,i.addListener=r,i.once=r,i.off=r,i.removeListener=r,i.removeAllListeners=r,i.emit=r,i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")}},{}],4:[function(t,e,n){!function(){function t(t){return t&&(t.ownerDocument||t.document||t).documentElement}function n(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function r(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function i(t){return null===t?NaN:+t}function o(t){return!isNaN(t)}function a(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}function s(t){return t.length}function u(t){for(var e=1;t*e%1;)e*=10;return e}function l(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{
value:e[n],enumerable:!1})}function c(){this._=Object.create(null)}function h(t){return(t+="")===pa||t[0]===ga?ga+t:t}function f(t){return(t+="")[0]===ga?t.slice(1):t}function d(t){return h(t)in this._}function p(t){return(t=h(t))in this._&&delete this._[t]}function g(){var t=[];for(var e in this._)t.push(f(e));return t}function y(){var t=0;for(var e in this._)++t;return t}function v(){for(var t in this._)return!1;return!0}function m(){this._=Object.create(null)}function b(t){return t}function x(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function w(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=ya.length;n<r;++n){var i=ya[n]+e;if(i in t)return i}}function _(){}function k(){}function A(t){function e(){for(var e,r=n,i=-1,o=r.length;++i<o;)(e=r[i].on)&&e.apply(this,arguments);return t}var n=[],r=new c;return e.on=function(e,i){var o,a=r.get(e);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),r.remove(e)),i&&n.push(r.set(e,{on:i})),t)},e}function C(){ra.event.preventDefault()}function S(){for(var t,e=ra.event;t=e.sourceEvent;)e=t;return e}function E(t){for(var e=new k,n=0,r=arguments.length;++n<r;)e[arguments[n]]=A(e);return e.of=function(n,r){return function(i){try{var o=i.sourceEvent=ra.event;i.target=t,ra.event=i,e[i.type].apply(n,r)}finally{ra.event=o}}},e}function T(t){return ma(t,_a),t}function M(t){return"function"==typeof t?t:function(){return ba(t,this)}}function D(t){return"function"==typeof t?t:function(){return xa(t,this)}}function L(t,e){function n(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function i(){this.setAttribute(t,e)}function o(){this.setAttributeNS(t.space,t.local,e)}function a(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=ra.ns.qualify(t),null==e?t.local?r:n:"function"==typeof e?t.local?s:a:t.local?o:i}function F(t){return t.trim().replace(/\s+/g," ")}function N(t){return new RegExp("(?:^|\\s+)"+ra.requote(t)+"(?:\\s+|$)","g")}function O(t){return(t+"").trim().split(/^|\s+/)}function I(t,e){function n(){for(var n=-1;++n<i;)t[n](this,e)}function r(){for(var n=-1,r=e.apply(this,arguments);++n<i;)t[n](this,r)}t=O(t).map(B);var i=t.length;return"function"==typeof e?r:n}function B(t){var e=N(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",F(i+" "+t))):n.setAttribute("class",F(i.replace(e," ")))}}function P(t,e,n){function r(){this.style.removeProperty(t)}function i(){this.style.setProperty(t,e,n)}function o(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}return null==e?r:"function"==typeof e?o:i}function R(t,e){function n(){delete this[t]}function r(){this[t]=e}function i(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?i:r}function j(t){function e(){var e=this.ownerDocument,n=this.namespaceURI;return n?e.createElementNS(n,t):e.createElement(t)}function n(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=ra.ns.qualify(t)).local?n:e}function W(){var t=this.parentNode;t&&t.removeChild(this)}function H(t){return{__data__:t}}function $(t){return function(){return wa(this,t)}}function q(t){return arguments.length||(t=r),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function z(t,e){for(var n=0,r=t.length;n<r;n++)for(var i,o=t[n],a=0,s=o.length;a<s;a++)(i=o[a])&&e(i,a,n);return t}function U(t){return ma(t,Aa),t}function Y(t){var e,n;return function(r,i,o){var a,s=t[o].update,u=s.length;for(o!=n&&(n=o,e=0),i>=e&&(e=i+1);!(a=s[e])&&++e<u;);return a}}function G(t,e,n){function r(){var e=this[a];e&&(this.removeEventListener(t,e,e.$),delete this[a])}function i(){var i=u(e,oa(arguments));r.call(this),this.addEventListener(t,this[a]=i,i.$=n),i._=e}function o(){var e,n=new RegExp("^__on([^.]+)"+ra.requote(t)+"$");for(var r in this)if(e=r.match(n)){var i=this[r];this.removeEventListener(e[1],i,i.$),delete this[r]}}var a="__on"+t,s=t.indexOf("."),u=V;s>0&&(t=t.slice(0,s));var l=Ca.get(t);return l&&(t=l,u=X),s?e?i:r:e?_:o}function V(t,e){return function(n){var r=ra.event;ra.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{ra.event=r}}}function X(t,e){var n=V(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}function K(e){var r=".dragsuppress-"+ ++Ea,i="click"+r,o=ra.select(n(e)).on("touchmove"+r,C).on("dragstart"+r,C).on("selectstart"+r,C);if(null==Sa&&(Sa=!("onselectstart"in e)&&w(e.style,"userSelect")),Sa){var a=t(e).style,s=a[Sa];a[Sa]="none"}return function(t){if(o.on(r,null),Sa&&(a[Sa]=s),t){var e=function(){o.on(i,null)};o.on(i,function(){C(),e()},!0),setTimeout(e,0)}}}function Z(t,e){e.changedTouches&&(e=e.changedTouches[0]);var r=t.ownerSVGElement||t;if(r.createSVGPoint){var i=r.createSVGPoint();if(Ta<0){var o=n(t);if(o.scrollX||o.scrollY){r=ra.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=r[0][0].getScreenCTM();Ta=!(a.f||a.e),r.remove()}}return Ta?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}function J(){return ra.event.changedTouches[0].identifier}function Q(t){return t>0?1:t<0?-1:0}function tt(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function et(t){return t>1?0:t<-1?La:Math.acos(t)}function nt(t){return t>1?Oa:t<-1?-Oa:Math.asin(t)}function rt(t){return((t=Math.exp(t))-1/t)/2}function it(t){return((t=Math.exp(t))+1/t)/2}function ot(t){return((t=Math.exp(2*t))-1)/(t+1)}function at(t){return(t=Math.sin(t/2))*t}function st(){}function ut(t,e,n){return this instanceof ut?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof ut?new ut(t.h,t.s,t.l):_t(""+t,kt,ut):new ut(t,e,n)}function lt(t,e,n){function r(t){return t>360?t-=360:t<0&&(t+=360),t<60?o+(a-o)*t/60:t<180?a:t<240?o+(a-o)*(240-t)/60:o}function i(t){return Math.round(255*r(t))}var o,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:e>1?1:e,n=n<0?0:n>1?1:n,a=n<=.5?n*(1+e):n+e-n*e,o=2*n-a,new mt(i(t+120),i(t),i(t-120))}function ct(t,e,n){return this instanceof ct?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof ct?new ct(t.h,t.c,t.l):t instanceof ft?pt(t.l,t.a,t.b):pt((t=At((t=ra.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ct(t,e,n)}function ht(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new ft(n,Math.cos(t*=Ia)*e,Math.sin(t)*e)}function ft(t,e,n){return this instanceof ft?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof ft?new ft(t.l,t.a,t.b):t instanceof ct?ht(t.h,t.c,t.l):At((t=mt(t)).r,t.g,t.b):new ft(t,e,n)}function dt(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;return i=gt(i)*Ya,r=gt(r)*Ga,o=gt(o)*Va,new mt(vt(3.2404542*i-1.5371385*r-.4985314*o),vt(-.969266*i+1.8760108*r+.041556*o),vt(.0556434*i-.2040259*r+1.0572252*o))}function pt(t,e,n){return t>0?new ct(Math.atan2(n,e)*Ba,Math.sqrt(e*e+n*n),t):new ct(NaN,NaN,t)}function gt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function yt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function vt(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function mt(t,e,n){return this instanceof mt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof mt?new mt(t.r,t.g,t.b):_t(""+t,mt,lt):new mt(t,e,n)}function bt(t){return new mt(t>>16,t>>8&255,255&t)}function xt(t){return bt(t)+""}function wt(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function _t(t,e,n){t=t.toLowerCase();var r,i,o,a=0,s=0,u=0;if(r=/([a-z]+)\((.*)\)/.exec(t))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(St(i[0]),St(i[1]),St(i[2]))}return(o=Za.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a=a>>4|a,s=240&o,s=s>>4|s,u=15&o,u=u<<4|u):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,u=255&o)),e(a,s,u))}function kt(t,e,n){var r,i,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,u=(a+o)/2;return s?(i=u<.5?s/(a+o):s/(2-a-o),r=t==a?(e-n)/s+(e<n?6:0):e==a?(n-t)/s+2:(t-e)/s+4,r*=60):(r=NaN,i=u>0&&u<1?0:r),new ut(r,i,u)}function At(t,e,n){t=Ct(t),e=Ct(e),n=Ct(n);var r=yt((.4124564*t+.3575761*e+.1804375*n)/Ya),i=yt((.2126729*t+.7151522*e+.072175*n)/Ga),o=yt((.0193339*t+.119192*e+.9503041*n)/Va);return ft(116*i-16,500*(r-i),200*(i-o))}function Ct(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function St(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Et(t){return"function"==typeof t?t:function(){return t}}function Tt(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),Mt(e,n,t,r)}}function Mt(t,e,n,r){function i(){var t,e=u.status;if(!e&&Lt(u)||e>=200&&e<300||304===e){try{t=n.call(o,u)}catch(t){return void a.error.call(o,t)}a.load.call(o,t)}else a.error.call(o,u)}var o={},a=ra.dispatch("beforesend","progress","load","error"),s={},u=new XMLHttpRequest,l=null;return!this.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(t)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=i:u.onreadystatechange=function(){u.readyState>3&&i()},u.onprogress=function(t){var e=ra.event;ra.event=t;try{a.progress.call(o,u)}finally{ra.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",o):e},o.responseType=function(t){return arguments.length?(l=t,o):l},o.response=function(t){return n=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(oa(arguments)))}}),o.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),u.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),u.setRequestHeader)for(var c in s)u.setRequestHeader(c,s[c]);return null!=e&&u.overrideMimeType&&u.overrideMimeType(e),null!=l&&(u.responseType=l),null!=i&&o.on("error",i).on("load",function(t){i(null,t)}),a.beforesend.call(o,u),u.send(null==r?null:r),o},o.abort=function(){return u.abort(),o},ra.rebind(o,a,"on"),null==r?o:o.get(Dt(r))}function Dt(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function Lt(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Ft(){var t=Nt(),e=Ot()-t;e>24?(isFinite(e)&&(clearTimeout(es),es=setTimeout(Ft,e)),ts=0):(ts=1,rs(Ft))}function Nt(){var t=Date.now();for(ns=Ja;ns;)t>=ns.t&&(ns.f=ns.c(t-ns.t)),ns=ns.n;return t}function Ot(){for(var t,e=Ja,n=1/0;e;)e.f?e=t?t.n=e.n:Ja=e.n:(e.t<n&&(n=e.t),e=(t=e).n);return Qa=t,n}function It(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Bt(t,e){var n=Math.pow(10,3*da(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function Pt(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,o=r&&n?function(t,e){for(var i=t.length,o=[],a=0,s=r[0],u=0;i>0&&s>0&&(u+s+1>e&&(s=Math.max(1,e-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>e));)s=r[a=(a+1)%r.length];return o.reverse().join(n)}:b;return function(t){var n=os.exec(t),r=n[1]||" ",a=n[2]||">",s=n[3]||"-",u=n[4]||"",l=n[5],c=+n[6],h=n[7],f=n[8],d=n[9],p=1,g="",y="",v=!1,m=!0;switch(f&&(f=+f.substring(1)),(l||"0"===r&&"="===a)&&(l=r="0",a="="),d){case"n":h=!0,d="g";break;case"%":p=100,y="%",d="f";break;case"p":p=100,y="%",d="r";break;case"b":case"o":case"x":case"X":"#"===u&&(g="0"+d.toLowerCase());case"c":m=!1;case"d":v=!0,f=0;break;case"s":p=-1,d="r"}"$"===u&&(g=i[0],y=i[1]),"r"!=d||f||(d="g"),null!=f&&("g"==d?f=Math.max(1,Math.min(21,f)):"e"!=d&&"f"!=d||(f=Math.max(0,Math.min(20,f)))),d=as.get(d)||Rt;var b=l&&h;return function(t){var n=y;if(v&&t%1)return"";var i=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===s?"":s;if(p<0){var u=ra.formatPrefix(t,f);t=u.scale(t),n=u.symbol+y}else t*=p;t=d(t,f);var x,w,_=t.lastIndexOf(".");if(_<0){var k=m?t.lastIndexOf("e"):-1;k<0?(x=t,w=""):(x=t.substring(0,k),w=t.substring(k))}else x=t.substring(0,_),w=e+t.substring(_+1);!l&&h&&(x=o(x,1/0));var A=g.length+x.length+w.length+(b?0:i.length),C=A<c?new Array(A=c-A+1).join(r):"";return b&&(x=o(C+x,C.length?c-w.length:1/0)),i+=g,t=x+w,("<"===a?i+t+C:">"===a?C+i+t:"^"===a?C.substring(0,A>>=1)+i+t+C.substring(A):i+(b?t:C+t))+n}}}function Rt(t){return t+""}function jt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Wt(t,e,n){function r(e){var n=t(e),r=o(n,1);return e-n<r-e?n:r}function i(n){return e(n=t(new us(n-1)),1),n}function o(t,n){return e(t=new us((+t)),n),t}function a(t,r,o){var a=i(t),s=[];if(o>1)for(;a<r;)n(a)%o||s.push(new Date((+a))),e(a,1);else for(;a<r;)s.push(new Date((+a))),e(a,1);return s}function s(t,e,n){try{us=jt;var r=new jt;return r._=t,a(r,e,n)}finally{us=Date}}t.floor=t,t.round=r,t.ceil=i,t.offset=o,t.range=a;var u=t.utc=Ht(t);return u.floor=u,u.round=Ht(r),u.ceil=Ht(i),u.offset=Ht(o),u.range=s,t}function Ht(t){return function(e,n){try{us=jt;var r=new jt;return r._=e,t(r,n)._}finally{us=Date}}}function $t(t){function e(t){function e(e){for(var n,i,o,a=[],s=-1,u=0;++s<r;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=cs[n=t.charAt(++s)])&&(n=t.charAt(++s)),(o=T[n])&&(n=o(e,null==i?"e"===n?" ":"0":i)),a.push(n),u=s+1);return a.push(t.slice(u,s)),a.join("")}var r=t.length;return e.parse=function(e){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=n(r,t,e,0);if(i!=e.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var o=null!=r.Z&&us!==jt,a=new(o?jt:us);return"j"in r?a.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(a.setFullYear(r.y,0,1),a.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(a.getDay()+5)%7:r.w+7*r.U-(a.getDay()+6)%7)):a.setFullYear(r.y,r.m,r.d),a.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),o?a._:a},e.toString=function(){return t},e}function n(t,e,n,r){for(var i,o,a,s=0,u=e.length,l=n.length;s<u;){if(r>=l)return-1;if(i=e.charCodeAt(s++),37===i){if(a=e.charAt(s++),o=M[a in cs?e.charAt(s++):a],!o||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function r(t,e,n){_.lastIndex=0;var r=_.exec(e.slice(n));return r?(t.w=k.get(r[0].toLowerCase()),n+r[0].length):-1}function i(t,e,n){x.lastIndex=0;var r=x.exec(e.slice(n));return r?(t.w=w.get(r[0].toLowerCase()),n+r[0].length):-1}function o(t,e,n){S.lastIndex=0;var r=S.exec(e.slice(n));return r?(t.m=E.get(r[0].toLowerCase()),n+r[0].length):-1}function a(t,e,n){A.lastIndex=0;var r=A.exec(e.slice(n));return r?(t.m=C.get(r[0].toLowerCase()),n+r[0].length):-1}function s(t,e,r){return n(t,T.c.toString(),e,r)}function u(t,e,r){return n(t,T.x.toString(),e,r)}function l(t,e,r){return n(t,T.X.toString(),e,r)}function c(t,e,n){var r=b.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)}var h=t.dateTime,f=t.date,d=t.time,p=t.periods,g=t.days,y=t.shortDays,v=t.months,m=t.shortMonths;e.utc=function(t){function n(t){try{us=jt;var e=new us;return e._=t,r(e)}finally{us=Date}}var r=e(t);return n.parse=function(t){try{us=jt;var e=r.parse(t);return e&&e._}finally{us=Date}},n.toString=r.toString,n},e.multi=e.utc.multi=ue;var b=ra.map(),x=zt(g),w=Ut(g),_=zt(y),k=Ut(y),A=zt(v),C=Ut(v),S=zt(m),E=Ut(m);p.forEach(function(t,e){b.set(t.toLowerCase(),e)});var T={a:function(t){return y[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return m[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:e(h),d:function(t,e){return qt(t.getDate(),e,2)},e:function(t,e){return qt(t.getDate(),e,2)},H:function(t,e){return qt(t.getHours(),e,2)},I:function(t,e){return qt(t.getHours()%12||12,e,2)},j:function(t,e){return qt(1+ss.dayOfYear(t),e,3)},L:function(t,e){return qt(t.getMilliseconds(),e,3)},m:function(t,e){return qt(t.getMonth()+1,e,2)},M:function(t,e){return qt(t.getMinutes(),e,2)},p:function(t){return p[+(t.getHours()>=12)]},S:function(t,e){return qt(t.getSeconds(),e,2)},U:function(t,e){return qt(ss.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return qt(ss.mondayOfYear(t),e,2)},x:e(f),X:e(d),y:function(t,e){return qt(t.getFullYear()%100,e,2)},Y:function(t,e){return qt(t.getFullYear()%1e4,e,4)},Z:ae,"%":function(){return"%"}},M={a:r,A:i,b:o,B:a,c:s,d:te,e:te,H:ne,I:ne,j:ee,L:oe,m:Qt,M:re,p:c,S:ie,U:Gt,w:Yt,W:Vt,x:u,X:l,y:Kt,Y:Xt,Z:Zt,"%":se};return e}function qt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function zt(t){return new RegExp("^(?:"+t.map(ra.requote).join("|")+")","i")}function Ut(t){for(var e=new c,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Yt(t,e,n){hs.lastIndex=0;var r=hs.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Gt(t,e,n){hs.lastIndex=0;var r=hs.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Vt(t,e,n){hs.lastIndex=0;var r=hs.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Xt(t,e,n){hs.lastIndex=0;var r=hs.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Kt(t,e,n){hs.lastIndex=0;var r=hs.exec(e.slice(n,n+2));return r?(t.y=Jt(+r[0]),n+r[0].length):-1}function Zt(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Jt(t){return t+(t>68?1900:2e3)}function Qt(t,e,n){hs.lastIndex=0;var r=hs.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function te(t,e,n){hs.lastIndex=0;var r=hs.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ee(t,e,n){hs.lastIndex=0;var r=hs.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function ne(t,e,n){hs.lastIndex=0;var r=hs.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function re(t,e,n){hs.lastIndex=0;var r=hs.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ie(t,e,n){hs.lastIndex=0;var r=hs.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function oe(t,e,n){hs.lastIndex=0;var r=hs.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ae(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=da(e)/60|0,i=da(e)%60;return n+qt(r,"0",2)+qt(i,"0",2)}function se(t,e,n){fs.lastIndex=0;var r=fs.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ue(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}function le(){}function ce(t,e,n){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}function he(t,e){t&&ys.hasOwnProperty(t.type)&&ys[t.type](t,e)}function fe(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function de(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)fe(t[n],e,1);e.polygonEnd()}function pe(){function t(t,e){t*=Ia,e=e*Ia/2+La/4;var n=t-r,a=n>=0?1:-1,s=a*n,u=Math.cos(e),l=Math.sin(e),c=o*l,h=i*u+c*Math.cos(s),f=c*a*Math.sin(s);ms.add(Math.atan2(f,h)),r=t,i=u,o=l}var e,n,r,i,o;bs.point=function(a,s){bs.point=t,r=(e=a)*Ia,i=Math.cos(s=(n=s)*Ia/2+La/4),o=Math.sin(s)},bs.lineEnd=function(){t(e,n)}}function ge(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function ye(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ve(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function me(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function be(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function xe(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function we(t){return[Math.atan2(t[1],t[0]),nt(t[2])]}function _e(t,e){return da(t[0]-e[0])<Ma&&da(t[1]-e[1])<Ma}function ke(t,e){t*=Ia;var n=Math.cos(e*=Ia);Ae(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Ae(t,e,n){++xs,_s+=(t-_s)/xs,ks+=(e-ks)/xs,As+=(n-As)/xs}function Ce(){function t(t,i){t*=Ia;var o=Math.cos(i*=Ia),a=o*Math.cos(t),s=o*Math.sin(t),u=Math.sin(i),l=Math.atan2(Math.sqrt((l=n*u-r*s)*l+(l=r*a-e*u)*l+(l=e*s-n*a)*l),e*a+n*s+r*u);ws+=l,Cs+=l*(e+(e=a)),Ss+=l*(n+(n=s)),Es+=l*(r+(r=u)),Ae(e,n,r)}var e,n,r;Ls.point=function(i,o){i*=Ia;var a=Math.cos(o*=Ia);e=a*Math.cos(i),n=a*Math.sin(i),r=Math.sin(o),Ls.point=t,Ae(e,n,r)}}function Se(){Ls.point=ke}function Ee(){function t(t,e){t*=Ia;var n=Math.cos(e*=Ia),a=n*Math.cos(t),s=n*Math.sin(t),u=Math.sin(e),l=i*u-o*s,c=o*a-r*u,h=r*s-i*a,f=Math.sqrt(l*l+c*c+h*h),d=r*a+i*s+o*u,p=f&&-et(d)/f,g=Math.atan2(f,d);Ts+=p*l,Ms+=p*c,Ds+=p*h,ws+=g,Cs+=g*(r+(r=a)),Ss+=g*(i+(i=s)),Es+=g*(o+(o=u)),Ae(r,i,o)}var e,n,r,i,o;Ls.point=function(a,s){e=a,n=s,Ls.point=t,a*=Ia;var u=Math.cos(s*=Ia);r=u*Math.cos(a),i=u*Math.sin(a),o=Math.sin(s),Ae(r,i,o)},Ls.lineEnd=function(){t(e,n),Ls.lineEnd=Se,Ls.point=ke}}function Te(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])}),n}function Me(){return!0}function De(t,e,n,r,i){var o=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(_e(n,r)){i.lineStart();for(var s=0;s<e;++s)i.point((n=t[s])[0],n[1]);return void i.lineEnd()}var u=new Fe(n,t,null,(!0)),l=new Fe(n,null,u,(!1));u.o=l,o.push(u),a.push(l),u=new Fe(r,t,null,(!1)),l=new Fe(r,null,u,(!0)),u.o=l,o.push(u),a.push(l)}}),a.sort(e),Le(o),Le(a),o.length){for(var s=0,u=n,l=a.length;s<l;++s)a[s].e=u=!u;for(var c,h,f=o[0];;){for(var d=f,p=!0;d.v;)if((d=d.n)===f)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(var s=0,l=c.length;s<l;++s)i.point((h=c[s])[0],h[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(p){c=d.p.z;for(var s=c.length-1;s>=0;--s)i.point((h=c[s])[0],h[1])}else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,c=d.z,p=!p}while(!d.v);i.lineEnd()}}}function Le(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Fe(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Ne(t,e,n,r){return function(i,o){function a(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function s(t,e){var n=i(t,e);y.point(n[0],n[1])}function u(){m.point=s,y.lineStart()}function l(){m.point=a,y.lineEnd()}function c(t,e){g.push([t,e]);var n=i(t,e);x.point(n[0],n[1])}function h(){x.lineStart(),g=[]}function f(){c(g[0][0],g[0][1]),x.lineEnd();var t,e=x.clean(),n=b.buffer(),r=n.length;if(g.pop(),p.push(g),g=null,r)if(1&e){t=n[0];var i,r=t.length-1,a=-1;if(r>0){for(w||(o.polygonStart(),w=!0),o.lineStart();++a<r;)o.point((i=t[a])[0],i[1]);o.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),d.push(n.filter(Oe))}var d,p,g,y=e(o),v=i.invert(r[0],r[1]),m={point:a,lineStart:u,lineEnd:l,polygonStart:function(){m.point=c,m.lineStart=h,m.lineEnd=f,d=[],p=[]},polygonEnd:function(){m.point=a,m.lineStart=u,m.lineEnd=l,d=ra.merge(d);var t=We(v,p);d.length?(w||(o.polygonStart(),w=!0),De(d,Be,t,n,o)):t&&(w||(o.polygonStart(),w=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),w&&(o.polygonEnd(),w=!1),d=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},b=Ie(),x=e(b),w=!1;return m}}function Oe(t){return t.length>1}function Ie(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:_,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Be(t,e){return((t=t.x)[0]<0?t[1]-Oa-Ma:Oa-t[1])-((e=e.x)[0]<0?e[1]-Oa-Ma:Oa-e[1])}function Pe(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?La:-La,u=da(o-n);da(u-La)<Ma?(t.point(n,r=(r+a)/2>0?Oa:-Oa),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&u>=La&&(da(n-i)<Ma&&(n-=i*Ma),da(o-s)<Ma&&(o-=s*Ma),r=Re(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}function Re(t,e,n,r){var i,o,a=Math.sin(t-n);return da(a)>Ma?Math.atan((Math.sin(e)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*o*a)):(e+r)/2}function je(t,e,n,r){var i;if(null==t)i=n*Oa,r.point(-La,i),r.point(0,i),r.point(La,i),r.point(La,0),r.point(La,-i),r.point(0,-i),r.point(-La,-i),r.point(-La,0),r.point(-La,i);else if(da(t[0]-e[0])>Ma){var o=t[0]<e[0]?La:-La;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function We(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;ms.reset();for(var s=0,u=e.length;s<u;++s){var l=e[s],c=l.length;if(c)for(var h=l[0],f=h[0],d=h[1]/2+La/4,p=Math.sin(d),g=Math.cos(d),y=1;;){y===c&&(y=0),t=l[y];var v=t[0],m=t[1]/2+La/4,b=Math.sin(m),x=Math.cos(m),w=v-f,_=w>=0?1:-1,k=_*w,A=k>La,C=p*b;if(ms.add(Math.atan2(C*_*Math.sin(k),g*x+C*Math.cos(k))),o+=A?w+_*Fa:w,A^f>=n^v>=n){var S=ve(ge(h),ge(t));xe(S);var E=ve(i,S);xe(E);var T=(A^w>=0?-1:1)*nt(E[2]);(r>T||r===T&&(S[0]||S[1]))&&(a+=A^w>=0?1:-1)}if(!y++)break;f=v,p=b,g=x,h=t}}return(o<-Ma||o<Ma&&ms<0)^1&a}function He(t){function e(t,e){return Math.cos(t)*Math.cos(e)>o}function n(t){var n,o,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(h,f){var d,p=[h,f],g=e(h,f),y=a?g?0:i(h,f):g?i(h+(h<0?La:-La),f):0;if(!n&&(l=u=g)&&t.lineStart(),g!==u&&(d=r(n,p),(_e(n,d)||_e(p,d))&&(p[0]+=Ma,p[1]+=Ma,g=e(p[0],p[1]))),g!==u)c=0,g?(t.lineStart(),d=r(p,n),t.point(d[0],d[1])):(d=r(n,p),t.point(d[0],d[1]),t.lineEnd()),n=d;else if(s&&n&&a^g){var v;y&o||!(v=r(p,n,!0))||(c=0,a?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||n&&_e(n,p)||t.point(p[0],p[1]),n=p,u=g,o=y},lineEnd:function(){u&&t.lineEnd(),n=null},clean:function(){return c|(l&&u)<<1}}}function r(t,e,n){var r=ge(t),i=ge(e),a=[1,0,0],s=ve(r,i),u=ye(s,s),l=s[0],c=u-l*l;if(!c)return!n&&t;var h=o*u/c,f=-o*l/c,d=ve(a,s),p=be(a,h),g=be(s,f);me(p,g);var y=d,v=ye(p,y),m=ye(y,y),b=v*v-m*(ye(p,p)-1);if(!(b<0)){var x=Math.sqrt(b),w=be(y,(-v-x)/m);if(me(w,p),w=we(w),!n)return w;var _,k=t[0],A=e[0],C=t[1],S=e[1];A<k&&(_=k,k=A,A=_);var E=A-k,T=da(E-La)<Ma,M=T||E<Ma;if(!T&&S<C&&(_=C,C=S,S=_),M?T?C+S>0^w[1]<(da(w[0]-k)<Ma?C:S):C<=w[1]&&w[1]<=S:E>La^(k<=w[0]&&w[0]<=A)){var D=be(y,(-v+x)/m);return me(D,p),[w,we(D)]}}}function i(e,n){var r=a?t:La-t,i=0;return e<-r?i|=1:e>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var o=Math.cos(t),a=o>0,s=da(o)>Ma,u=gn(t,6*Ia);return Ne(e,n,u,a?[0,-t]:[-La,t-La])}function $e(t,e,n,r){return function(i){var o,a=i.a,s=i.b,u=a.x,l=a.y,c=s.x,h=s.y,f=0,d=1,p=c-u,g=h-l;if(o=t-u,p||!(o>0)){if(o/=p,p<0){if(o<f)return;o<d&&(d=o)}else if(p>0){if(o>d)return;o>f&&(f=o)}if(o=n-u,p||!(o<0)){if(o/=p,p<0){if(o>d)return;o>f&&(f=o)}else if(p>0){if(o<f)return;o<d&&(d=o)}if(o=e-l,g||!(o>0)){if(o/=g,g<0){if(o<f)return;o<d&&(d=o)}else if(g>0){if(o>d)return;o>f&&(f=o)}if(o=r-l,g||!(o<0)){if(o/=g,g<0){if(o>d)return;o>f&&(f=o)}else if(g>0){if(o<f)return;o<d&&(d=o)}return f>0&&(i.a={x:u+f*p,y:l+f*g}),d<1&&(i.b={x:u+d*p,y:l+d*g}),i}}}}}}function qe(t,e,n,r){function i(r,i){return da(r[0]-t)<Ma?i>0?0:3:da(r[0]-n)<Ma?i>0?2:1:da(r[1]-e)<Ma?i>0?1:0:i>0?3:2}function o(t,e){return a(t.x,e.x)}function a(t,e){var n=i(t,1),r=i(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function u(t){for(var e=0,n=y.length,r=t[1],i=0;i<n;++i)for(var o,a=1,s=y[i],u=s.length,l=s[0];a<u;++a)o=s[a],l[1]<=r?o[1]>r&&tt(l,o,t)>0&&++e:o[1]<=r&&tt(l,o,t)<0&&--e,l=o;return 0!==e}function l(o,s,u,l){var c=0,h=0;if(null==o||(c=i(o,u))!==(h=i(s,u))||a(o,s)<0^u>0){do l.point(0===c||3===c?t:n,c>1?r:e);while((c=(c+u+4)%4)!==h)}else l.point(s[0],s[1])}function c(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function h(t,e){c(t,e)&&s.point(t,e)}function f(){M.point=p,y&&y.push(v=[]),A=!0,k=!1,w=_=NaN}function d(){g&&(p(m,b),x&&k&&E.rejoin(),g.push(E.buffer())),M.point=h,k&&s.lineEnd()}function p(t,e){t=Math.max(-Ns,Math.min(Ns,t)),e=Math.max(-Ns,Math.min(Ns,e));var n=c(t,e);if(y&&v.push([t,e]),A)m=t,b=e,x=n,A=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&k)s.point(t,e);else{var r={a:{x:w,y:_},b:{x:t,y:e}};T(r)?(k||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),C=!1):n&&(s.lineStart(),s.point(t,e),C=!1)}w=t,_=e,k=n}var g,y,v,m,b,x,w,_,k,A,C,S=s,E=Ie(),T=$e(t,e,n,r),M={point:h,lineStart:f,lineEnd:d,polygonStart:function(){s=E,g=[],y=[],C=!0},polygonEnd:function(){s=S,g=ra.merge(g);var e=u([t,r]),n=C&&e,i=g.length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),l(null,null,1,s),s.lineEnd()),i&&De(g,o,e,l,s),s.polygonEnd()),g=y=v=null}};return M}}function ze(t){var e=0,n=La/3,r=sn(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*La/180,n=t[1]*La/180):[e/La*180,n/La*180]},i}function Ue(t,e){function n(t,e){var n=Math.sqrt(o-2*i*Math.sin(e))/i;return[n*Math.sin(t*=i),a-n*Math.cos(t)]}var r=Math.sin(t),i=(r+Math.sin(e))/2,o=1+r*(2*i-r),a=Math.sqrt(o)/i;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/i,nt((o-(t*t+n*n)*i*i)/(2*i))]},n}function Ye(){function t(t,e){Is+=i*t-r*e,r=t,i=e}var e,n,r,i;Ws.point=function(o,a){Ws.point=t,e=r=o,n=i=a},Ws.lineEnd=function(){t(e,n)}}function Ge(t,e){t<Bs&&(Bs=t),t>Rs&&(Rs=t),e<Ps&&(Ps=e),e>js&&(js=e)}function Ve(){function t(t,e){a.push("M",t,",",e,o)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function r(){s.point=t}function i(){a.push("Z")}var o=Xe(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r,s.point=t},pointRadius:function(t){return o=Xe(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function Xe(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Ke(t,e){_s+=t,ks+=e,++As}function Ze(){function t(t,r){var i=t-e,o=r-n,a=Math.sqrt(i*i+o*o);Cs+=a*(e+t)/2,Ss+=a*(n+r)/2,Es+=a,Ke(e=t,n=r)}var e,n;$s.point=function(r,i){$s.point=t,Ke(e=r,n=i)}}function Je(){$s.point=Ke}function Qe(){function t(t,e){var n=t-r,o=e-i,a=Math.sqrt(n*n+o*o);Cs+=a*(r+t)/2,Ss+=a*(i+e)/2,Es+=a,a=i*t-r*e,Ts+=a*(r+t),Ms+=a*(i+e),Ds+=3*a,Ke(r=t,i=e)}var e,n,r,i;$s.point=function(o,a){$s.point=t,Ke(e=r=o,n=i=a)},$s.lineEnd=function(){t(e,n)}}function tn(t){function e(e,n){t.moveTo(e+a,n),t.arc(e,n,a,0,Fa)}function n(e,n){t.moveTo(e,n),s.point=r}function r(e,n){t.lineTo(e,n)}function i(){s.point=e}function o(){t.closePath()}var a=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:i,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=i,s.point=e},pointRadius:function(t){return a=t,s},result:_};return s}function en(t){function e(t){return(s?r:n)(t)}function n(e){return on(e,function(n,r){n=t(n,r),e.point(n[0],n[1])})}function r(e){function n(n,r){n=t(n,r),e.point(n[0],n[1])}function r(){b=NaN,A.point=o,e.lineStart()}function o(n,r){var o=ge([n,r]),a=t(n,r);i(b,x,m,w,_,k,b=a[0],x=a[1],m=n,w=o[0],_=o[1],k=o[2],s,e),e.point(b,x)}function a(){A.point=n,e.lineEnd()}function u(){r(),A.point=l,A.lineEnd=c}function l(t,e){o(h=t,f=e),d=b,p=x,g=w,y=_,v=k,A.point=o}function c(){i(b,x,m,w,_,k,d,p,h,g,y,v,s,e),A.lineEnd=a,a()}var h,f,d,p,g,y,v,m,b,x,w,_,k,A={point:n,lineStart:r,lineEnd:a,polygonStart:function(){e.polygonStart(),A.lineStart=u},polygonEnd:function(){e.polygonEnd(),A.lineStart=r}};return A}function i(e,n,r,s,u,l,c,h,f,d,p,g,y,v){var m=c-e,b=h-n,x=m*m+b*b;if(x>4*o&&y--){var w=s+d,_=u+p,k=l+g,A=Math.sqrt(w*w+_*_+k*k),C=Math.asin(k/=A),S=da(da(k)-1)<Ma||da(r-f)<Ma?(r+f)/2:Math.atan2(_,w),E=t(S,C),T=E[0],M=E[1],D=T-e,L=M-n,F=b*D-m*L;(F*F/x>o||da((m*D+b*L)/x-.5)>.3||s*d+u*p+l*g<a)&&(i(e,n,r,s,u,l,T,M,S,w/=A,_/=A,k,y,v),v.point(T,M),i(T,M,S,w,_,k,c,h,f,d,p,g,y,v))}}var o=.5,a=Math.cos(30*Ia),s=16;return e.precision=function(t){return arguments.length?(s=(o=t*t)>0&&16,e):Math.sqrt(o)},e}function nn(t){var e=en(function(e,n){return t([e*Ba,n*Ba])});return function(t){return un(e(t))}}function rn(t){this.stream=t;
}function on(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function an(t){return sn(function(){return t})()}function sn(t){function e(t){return t=s(t[0]*Ia,t[1]*Ia),[t[0]*f+u,l-t[1]*f]}function n(t){return t=s.invert((t[0]-u)/f,(l-t[1])/f),t&&[t[0]*Ba,t[1]*Ba]}function r(){s=Te(a=hn(v,m,x),o);var t=o(g,y);return u=d-t[0]*f,l=p+t[1]*f,i()}function i(){return c&&(c.valid=!1,c=null),e}var o,a,s,u,l,c,h=en(function(t,e){return t=o(t,e),[t[0]*f+u,l-t[1]*f]}),f=150,d=480,p=250,g=0,y=0,v=0,m=0,x=0,w=Fs,_=b,k=null,A=null;return e.stream=function(t){return c&&(c.valid=!1),c=un(w(a,h(_(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(w=null==t?(k=t,Fs):He((k=+t)*Ia),i()):k},e.clipExtent=function(t){return arguments.length?(A=t,_=t?qe(t[0][0],t[0][1],t[1][0],t[1][1]):b,i()):A},e.scale=function(t){return arguments.length?(f=+t,r()):f},e.translate=function(t){return arguments.length?(d=+t[0],p=+t[1],r()):[d,p]},e.center=function(t){return arguments.length?(g=t[0]%360*Ia,y=t[1]%360*Ia,r()):[g*Ba,y*Ba]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Ia,m=t[1]%360*Ia,x=t.length>2?t[2]%360*Ia:0,r()):[v*Ba,m*Ba,x*Ba]},ra.rebind(e,h,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,r()}}function un(t){return on(t,function(e,n){t.point(e*Ia,n*Ia)})}function ln(t,e){return[t,e]}function cn(t,e){return[t>La?t-Fa:t<-La?t+Fa:t,e]}function hn(t,e,n){return t?e||n?Te(dn(t),pn(e,n)):dn(t):e||n?pn(e,n):cn}function fn(t){return function(e,n){return e+=t,[e>La?e-Fa:e<-La?e+Fa:e,n]}}function dn(t){var e=fn(t);return e.invert=fn(-t),e}function pn(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,l=Math.sin(e),c=l*r+s*i;return[Math.atan2(u*o-c*a,s*r-l*i),nt(c*o+u*a)]}var r=Math.cos(t),i=Math.sin(t),o=Math.cos(e),a=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,l=Math.sin(e),c=l*o-u*a;return[Math.atan2(u*o+l*a,s*r+c*i),nt(c*r-s*i)]},n}function gn(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,o,a,s){var u=a*e;null!=i?(i=yn(n,i),o=yn(n,o),(a>0?i<o:i>o)&&(i+=a*Fa)):(i=t+a*Fa,o=t-.5*u);for(var l,c=i;a>0?c>o:c<o;c-=u)s.point((l=we([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],l[1])}}function yn(t,e){var n=ge(e);n[0]-=t,xe(n);var r=et(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Ma)%(2*Math.PI)}function vn(t,e,n){var r=ra.range(t,e-Ma,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function mn(t,e,n){var r=ra.range(t,e-Ma,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function bn(t){return t.source}function xn(t){return t.target}function wn(t,e,n,r){var i=Math.cos(e),o=Math.sin(e),a=Math.cos(r),s=Math.sin(r),u=i*Math.cos(t),l=i*Math.sin(t),c=a*Math.cos(n),h=a*Math.sin(n),f=2*Math.asin(Math.sqrt(at(r-e)+i*a*at(n-t))),d=1/Math.sin(f),p=f?function(t){var e=Math.sin(t*=f)*d,n=Math.sin(f-t)*d,r=n*u+e*c,i=n*l+e*h,a=n*o+e*s;return[Math.atan2(i,r)*Ba,Math.atan2(a,Math.sqrt(r*r+i*i))*Ba]}:function(){return[t*Ba,e*Ba]};return p.distance=f,p}function _n(){function t(t,i){var o=Math.sin(i*=Ia),a=Math.cos(i),s=da((t*=Ia)-e),u=Math.cos(s);qs+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=r*o-n*a*u)*s),n*o+r*a*u),e=t,n=o,r=a}var e,n,r;zs.point=function(i,o){e=i*Ia,n=Math.sin(o*=Ia),r=Math.cos(o),zs.point=t},zs.lineEnd=function(){zs.point=zs.lineEnd=_}}function kn(t,e){function n(e,n){var r=Math.cos(e),i=Math.cos(n),o=t(r*i);return[o*i*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(t*o,r*a),Math.asin(r&&n*o/r)]},n}function An(t,e){function n(t,e){a>0?e<-Oa+Ma&&(e=-Oa+Ma):e>Oa-Ma&&(e=Oa-Ma);var n=a/Math.pow(i(e),o);return[n*Math.sin(o*t),a-n*Math.cos(o*t)]}var r=Math.cos(t),i=function(t){return Math.tan(La/4+t/2)},o=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(i(e)/i(t)),a=r*Math.pow(i(t),o)/o;return o?(n.invert=function(t,e){var n=a-e,r=Q(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(a/r,1/o))-Oa]},n):Sn}function Cn(t,e){function n(t,e){var n=o-e;return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}var r=Math.cos(t),i=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),o=r/i+t;return da(i)<Ma?ln:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/i,o-Q(i)*Math.sqrt(t*t+n*n)]},n)}function Sn(t,e){return[t,Math.log(Math.tan(La/4+e/2))]}function En(t){var e,n=an(t),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=o.apply(n,arguments);if(a===n){if(e=null==t){var s=La*r(),u=i();o([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else e&&(a=null);return a},n.clipExtent(null)}function Tn(t,e){return[Math.log(Math.tan(La/4+e/2)),-t]}function Mn(t){return t[0]}function Dn(t){return t[1]}function Ln(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;r>1&&tt(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Fn(t,e){return t[0]-e[0]||t[1]-e[1]}function Nn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function On(t,e,n,r){var i=t[0],o=n[0],a=e[0]-i,s=r[0]-o,u=t[1],l=n[1],c=e[1]-u,h=r[1]-l,f=(s*(u-l)-h*(i-o))/(h*a-s*c);return[i+f*a,u+f*c]}function In(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Bn(){rr(this),this.edge=this.site=this.circle=null}function Pn(t){var e=nu.pop()||new Bn;return e.site=t,e}function Rn(t){Vn(t),Qs.remove(t),nu.push(t),rr(t)}function jn(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,a=t.N,s=[t];Rn(t);for(var u=o;u.circle&&da(n-u.circle.x)<Ma&&da(r-u.circle.cy)<Ma;)o=u.P,s.unshift(u),Rn(u),u=o;s.unshift(u),Vn(u);for(var l=a;l.circle&&da(n-l.circle.x)<Ma&&da(r-l.circle.cy)<Ma;)a=l.N,s.push(l),Rn(l),l=a;s.push(l),Vn(l);var c,h=s.length;for(c=1;c<h;++c)l=s[c],u=s[c-1],tr(l.edge,u.site,l.site,i);u=s[0],l=s[h-1],l.edge=Jn(u.site,l.site,null,i),Gn(u),Gn(l)}function Wn(t){for(var e,n,r,i,o=t.x,a=t.y,s=Qs._;s;)if(r=Hn(s,a)-o,r>Ma)s=s.L;else{if(i=o-$n(s,a),!(i>Ma)){r>-Ma?(e=s.P,n=s):i>-Ma?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var u=Pn(t);if(Qs.insert(e,u),e||n){if(e===n)return Vn(e),n=Pn(e.site),Qs.insert(u,n),u.edge=n.edge=Jn(e.site,u.site),Gn(e),void Gn(n);if(!n)return void(u.edge=Jn(e.site,u.site));Vn(e),Vn(n);var l=e.site,c=l.x,h=l.y,f=t.x-c,d=t.y-h,p=n.site,g=p.x-c,y=p.y-h,v=2*(f*y-d*g),m=f*f+d*d,b=g*g+y*y,x={x:(y*m-d*b)/v+c,y:(f*b-g*m)/v+h};tr(n.edge,l,p,x),u.edge=Jn(l,t,null,x),n.edge=Jn(t,p,null,x),Gn(e),Gn(n)}}function Hn(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var a=t.P;if(!a)return-(1/0);n=a.site;var s=n.x,u=n.y,l=u-e;if(!l)return s;var c=s-r,h=1/o-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+i-o/2)))/h+r:(r+s)/2}function $n(t,e){var n=t.N;if(n)return Hn(n,e);var r=t.site;return r.y===e?r.x:1/0}function qn(t){this.site=t,this.edges=[]}function zn(t){for(var e,n,r,i,o,a,s,u,l,c,h=t[0][0],f=t[1][0],d=t[0][1],p=t[1][1],g=Js,y=g.length;y--;)if(o=g[y],o&&o.prepare())for(s=o.edges,u=s.length,a=0;a<u;)c=s[a].end(),r=c.x,i=c.y,l=s[++a%u].start(),e=l.x,n=l.y,(da(r-e)>Ma||da(i-n)>Ma)&&(s.splice(a,0,new er(Qn(o.site,c,da(r-h)<Ma&&p-i>Ma?{x:h,y:da(e-h)<Ma?n:p}:da(i-p)<Ma&&f-r>Ma?{x:da(n-p)<Ma?e:f,y:p}:da(r-f)<Ma&&i-d>Ma?{x:f,y:da(e-f)<Ma?n:d}:da(i-d)<Ma&&r-h>Ma?{x:da(n-d)<Ma?e:h,y:d}:null),o.site,null)),++u)}function Un(t,e){return e.angle-t.angle}function Yn(){rr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Gn(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i.x,s=i.y,u=r.x-a,l=r.y-s,c=o.x-a,h=o.y-s,f=2*(u*h-l*c);if(!(f>=-Da)){var d=u*u+l*l,p=c*c+h*h,g=(h*d-l*p)/f,y=(u*p-c*d)/f,h=y+s,v=ru.pop()||new Yn;v.arc=t,v.site=i,v.x=g+a,v.y=h+Math.sqrt(g*g+y*y),v.cy=h,t.circle=v;for(var m=null,b=eu._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){m=b.P;break}b=b.L}else{if(!b.R){m=b;break}b=b.R}eu.insert(m,v),m||(tu=v)}}}}function Vn(t){var e=t.circle;e&&(e.P||(tu=e.N),eu.remove(e),ru.push(e),rr(e),t.circle=null)}function Xn(t){for(var e,n=Zs,r=$e(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)e=n[i],(!Kn(e,t)||!r(e)||da(e.a.x-e.b.x)<Ma&&da(e.a.y-e.b.y)<Ma)&&(e.a=e.b=null,n.splice(i,1))}function Kn(t,e){var n=t.b;if(n)return!0;var r,i,o=t.a,a=e[0][0],s=e[1][0],u=e[0][1],l=e[1][1],c=t.l,h=t.r,f=c.x,d=c.y,p=h.x,g=h.y,y=(f+p)/2,v=(d+g)/2;if(g===d){if(y<a||y>=s)return;if(f>p){if(o){if(o.y>=l)return}else o={x:y,y:u};n={x:y,y:l}}else{if(o){if(o.y<u)return}else o={x:y,y:l};n={x:y,y:u}}}else if(r=(f-p)/(g-d),i=v-r*y,r<-1||r>1)if(f>p){if(o){if(o.y>=l)return}else o={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else{if(o){if(o.y<u)return}else o={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else if(d<g){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}return t.a=o,t.b=n,!0}function Zn(t,e){this.l=t,this.r=e,this.a=this.b=null}function Jn(t,e,n,r){var i=new Zn(t,e);return Zs.push(i),n&&tr(i,t,e,n),r&&tr(i,e,t,r),Js[t.i].edges.push(new er(i,t,e)),Js[e.i].edges.push(new er(i,e,t)),i}function Qn(t,e,n){var r=new Zn(t,null);return r.a=e,r.b=n,Zs.push(r),r}function tr(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function er(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function nr(){this._=null}function rr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ir(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function or(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function ar(t){for(;t.L;)t=t.L;return t}function sr(t,e){var n,r,i,o=t.sort(ur).pop();for(Zs=[],Js=new Array(t.length),Qs=new nr,eu=new nr;;)if(i=tu,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===n&&o.y===r||(Js[o.i]=new qn(o),Wn(o),n=o.x,r=o.y),o=t.pop();else{if(!i)break;jn(i.arc)}e&&(Xn(e),zn(e));var a={cells:Js,edges:Zs};return Qs=eu=Zs=Js=null,a}function ur(t,e){return e.y-t.y||e.x-t.x}function lr(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function cr(t){return t.x}function hr(t){return t.y}function fr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function dr(t,e,n,r,i,o){if(!t(e,n,r,i,o)){var a=.5*(n+i),s=.5*(r+o),u=e.nodes;u[0]&&dr(t,u[0],n,r,a,s),u[1]&&dr(t,u[1],a,r,i,s),u[2]&&dr(t,u[2],n,s,a,o),u[3]&&dr(t,u[3],a,s,i,o)}}function pr(t,e,n,r,i,o,a){var s,u=1/0;return function t(l,c,h,f,d){if(!(c>o||h>a||f<r||d<i)){if(p=l.point){var p,g=e-l.x,y=n-l.y,v=g*g+y*y;if(v<u){var m=Math.sqrt(u=v);r=e-m,i=n-m,o=e+m,a=n+m,s=p}}for(var b=l.nodes,x=.5*(c+f),w=.5*(h+d),_=e>=x,k=n>=w,A=k<<1|_,C=A+4;A<C;++A)if(l=b[3&A])switch(3&A){case 0:t(l,c,h,x,w);break;case 1:t(l,x,h,f,w);break;case 2:t(l,c,w,x,d);break;case 3:t(l,x,w,f,d)}}}(t,r,i,o,a),s}function gr(t,e){t=ra.rgb(t),e=ra.rgb(e);var n=t.r,r=t.g,i=t.b,o=e.r-n,a=e.g-r,s=e.b-i;return function(t){return"#"+wt(Math.round(n+o*t))+wt(Math.round(r+a*t))+wt(Math.round(i+s*t))}}function yr(t,e){var n,r={},i={};for(n in t)n in e?r[n]=br(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function vr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function mr(t,e){var n,r,i,o=ou.lastIndex=au.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=ou.exec(t))&&(r=au.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:vr(n,r)})),o=au.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?(e=u[0].x,function(t){return e(t)+""}):function(){return e}:(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function br(t,e){for(var n,r=ra.interpolators.length;--r>=0&&!(n=ra.interpolators[r](t,e)););return n}function xr(t,e){var n,r=[],i=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)r.push(br(t[n],e[n]));for(;n<o;++n)i[n]=t[n];for(;n<a;++n)i[n]=e[n];return function(t){for(n=0;n<s;++n)i[n]=r[n](t);return i}}function wr(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function _r(t){return function(e){return 1-t(1-e)}}function kr(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function Ar(t){return t*t}function Cr(t){return t*t*t}function Sr(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function Er(t){return function(e){return Math.pow(e,t)}}function Tr(t){return 1-Math.cos(t*Oa)}function Mr(t){return Math.pow(2,10*(t-1))}function Dr(t){return 1-Math.sqrt(1-t*t)}function Lr(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Fa*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*Fa/e)}}function Fr(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Nr(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Or(t,e){t=ra.hcl(t),e=ra.hcl(e);var n=t.h,r=t.c,i=t.l,o=e.h-n,a=e.c-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.c:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360),function(t){return ht(n+o*t,r+a*t,i+s*t)+""}}function Ir(t,e){t=ra.hsl(t),e=ra.hsl(e);var n=t.h,r=t.s,i=t.l,o=e.h-n,a=e.s-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.s:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360),function(t){return lt(n+o*t,r+a*t,i+s*t)+""}}function Br(t,e){t=ra.lab(t),e=ra.lab(e);var n=t.l,r=t.a,i=t.b,o=e.l-n,a=e.a-r,s=e.b-i;return function(t){return dt(n+o*t,r+a*t,i+s*t)+""}}function Pr(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Rr(t){var e=[t.a,t.b],n=[t.c,t.d],r=Wr(e),i=jr(e,n),o=Wr(Hr(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Ba,this.translate=[t.e,t.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*Ba:0}function jr(t,e){return t[0]*e[0]+t[1]*e[1]}function Wr(t){var e=Math.sqrt(jr(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Hr(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function $r(t,e){var n,r=[],i=[],o=ra.transform(t),a=ra.transform(e),s=o.translate,u=a.translate,l=o.rotate,c=a.rotate,h=o.skew,f=a.skew,d=o.scale,p=a.scale;return s[0]!=u[0]||s[1]!=u[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:vr(s[0],u[0])},{i:3,x:vr(s[1],u[1])})):u[0]||u[1]?r.push("translate("+u+")"):r.push(""),l!=c?(l-c>180?c+=360:c-l>180&&(l+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:vr(l,c)})):c&&r.push(r.pop()+"rotate("+c+")"),h!=f?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:vr(h,f)}):f&&r.push(r.pop()+"skewX("+f+")"),d[0]!=p[0]||d[1]!=p[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:n-4,x:vr(d[0],p[0])},{i:n-2,x:vr(d[1],p[1])})):1==p[0]&&1==p[1]||r.push(r.pop()+"scale("+p+")"),n=i.length,function(t){for(var e,o=-1;++o<n;)r[(e=i[o]).i]=e.x(t);return r.join("")}}function qr(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function zr(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Ur(t){for(var e=t.source,n=t.target,r=Gr(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function Yr(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Gr(t,e){if(t===e)return t;for(var n=Yr(t),r=Yr(e),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}function Vr(t){t.fixed|=2}function Xr(t){t.fixed&=-7}function Kr(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Zr(t){t.fixed&=-5}function Jr(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var o,a=t.nodes,s=a.length,u=-1;++u<s;)o=a[u],null!=o&&(Jr(o,e,n),t.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var l=e*n[t.point.index];t.charge+=t.pointCharge=l,r+=l*t.point.x,i+=l*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}function Qr(t,e){return ra.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=oi,t}function ti(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function ei(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(o=t.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(t=r.pop());)e(t)}function ni(t){return t.children}function ri(t){return t.value}function ii(t,e){return e.value-t.value}function oi(t){return ra.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function ai(t){return t.x}function si(t){return t.y}function ui(t,e,n){t.y0=e,t.y=n}function li(t){return ra.range(t.length)}function ci(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function hi(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function fi(t){return t.reduce(di,0)}function di(t,e){return t+e[1]}function pi(t,e){return gi(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function gi(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function yi(t){return[ra.min(t),ra.max(t)]}function vi(t,e){return t.value-e.value}function mi(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function bi(t,e){t._pack_next=e,e._pack_prev=t}function xi(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function wi(t){function e(t){c=Math.min(t.x-t.r,c),h=Math.max(t.x+t.r,h),f=Math.min(t.y-t.r,f),d=Math.max(t.y+t.r,d)}if((n=t.children)&&(l=n.length)){var n,r,i,o,a,s,u,l,c=1/0,h=-(1/0),f=1/0,d=-(1/0);if(n.forEach(_i),r=n[0],r.x=-r.r,r.y=0,e(r),l>1&&(i=n[1],i.x=i.r,i.y=0,e(i),l>2))for(o=n[2],Ci(r,i,o),e(o),mi(r,o),r._pack_prev=o,mi(o,i),i=r._pack_next,a=3;a<l;a++){Ci(r,i,o=n[a]);var p=0,g=1,y=1;for(s=i._pack_next;s!==i;s=s._pack_next,g++)if(xi(s,o)){p=1;break}if(1==p)for(u=r._pack_prev;u!==s._pack_prev&&!xi(u,o);u=u._pack_prev,y++);p?(g<y||g==y&&i.r<r.r?bi(r,i=s):bi(r=u,i),a--):(mi(r,o),i=o,e(o))}var v=(c+h)/2,m=(f+d)/2,b=0;for(a=0;a<l;a++)o=n[a],o.x-=v,o.y-=m,b=Math.max(b,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=b,n.forEach(ki)}}function _i(t){t._pack_next=t._pack_prev=t}function ki(t){delete t._pack_next,delete t._pack_prev}function Ai(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var o=-1,a=i.length;++o<a;)Ai(i[o],e,n,r)}function Ci(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var a=e.r+n.r,s=i*i+o*o;a*=a,r*=r;var u=.5+(r-a)/(2*s),l=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=t.x+u*i+l*o,n.y=t.y+u*o-l*i}else n.x=t.x+r,n.y=t.y}function Si(t,e){return t.parent==e.parent?1:2}function Ei(t){var e=t.children;return e.length?e[0]:t.t}function Ti(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Mi(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Di(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)e=i[o],e.z+=n,e.m+=n,n+=e.s+(r+=e.c)}function Li(t,e,n){return t.a.parent===e.parent?t.a:n}function Fi(t){return 1+ra.max(t,function(t){return t.y})}function Ni(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Oi(t){var e=t.children;return e&&e.length?Oi(e[0]):t}function Ii(t){var e,n=t.children;return n&&(e=n.length)?Ii(n[e-1]):t}function Bi(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Pi(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function Ri(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function ji(t){return t.rangeExtent?t.rangeExtent():Ri(t.range())}function Wi(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function Hi(t,e){var n,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function $i(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:vu}function qi(t,e,n,r){var i=[],o=[],a=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=s;)i.push(n(t[a-1],t[a])),o.push(r(e[a-1],e[a]));return function(e){var n=ra.bisect(t,e,1,s)-1;return o[n](i[n](e))}}function zi(t,e,n,r){function i(){var i=Math.min(t.length,e.length)>2?qi:Wi,u=r?zr:qr;return a=i(t,e,u,n),s=i(e,t,u,br),o}function o(t){return a(t)}var a,s;return o.invert=function(t){return s(t)},o.domain=function(e){return arguments.length?(t=e.map(Number),i()):t},o.range=function(t){return arguments.length?(e=t,i()):e},o.rangeRound=function(t){return o.range(t).interpolate(Pr)},o.clamp=function(t){return arguments.length?(r=t,i()):r},o.interpolate=function(t){return arguments.length?(n=t,i()):n},o.ticks=function(e){return Vi(t,e)},o.tickFormat=function(e,n){return Xi(t,e,n)},o.nice=function(e){return Yi(t,e),i()},o.copy=function(){return zi(t,e,n,r)},i()}function Ui(t,e){return ra.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Yi(t,e){return Hi(t,$i(Gi(t,e)[2]))}function Gi(t,e){null==e&&(e=10);var n=Ri(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Vi(t,e){return ra.range.apply(ra,Gi(t,e))}function Xi(t,e,n){var r=Gi(t,e);if(n){var i=os.exec(n);if(i.shift(),"s"===i[8]){var o=ra.formatPrefix(Math.max(da(r[0]),da(r[1])));return i[7]||(i[7]="."+Ki(o.scale(r[2]))),i[8]="f",n=ra.format(i.join("")),function(t){return n(o.scale(t))+o.symbol}}i[7]||(i[7]="."+Zi(i[8],r)),n=i.join("")}else n=",."+Ki(r[2])+"f";return ra.format(n)}function Ki(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Zi(t,e){var n=Ki(e[2]);return t in mu?Math.abs(n-Ki(Math.max(da(e[0]),da(e[1]))))+ +("e"!==t):n-2*("%"===t)}function Ji(t,e,n,r){function i(t){return(n?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function o(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function a(e){return t(i(e))}return a.invert=function(e){return o(t.invert(e))},a.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((r=e.map(Number)).map(i)),a):r},a.base=function(n){return arguments.length?(e=+n,t.domain(r.map(i)),a):e},a.nice=function(){var e=Hi(r.map(i),n?Math:xu);return t.domain(e),r=e.map(o),a},a.ticks=function(){var t=Ri(r),a=[],s=t[0],u=t[1],l=Math.floor(i(s)),c=Math.ceil(i(u)),h=e%1?2:e;if(isFinite(c-l)){if(n){for(;l<c;l++)for(var f=1;f<h;f++)a.push(o(l)*f);a.push(o(l))}else for(a.push(o(l));l++<c;)for(var f=h-1;f>0;f--)a.push(o(l)*f);for(l=0;a[l]<s;l++);for(c=a.length;a[c-1]>u;c--);a=a.slice(l,c)}return a},a.tickFormat=function(t,e){if(!arguments.length)return bu;arguments.length<2?e=bu:"function"!=typeof e&&(e=ra.format(e));var r,s=Math.max(.1,t/a.ticks().length),u=n?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(t){return t/o(u(i(t)+r))<=s?e(t):""}},a.copy=function(){return Ji(t.copy(),e,n,r)},Ui(a,t)}function Qi(t,e,n){function r(e){return t(i(e))}var i=to(e),o=to(1/e);return r.invert=function(e){return o(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(i)),r):n},r.ticks=function(t){return Vi(n,t)},r.tickFormat=function(t,e){return Xi(n,t,e)},r.nice=function(t){return r.domain(Yi(n,t))},r.exponent=function(a){return arguments.length?(i=to(e=a),o=to(1/e),t.domain(n.map(i)),r):e},r.copy=function(){return Qi(t.copy(),e,n)},Ui(r,t)}function to(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function eo(t,e){function n(n){return o[((i.get(n)||("range"===e.t?i.set(n,t.push(n)):NaN))-1)%o.length]}function r(e,n){return ra.range(t.length).map(function(t){return e+n*t})}var i,o,a;return n.domain=function(r){if(!arguments.length)return t;t=[],i=new c;for(var o,a=-1,s=r.length;++a<s;)i.has(o=r[a])||i.set(o,t.push(o));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(o=t,a=0,e={t:"range",a:arguments},n):o},n.rangePoints=function(i,s){arguments.length<2&&(s=0);var u=i[0],l=i[1],c=t.length<2?(u=(u+l)/2,0):(l-u)/(t.length-1+s);return o=r(u+c*s/2,c),a=0,e={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(i,s){arguments.length<2&&(s=0);var u=i[0],l=i[1],c=t.length<2?(u=l=Math.round((u+l)/2),0):(l-u)/(t.length-1+s)|0;return o=r(u+Math.round(c*s/2+(l-u-(t.length-1+s)*c)/2),c),a=0,e={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(i,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var l=i[1]<i[0],c=i[l-0],h=i[1-l],f=(h-c)/(t.length-s+2*u);return o=r(c+f*u,f),l&&o.reverse(),a=f*(1-s),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var l=i[1]<i[0],c=i[l-0],h=i[1-l],f=Math.floor((h-c)/(t.length-s+2*u));return o=r(c+Math.round((h-c-(t.length-s)*f)/2),f),l&&o.reverse(),a=Math.round(f*(1-s)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return Ri(e.a[0])},n.copy=function(){return eo(t,e)},n.domain(t)}function no(t,e){function n(){var n=0,r=e.length;for(s=[];++n<r;)s[n-1]=ra.quantile(t,n/r);return a}function a(t){if(!isNaN(t=+t))return e[ra.bisect(s,t)]}var s;return a.domain=function(e){return arguments.length?(t=e.map(i).filter(o).sort(r),n()):t},a.range=function(t){return arguments.length?(e=t,n()):e},a.quantiles=function(){return s},a.invertExtent=function(n){return n=e.indexOf(n),n<0?[NaN,NaN]:[n>0?s[n-1]:t[0],n<s.length?s[n]:t[t.length-1]]},a.copy=function(){return no(t,e)},n()}function ro(t,e,n){function r(e){return n[Math.max(0,Math.min(a,Math.floor(o*(e-t))))]}function i(){return o=n.length/(e-t),a=n.length-1,r}var o,a;return r.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],i()):[t,e]},r.range=function(t){return arguments.length?(n=t,i()):n},r.invertExtent=function(e){return e=n.indexOf(e),e=e<0?NaN:e/o+t,[e,e+1/o]},r.copy=function(){return ro(t,e,n)},i()}function io(t,e){function n(n){if(n<=n)return e[ra.bisect(t,n)]}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return io(t,e)},n}function oo(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return Vi(t,e)},e.tickFormat=function(e,n){return Xi(t,e,n)},e.copy=function(){return oo(t)},e}function ao(){return 0}function so(t){return t.innerRadius}function uo(t){return t.outerRadius}function lo(t){return t.startAngle}function co(t){return t.endAngle}function ho(t){return t&&t.padAngle}function fo(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function po(t,e,n,r,i){var o=t[0]-e[0],a=t[1]-e[1],s=(i?r:-r)/Math.sqrt(o*o+a*a),u=s*a,l=-s*o,c=t[0]+u,h=t[1]+l,f=e[0]+u,d=e[1]+l,p=(c+f)/2,g=(h+d)/2,y=f-c,v=d-h,m=y*y+v*v,b=n-r,x=c*d-f*h,w=(v<0?-1:1)*Math.sqrt(b*b*m-x*x),_=(x*v-y*w)/m,k=(-x*y-v*w)/m,A=(x*v+y*w)/m,C=(-x*y+v*w)/m,S=_-p,E=k-g,T=A-p,M=C-g;return S*S+E*E>T*T+M*M&&(_=A,k=C),[[_-u,k-l],[_*n/b,k*n/b]]}function go(t){function e(e){function a(){l.push("M",o(t(c),s))}for(var u,l=[],c=[],h=-1,f=e.length,d=Et(n),p=Et(r);++h<f;)i.call(this,u=e[h],h)?c.push([+d.call(this,u,h),+p.call(this,u,h)]):c.length&&(a(),c=[]);return c.length&&a(),l.length?l.join(""):null}var n=Mn,r=Dn,i=Me,o=yo,a=o.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e.defined=function(t){return arguments.length?(i=t,e):i},e.interpolate=function(t){return arguments.length?(a="function"==typeof t?o=t:(o=Su.get(t)||yo).key,e):a},e.tension=function(t){return arguments.length?(s=t,e):s},e}function yo(t){return t.join("L")}function vo(t){return yo(t)+"Z"}function mo(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function bo(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function xo(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function wo(t,e){return t.length<4?yo(t):t[1]+Ao(t.slice(1,-1),Co(t,e))}function _o(t,e){return t.length<3?yo(t):t[0]+Ao((t.push(t[0]),t),Co([t[t.length-2]].concat(t,[t[1]]),e))}function ko(t,e){return t.length<3?yo(t):t[0]+Ao(t,Co(t,e))}function Ao(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return yo(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],a=e[0],s=a,u=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],u=2),e.length>1){s=e[1],o=t[u],u++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var l=2;l<e.length;l++,u++)o=t[u],s=e[l],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=t[u];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function Co(t,e){for(var n,r=[],i=(1-e)/2,o=t[0],a=t[1],s=1,u=t.length;++s<u;)n=o,o=a,a=t[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function So(t){if(t.length<3)return yo(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],s=[o,o,o,r[1]],u=[i,",",o,"L",Do(Mu,a),",",Do(Mu,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),Lo(u,a,s);return t.pop(),u.push("L",r),u.join("")}function Eo(t){if(t.length<4)return yo(t);for(var e,n=[],r=-1,i=t.length,o=[0],a=[0];++r<3;)e=t[r],o.push(e[0]),a.push(e[1]);for(n.push(Do(Mu,o)+","+Do(Mu,a)),--r;++r<i;)e=t[r],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Lo(n,o,a);return n.join("")}function To(t){for(var e,n,r=-1,i=t.length,o=i+4,a=[],s=[];++r<4;)n=t[r%i],a.push(n[0]),s.push(n[1]);for(e=[Do(Mu,a),",",Do(Mu,s)],--r;++r<o;)n=t[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Lo(e,a,s);return e.join("")}function Mo(t,e){var n=t.length-1;if(n)for(var r,i,o=t[0][0],a=t[0][1],s=t[n][0]-o,u=t[n][1]-a,l=-1;++l<=n;)r=t[l],i=l/n,r[0]=e*r[0]+(1-e)*(o+i*s),r[1]=e*r[1]+(1-e)*(a+i*u);return So(t)}function Do(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Lo(t,e,n){t.push("C",Do(Eu,e),",",Do(Eu,n),",",Do(Tu,e),",",Do(Tu,n),",",Do(Mu,e),",",Do(Mu,n))}function Fo(t,e){return(e[1]-t[1])/(e[0]-t[0])}function No(t){for(var e=0,n=t.length-1,r=[],i=t[0],o=t[1],a=r[0]=Fo(i,o);++e<n;)r[e]=(a+(a=Fo(i=o,o=t[e+1])))/2;return r[e]=a,r}function Oo(t){for(var e,n,r,i,o=[],a=No(t),s=-1,u=t.length-1;++s<u;)e=Fo(t[s],t[s+1]),da(e)<Ma?a[s]=a[s+1]=0:(n=a[s]/e,r=a[s+1]/e,i=n*n+r*r,i>9&&(i=3*e/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r));for(s=-1;++s<=u;)i=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}function Io(t){return t.length<3?yo(t):t[0]+Ao(t,Oo(t))}function Bo(t){for(var e,n,r,i=-1,o=t.length;++i<o;)e=t[i],n=e[0],r=e[1]-Oa,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function Po(t){function e(e){function u(){g.push("M",s(t(v),h),c,l(t(y.reverse()),h),"Z")}for(var f,d,p,g=[],y=[],v=[],m=-1,b=e.length,x=Et(n),w=Et(i),_=n===r?function(){return d}:Et(r),k=i===o?function(){return p}:Et(o);++m<b;)a.call(this,f=e[m],m)?(y.push([d=+x.call(this,f,m),p=+w.call(this,f,m)]),v.push([+_.call(this,f,m),+k.call(this,f,m)])):y.length&&(u(),y=[],v=[]);return y.length&&u(),g.length?g.join(""):null}var n=Mn,r=Mn,i=0,o=Dn,a=Me,s=yo,u=s.key,l=s,c="L",h=.7;return e.x=function(t){return arguments.length?(n=r=t,e):r},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(i=o=t,e):o},e.y0=function(t){return arguments.length?(i=t,e):i},e.y1=function(t){return arguments.length?(o=t,e):o},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(u="function"==typeof t?s=t:(s=Su.get(t)||yo).key,l=s.reverse||s,c=s.closed?"M":"L",e):u},e.tension=function(t){return arguments.length?(h=t,e):h},e}function Ro(t){return t.radius}function jo(t){return[t.x,t.y]}function Wo(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-Oa;return[n*Math.cos(r),n*Math.sin(r)]}}function Ho(){return 64}function $o(){return"circle"}function qo(t){
var e=Math.sqrt(t/La);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function zo(t){return function(){var e,n;(e=this[t])&&(n=e[e.active])&&(--e.count?delete e[e.active]:delete this[t],e.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function Uo(t,e,n){return ma(t,Bu),t.namespace=e,t.id=n,t}function Yo(t,e,n,r){var i=t.id,o=t.namespace;return z(t,"function"==typeof n?function(t,a,s){t[o][i].tween.set(e,r(n.call(t,t.__data__,a,s)))}:(n=r(n),function(t){t[o][i].tween.set(e,n)}))}function Go(t){return null==t&&(t=""),function(){this.textContent=t}}function Vo(t){return null==t?"__transition__":"__transition_"+t+"__"}function Xo(t,e,n,r,i){var o=t[n]||(t[n]={active:0,count:0}),a=o[r];if(!a){var s=i.time;a=o[r]={tween:new c,time:s,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++o.count,ra.timer(function(i){function u(n){if(o.active>r)return c();var i=o[o.active];i&&(--o.count,delete o[o.active],i.event&&i.event.interrupt.call(t,t.__data__,i.index)),o.active=r,a.event&&a.event.start.call(t,t.__data__,e),a.tween.forEach(function(n,r){(r=r.call(t,t.__data__,e))&&g.push(r)}),f=a.ease,h=a.duration,ra.timer(function(){return p.c=l(n||1)?Me:l,1},0,s)}function l(n){if(o.active!==r)return 1;for(var i=n/h,s=f(i),u=g.length;u>0;)g[--u].call(t,s);return i>=1?(a.event&&a.event.end.call(t,t.__data__,e),c()):void 0}function c(){return--o.count?delete o[r]:delete t[n],1}var h,f,d=a.delay,p=ns,g=[];return p.t=d+s,d<=i?u(i-d):void(p.c=u)},0,s)}}function Ko(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"})}function Zo(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"})}function Jo(t){return t.toISOString()}function Qo(t,e,n){function r(e){return t(e)}function i(t,n){var r=t[1]-t[0],i=r/n,o=ra.bisect(Uu,i);return o==Uu.length?[e.year,Gi(t.map(function(t){return t/31536e6}),n)[2]]:o?e[i/Uu[o-1]<Uu[o]/i?o-1:o]:[Vu,Gi(t,n)[2]]}return r.invert=function(e){return ta(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(ta)},r.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,ta(+n+1),e).length}var o=r.domain(),a=Ri(o),s=null==t?i(a,10):"number"==typeof t&&i(a,t);return s&&(t=s[0],e=s[1]),r.domain(Hi(o,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=ta(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=ta(+e+1);return e}}:t))},r.ticks=function(t,e){var n=Ri(r.domain()),o=null==t?i(n,10):"number"==typeof t?i(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],ta(+n[1]+1),e<1?1:e)},r.tickFormat=function(){return n},r.copy=function(){return Qo(t.copy(),e,n)},Ui(r,t)}function ta(t){return new Date(t)}function ea(t){return JSON.parse(t.responseText)}function na(t){var e=aa.createRange();return e.selectNode(aa.body),e.createContextualFragment(t.responseText)}var ra={version:"3.5.6"},ia=[].slice,oa=function(t){return ia.call(t)},aa=this.document;if(aa)try{oa(aa.documentElement.childNodes)[0].nodeType}catch(t){oa=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),aa)try{aa.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var sa=this.Element.prototype,ua=sa.setAttribute,la=sa.setAttributeNS,ca=this.CSSStyleDeclaration.prototype,ha=ca.setProperty;sa.setAttribute=function(t,e){ua.call(this,t,e+"")},sa.setAttributeNS=function(t,e,n){la.call(this,t,e,n+"")},ca.setProperty=function(t,e,n){ha.call(this,t,e+"",n)}}ra.ascending=r,ra.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},ra.min=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},ra.max=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},ra.extent=function(t,e){var n,r,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=t[o])&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=t[o])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++o<a;)if(null!=(r=e.call(t,t[o],o))&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=e.call(t,t[o],o))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},ra.sum=function(t,e){var n,r=0,i=t.length,a=-1;if(1===arguments.length)for(;++a<i;)o(n=+t[a])&&(r+=n);else for(;++a<i;)o(n=+e.call(t,t[a],a))&&(r+=n);return r},ra.mean=function(t,e){var n,r=0,a=t.length,s=-1,u=a;if(1===arguments.length)for(;++s<a;)o(n=i(t[s]))?r+=n:--u;else for(;++s<a;)o(n=i(e.call(t,t[s],s)))?r+=n:--u;if(u)return r/u},ra.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},ra.median=function(t,e){var n,a=[],s=t.length,u=-1;if(1===arguments.length)for(;++u<s;)o(n=i(t[u]))&&a.push(n);else for(;++u<s;)o(n=i(e.call(t,t[u],u)))&&a.push(n);if(a.length)return ra.quantile(a.sort(r),.5)},ra.variance=function(t,e){var n,r,a=t.length,s=0,u=0,l=-1,c=0;if(1===arguments.length)for(;++l<a;)o(n=i(t[l]))&&(r=n-s,s+=r/++c,u+=r*(n-s));else for(;++l<a;)o(n=i(e.call(t,t[l],l)))&&(r=n-s,s+=r/++c,u+=r*(n-s));if(c>1)return u/(c-1)},ra.deviation=function(){var t=ra.variance.apply(this,arguments);return t?Math.sqrt(t):t};var fa=a(r);ra.bisectLeft=fa.left,ra.bisect=ra.bisectRight=fa.right,ra.bisector=function(t){return a(1===t.length?function(e,n){return r(t(e),n)}:t)},ra.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,o<2&&(e=0));for(var r,i,o=n-e;o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},ra.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},ra.pairs=function(t){for(var e,n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=[e=i,i=t[++n]];return o},ra.zip=function(){if(!(r=arguments.length))return[];for(var t=-1,e=ra.min(arguments,s),n=new Array(e);++t<e;)for(var r,i=-1,o=n[t]=new Array(r);++i<r;)o[i]=arguments[i][t];return n},ra.transpose=function(t){return ra.zip.apply(ra,t)},ra.keys=function(t){var e=[];for(var n in t)e.push(n);return e},ra.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},ra.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},ra.merge=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(r=t[i],e=r.length;--e>=0;)n[--a]=r[e];return n};var da=Math.abs;ra.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var r,i=[],o=u(da(n)),a=-1;if(t*=o,e*=o,n*=o,n<0)for(;(r=t+n*++a)>e;)i.push(r/o);else for(;(r=t+n*++a)<e;)i.push(r/o);return i},ra.map=function(t,e){var n=new c;if(t instanceof c)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(1===arguments.length)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e.call(t,r=t[i],i),r)}else for(var a in t)n.set(a,t[a]);return n};var pa="__proto__",ga="\0";l(c,{has:d,get:function(t){return this._[h(t)]},set:function(t,e){return this._[h(t)]=e},remove:p,keys:g,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:f(e),value:this._[e]});return t},size:y,empty:v,forEach:function(t){for(var e in this._)t.call(this,f(e),this._[e])}}),ra.nest=function(){function t(e,a,s){if(s>=o.length)return r?r.call(i,a):n?a.sort(n):a;for(var u,l,h,f,d=-1,p=a.length,g=o[s++],y=new c;++d<p;)(f=y.get(u=g(l=a[d])))?f.push(l):y.set(u,[l]);return e?(l=e(),h=function(n,r){l.set(n,t(e,r,s))}):(l={},h=function(n,r){l[n]=t(e,r,s)}),y.forEach(h),l}function e(t,n){if(n>=o.length)return t;var r=[],i=a[n++];return t.forEach(function(t,i){r.push({key:t,values:e(i,n)})}),i?r.sort(function(t,e){return i(t.key,e.key)}):r}var n,r,i={},o=[],a=[];return i.map=function(e,n){return t(n,e,0)},i.entries=function(n){return e(t(ra.map,n,0),0)},i.key=function(t){return o.push(t),i},i.sortKeys=function(t){return a[o.length-1]=t,i},i.sortValues=function(t){return n=t,i},i.rollup=function(t){return r=t,i},i},ra.set=function(t){var e=new m;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},l(m,{has:d,add:function(t){return this._[h(t+="")]=!0,t},remove:p,values:g,size:y,empty:v,forEach:function(t){for(var e in this._)t.call(this,f(e))}}),ra.behavior={},ra.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=x(t,e,e[n]);return t};var ya=["webkit","ms","moz","Moz","o","O"];ra.dispatch=function(){for(var t=new k,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=A(t);return t},k.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},ra.event=null,ra.requote=function(t){return t.replace(va,"\\$&")};var va=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ma={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},ba=function(t,e){return e.querySelector(t)},xa=function(t,e){return e.querySelectorAll(t)},wa=function(t,e){var n=t.matches||t[w(t,"matchesSelector")];return(wa=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(ba=function(t,e){return Sizzle(t,e)[0]||null},xa=Sizzle,wa=Sizzle.matchesSelector),ra.selection=function(){return ra.select(aa.documentElement)};var _a=ra.selection.prototype=[];_a.select=function(t){var e,n,r,i,o=[];t=M(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var u=-1,l=r.length;++u<l;)(i=r[u])?(e.push(n=t.call(i,i.__data__,u,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return T(o)},_a.selectAll=function(t){var e,n,r=[];t=D(t);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],s=-1,u=a.length;++s<u;)(n=a[s])&&(r.push(e=oa(t.call(n,n.__data__,s,i))),e.parentNode=n);return T(r)};var ka={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ra.ns={prefix:ka,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.slice(0,e),t=t.slice(e+1)),ka.hasOwnProperty(n)?{space:ka[n],local:t}:t}},_a.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=ra.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(L(e,t[e]));return this}return this.each(L(t,e))},_a.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=O(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!N(t[i]).test(e))return!1;return!0}for(e in t)this.each(I(e,t[e]));return this}return this.each(I(t,e))},_a.style=function(t,e,r){var i=arguments.length;if(i<3){if("string"!=typeof t){i<2&&(e="");for(r in t)this.each(P(r,t[r],e));return this}if(i<2){var o=this.node();return n(o).getComputedStyle(o,null).getPropertyValue(t)}r=""}return this.each(P(t,e,r))},_a.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(R(e,t[e]));return this}return this.each(R(t,e))},_a.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},_a.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},_a.append=function(t){return t=j(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},_a.insert=function(t,e){return t=j(t),e=M(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},_a.remove=function(){return this.each(W)},_a.data=function(t,e){function n(t,n){var r,i,o,a=t.length,h=n.length,f=Math.min(a,h),d=new Array(h),p=new Array(h),g=new Array(a);if(e){var y,v=new c,m=new Array(a);for(r=-1;++r<a;)v.has(y=e.call(i=t[r],i.__data__,r))?g[r]=i:v.set(y,i),m[r]=y;for(r=-1;++r<h;)(i=v.get(y=e.call(n,o=n[r],r)))?i!==!0&&(d[r]=i,i.__data__=o):p[r]=H(o),v.set(y,!0);for(r=-1;++r<a;)v.get(m[r])!==!0&&(g[r]=t[r])}else{for(r=-1;++r<f;)i=t[r],o=n[r],i?(i.__data__=o,d[r]=i):p[r]=H(o);for(;r<h;++r)p[r]=H(n[r]);for(;r<a;++r)g[r]=t[r]}p.update=d,p.parentNode=d.parentNode=g.parentNode=t.parentNode,s.push(p),u.push(d),l.push(g)}var r,i,o=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(r=this[0]).length);++o<a;)(i=r[o])&&(t[o]=i.__data__);return t}var s=U([]),u=T([]),l=T([]);if("function"==typeof t)for(;++o<a;)n(r=this[o],t.call(r,r.parentNode.__data__,o));else for(;++o<a;)n(r=this[o],t);return u.enter=function(){return s},u.exit=function(){return l},u},_a.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},_a.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=$(t));for(var o=0,a=this.length;o<a;o++){i.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,u=n.length;s<u;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return T(i)},_a.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},_a.sort=function(t){t=q.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},_a.each=function(t){return z(this,function(e,n,r){t.call(e,e.__data__,n,r)})},_a.call=function(t){var e=oa(arguments);return t.apply(e[0]=this,e),this},_a.empty=function(){return!this.node()},_a.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var o=n[r];if(o)return o}return null},_a.size=function(){var t=0;return z(this,function(){++t}),t};var Aa=[];ra.selection.enter=U,ra.selection.enter.prototype=Aa,Aa.append=_a.append,Aa.empty=_a.empty,Aa.node=_a.node,Aa.call=_a.call,Aa.size=_a.size,Aa.select=function(t){for(var e,n,r,i,o,a=[],s=-1,u=this.length;++s<u;){r=(i=this[s]).update,a.push(e=[]),e.parentNode=i.parentNode;for(var l=-1,c=i.length;++l<c;)(o=i[l])?(e.push(r[l]=n=t.call(i.parentNode,o.__data__,l,s)),n.__data__=o.__data__):e.push(null)}return T(a)},Aa.insert=function(t,e){return arguments.length<2&&(e=Y(this)),_a.insert.call(this,t,e)},ra.select=function(e){var n;return"string"==typeof e?(n=[ba(e,aa)],n.parentNode=aa.documentElement):(n=[e],n.parentNode=t(e)),T([n])},ra.selectAll=function(t){var e;return"string"==typeof t?(e=oa(xa(t,aa)),e.parentNode=aa.documentElement):(e=t,e.parentNode=null),T([e])},_a.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){r<2&&(e=!1);for(n in t)this.each(G(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(G(t,e,n))};var Ca=ra.map({mouseenter:"mouseover",mouseleave:"mouseout"});aa&&Ca.forEach(function(t){"on"+t in aa&&Ca.remove(t)});var Sa,Ea=0;ra.mouse=function(t){return Z(t,S())};var Ta=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ra.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=S().changedTouches),e)for(var r,i=0,o=e.length;i<o;++i)if((r=e[i]).identifier===n)return Z(t,r)},ra.behavior.drag=function(){function t(){this.on("mousedown.drag",o).on("touchstart.drag",a)}function e(t,e,n,o,a){return function(){function s(){var t,n,r=e(f,g);r&&(t=r[0]-b[0],n=r[1]-b[1],p|=t|n,b=r,d({type:"drag",x:r[0]+l[0],y:r[1]+l[1],dx:t,dy:n}))}function u(){e(f,g)&&(v.on(o+y,null).on(a+y,null),m(p&&ra.event.target===h),d({type:"dragend"}))}var l,c=this,h=ra.event.target,f=c.parentNode,d=r.of(c,arguments),p=0,g=t(),y=".drag"+(null==g?"":"-"+g),v=ra.select(n(h)).on(o+y,s).on(a+y,u),m=K(h),b=e(f,g);i?(l=i.apply(c,arguments),l=[l.x-b[0],l.y-b[1]]):l=[0,0],d({type:"dragstart"})}}var r=E(t,"drag","dragstart","dragend"),i=null,o=e(_,ra.mouse,n,"mousemove","mouseup"),a=e(J,ra.touch,b,"touchmove","touchend");return t.origin=function(e){return arguments.length?(i=e,t):i},ra.rebind(t,r,"on")},ra.touches=function(t,e){return arguments.length<2&&(e=S().touches),e?oa(e).map(function(e){var n=Z(t,e);return n.identifier=e.identifier,n}):[]};var Ma=1e-6,Da=Ma*Ma,La=Math.PI,Fa=2*La,Na=Fa-Ma,Oa=La/2,Ia=La/180,Ba=180/La,Pa=Math.SQRT2,Ra=2,ja=4;ra.interpolateZoom=function(t,e){function n(t){var e=t*m;if(v){var n=it(g),a=o/(Ra*f)*(n*ot(Pa*e+g)-rt(g));return[r+a*l,i+a*c,o*n/it(Pa*e+g)]}return[r+t*l,i+t*c,o*Math.exp(Pa*e)]}var r=t[0],i=t[1],o=t[2],a=e[0],s=e[1],u=e[2],l=a-r,c=s-i,h=l*l+c*c,f=Math.sqrt(h),d=(u*u-o*o+ja*h)/(2*o*Ra*f),p=(u*u-o*o-ja*h)/(2*u*Ra*f),g=Math.log(Math.sqrt(d*d+1)-d),y=Math.log(Math.sqrt(p*p+1)-p),v=y-g,m=(v||Math.log(u/o))/Pa;return n.duration=1e3*m,n},ra.behavior.zoom=function(){function t(t){t.on(L,h).on(Ha+".zoom",d).on("dblclick.zoom",p).on(O,f)}function e(t){return[(t[0]-A.x)/A.k,(t[1]-A.y)/A.k]}function r(t){return[t[0]*A.k+A.x,t[1]*A.k+A.y]}function i(t){A.k=Math.max(T[0],Math.min(T[1],t))}function o(t,e){e=r(e),A.x+=t[0]-e[0],A.y+=t[1]-e[1]}function a(e,n,r,a){e.__chart__={x:A.x,y:A.y,k:A.k},i(Math.pow(2,a)),o(y=n,r),e=ra.select(e),M>0&&(e=e.transition().duration(M)),e.call(t.event)}function s(){w&&w.domain(x.range().map(function(t){return(t-A.x)/A.k}).map(x.invert)),k&&k.domain(_.range().map(function(t){return(t-A.y)/A.k}).map(_.invert))}function u(t){D++||t({type:"zoomstart"})}function l(t){s(),t({type:"zoom",scale:A.k,translate:[A.x,A.y]})}function c(t){--D||(t({type:"zoomend"}),y=null)}function h(){function t(){h=1,o(ra.mouse(i),d),l(s)}function r(){f.on(F,null).on(N,null),p(h&&ra.event.target===a),c(s)}var i=this,a=ra.event.target,s=I.of(i,arguments),h=0,f=ra.select(n(i)).on(F,t).on(N,r),d=e(ra.mouse(i)),p=K(i);Iu.call(i),u(s)}function f(){function t(){var t=ra.touches(p);return d=A.k,t.forEach(function(t){t.identifier in y&&(y[t.identifier]=e(t))}),t}function n(){var e=ra.event.target;ra.select(e).on(x,r).on(w,s),_.push(e);for(var n=ra.event.changedTouches,i=0,o=n.length;i<o;++i)y[n[i].identifier]=null;var u=t(),l=Date.now();if(1===u.length){if(l-b<500){var c=u[0];a(p,c,y[c.identifier],Math.floor(Math.log(A.k)/Math.LN2)+1),C()}b=l}else if(u.length>1){var c=u[0],h=u[1],f=c[0]-h[0],d=c[1]-h[1];v=f*f+d*d}}function r(){var t,e,n,r,a=ra.touches(p);Iu.call(p);for(var s=0,u=a.length;s<u;++s,r=null)if(n=a[s],r=y[n.identifier]){if(e)break;t=n,e=r}if(r){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,h=v&&Math.sqrt(c/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+r[0])/2,(e[1]+r[1])/2],i(h*d)}b=null,o(t,e),l(g)}function s(){if(ra.event.touches.length){for(var e=ra.event.changedTouches,n=0,r=e.length;n<r;++n)delete y[e[n].identifier];for(var i in y)return void t()}ra.selectAll(_).on(m,null),k.on(L,h).on(O,f),S(),c(g)}var d,p=this,g=I.of(p,arguments),y={},v=0,m=".zoom-"+ra.event.changedTouches[0].identifier,x="touchmove"+m,w="touchend"+m,_=[],k=ra.select(p),S=K(p);n(),u(g),k.on(L,null).on(O,n)}function d(){var t=I.of(this,arguments);m?clearTimeout(m):(Iu.call(this),g=e(y=v||ra.mouse(this)),u(t)),m=setTimeout(function(){m=null,c(t)},50),C(),i(Math.pow(2,.002*Wa())*A.k),o(y,g),l(t)}function p(){var t=ra.mouse(this),n=Math.log(A.k)/Math.LN2;a(this,t,e(t),ra.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}var g,y,v,m,b,x,w,_,k,A={x:0,y:0,k:1},S=[960,500],T=$a,M=250,D=0,L="mousedown.zoom",F="mousemove.zoom",N="mouseup.zoom",O="touchstart.zoom",I=E(t,"zoomstart","zoom","zoomend");return Ha||(Ha="onwheel"in aa?(Wa=function(){return-ra.event.deltaY*(ra.event.deltaMode?120:1)},"wheel"):"onmousewheel"in aa?(Wa=function(){return ra.event.wheelDelta},"mousewheel"):(Wa=function(){return-ra.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=I.of(this,arguments),e=A;Nu?ra.select(this).transition().each("start.zoom",function(){A=this.__chart__||{x:0,y:0,k:1},u(t)}).tween("zoom:zoom",function(){var n=S[0],r=S[1],i=y?y[0]:n/2,o=y?y[1]:r/2,a=ra.interpolateZoom([(i-A.x)/A.k,(o-A.y)/A.k,n/A.k],[(i-e.x)/e.k,(o-e.y)/e.k,n/e.k]);return function(e){var r=a(e),s=n/r[2];this.__chart__=A={x:i-r[0]*s,y:o-r[1]*s,k:s},l(t)}}).each("interrupt.zoom",function(){c(t)}).each("end.zoom",function(){c(t)}):(this.__chart__=A,u(t),l(t),c(t))})},t.translate=function(e){return arguments.length?(A={x:+e[0],y:+e[1],k:A.k},s(),t):[A.x,A.y]},t.scale=function(e){return arguments.length?(A={x:A.x,y:A.y,k:+e},s(),t):A.k},t.scaleExtent=function(e){return arguments.length?(T=null==e?$a:[+e[0],+e[1]],t):T},t.center=function(e){return arguments.length?(v=e&&[+e[0],+e[1]],t):v},t.size=function(e){return arguments.length?(S=e&&[+e[0],+e[1]],t):S},t.duration=function(e){return arguments.length?(M=+e,t):M},t.x=function(e){return arguments.length?(w=e,x=e.copy(),A={x:0,y:0,k:1},t):w},t.y=function(e){return arguments.length?(k=e,_=e.copy(),A={x:0,y:0,k:1},t):k},ra.rebind(t,I,"on")};var Wa,Ha,$a=[0,1/0];ra.color=st,st.prototype.toString=function(){return this.rgb()+""},ra.hsl=ut;var qa=ut.prototype=new st;qa.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new ut(this.h,this.s,this.l/t)},qa.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new ut(this.h,this.s,t*this.l)},qa.rgb=function(){return lt(this.h,this.s,this.l)},ra.hcl=ct;var za=ct.prototype=new st;za.brighter=function(t){return new ct(this.h,this.c,Math.min(100,this.l+Ua*(arguments.length?t:1)))},za.darker=function(t){return new ct(this.h,this.c,Math.max(0,this.l-Ua*(arguments.length?t:1)))},za.rgb=function(){return ht(this.h,this.c,this.l).rgb()},ra.lab=ft;var Ua=18,Ya=.95047,Ga=1,Va=1.08883,Xa=ft.prototype=new st;Xa.brighter=function(t){return new ft(Math.min(100,this.l+Ua*(arguments.length?t:1)),this.a,this.b)},Xa.darker=function(t){return new ft(Math.max(0,this.l-Ua*(arguments.length?t:1)),this.a,this.b)},Xa.rgb=function(){return dt(this.l,this.a,this.b)},ra.rgb=mt;var Ka=mt.prototype=new st;Ka.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&e<i&&(e=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new mt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new mt(i,i,i)},Ka.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new mt(t*this.r,t*this.g,t*this.b)},Ka.hsl=function(){return kt(this.r,this.g,this.b)},Ka.toString=function(){return"#"+wt(this.r)+wt(this.g)+wt(this.b)};var Za=ra.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Za.forEach(function(t,e){Za.set(t,bt(e))}),ra.functor=Et,ra.xhr=Tt(b),ra.dsv=function(t,e){function n(t,n,o){arguments.length<3&&(o=n,n=null);var a=Mt(t,e,null==n?r:i(n),o);return a.row=function(t){return arguments.length?a.response(null==(n=t)?r:i(t)):n},a}function r(t){return n.parse(t.responseText)}function i(t){return function(e){return n.parse(e.responseText,t)}}function o(e){return e.map(a).join(t)}function a(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),u=t.charCodeAt(0);return n.parse=function(t,e){var r;return n.parseRows(t,function(t,n){if(r)return r(t,n-1);var i=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=e?function(t,n){return e(i(t),n)}:i})},n.parseRows=function(t,e){function n(){if(c>=l)return a;if(i)return i=!1,o;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<l;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}c=n+2;var r=t.charCodeAt(n+1);return 13===r?(i=!0,10===t.charCodeAt(n+2)&&++c):10===r&&(i=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;c<l;){var r=t.charCodeAt(c++),s=1;if(10===r)i=!0;else if(13===r)i=!0,10===t.charCodeAt(c)&&(++c,++s);else if(r!==u)continue;return t.slice(e,c-s)}return t.slice(e)}for(var r,i,o={},a={},s=[],l=t.length,c=0,h=0;(r=n())!==a;){for(var f=[];r!==o&&r!==a;)f.push(r),r=n();e&&null==(f=e(f,h++))||s.push(f)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var r=new m,i=[];return e.forEach(function(t){for(var e in t)r.has(e)||i.push(r.add(e))}),[i.map(a).join(t)].concat(e.map(function(e){return i.map(function(t){return a(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(o).join("\n")},n},ra.csv=ra.dsv(",","text/csv"),ra.tsv=ra.dsv("\t","text/tab-separated-values");var Ja,Qa,ts,es,ns,rs=this[w(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};ra.timer=function(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i=n+e,o={c:t,t:i,f:!1,n:null};Qa?Qa.n=o:Ja=o,Qa=o,ts||(es=clearTimeout(es),ts=1,rs(Ft))},ra.timer.flush=function(){Nt(),Ot()},ra.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var is=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Bt);ra.formatPrefix=function(t,e){var n=0;return t&&(t<0&&(t*=-1),e&&(t=ra.round(t,It(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),is[8+n/3]};var os=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,as=ra.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=ra.round(t,It(t,e))).toFixed(Math.max(0,Math.min(20,It(t*(1+1e-15),e))))}}),ss=ra.time={},us=Date;jt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ls.setUTCDate.apply(this._,arguments)},setDay:function(){ls.setUTCDay.apply(this._,arguments)},setFullYear:function(){ls.setUTCFullYear.apply(this._,arguments)},setHours:function(){ls.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ls.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ls.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ls.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ls.setUTCSeconds.apply(this._,arguments)},setTime:function(){ls.setTime.apply(this._,arguments)}};var ls=Date.prototype;ss.year=Wt(function(t){return t=ss.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),ss.years=ss.year.range,ss.years.utc=ss.year.utc.range,ss.day=Wt(function(t){var e=new us(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),ss.days=ss.day.range,ss.days.utc=ss.day.utc.range,ss.dayOfYear=function(t){var e=ss.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=ss[t]=Wt(function(t){return(t=ss.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=ss.year(t).getDay();return Math.floor((ss.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});ss[t+"s"]=n.range,ss[t+"s"].utc=n.utc.range,ss[t+"OfYear"]=function(t){var n=ss.year(t).getDay();return Math.floor((ss.dayOfYear(t)+(n+e)%7)/7)}}),ss.week=ss.sunday,ss.weeks=ss.sunday.range,ss.weeks.utc=ss.sunday.utc.range,ss.weekOfYear=ss.sundayOfYear;var cs={"-":"",_:" ",0:"0"},hs=/^\s*\d+/,fs=/^%/;ra.locale=function(t){return{numberFormat:Pt(t),timeFormat:$t(t)}};var ds=ra.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ra.format=ds.numberFormat,ra.geo={},le.prototype={s:0,t:0,add:function(t){ce(t,this.t,ps),ce(ps.s,this.s,this),this.s?this.t+=ps.t:this.s=ps.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ps=new le;ra.geo.stream=function(t,e){t&&gs.hasOwnProperty(t.type)?gs[t.type](t,e):he(t,e)};var gs={Feature:function(t,e){he(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)he(n[r].geometry,e)}},ys={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){fe(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)fe(n[r],e,0)},Polygon:function(t,e){
de(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)de(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)he(n[r],e)}};ra.geo.area=function(t){return vs=0,ra.geo.stream(t,bs),vs};var vs,ms=new le,bs={sphere:function(){vs+=4*La},point:_,lineStart:_,lineEnd:_,polygonStart:function(){ms.reset(),bs.lineStart=pe},polygonEnd:function(){var t=2*ms;vs+=t<0?4*La+t:t,bs.lineStart=bs.lineEnd=bs.point=_}};ra.geo.bounds=function(){function t(t,e){b.push(x=[c=t,f=t]),e<h&&(h=e),e>d&&(d=e)}function e(e,n){var r=ge([e*Ia,n*Ia]);if(v){var i=ve(v,r),o=[i[1],-i[0],0],a=ve(o,i);xe(a),a=we(a);var u=e-p,l=u>0?1:-1,g=a[0]*Ba*l,y=da(u)>180;if(y^(l*p<g&&g<l*e)){var m=a[1]*Ba;m>d&&(d=m)}else if(g=(g+360)%360-180,y^(l*p<g&&g<l*e)){var m=-a[1]*Ba;m<h&&(h=m)}else n<h&&(h=n),n>d&&(d=n);y?e<p?s(c,e)>s(c,f)&&(f=e):s(e,f)>s(c,f)&&(c=e):f>=c?(e<c&&(c=e),e>f&&(f=e)):e>p?s(c,e)>s(c,f)&&(f=e):s(e,f)>s(c,f)&&(c=e)}else t(e,n);v=r,p=e}function n(){w.point=e}function r(){x[0]=c,x[1]=f,w.point=t,v=null}function i(t,n){if(v){var r=t-p;m+=da(r)>180?r+(r>0?360:-360):r}else g=t,y=n;bs.point(t,n),e(t,n)}function o(){bs.lineStart()}function a(){i(g,y),bs.lineEnd(),da(m)>Ma&&(c=-(f=180)),x[0]=c,x[1]=f,v=null}function s(t,e){return(e-=t)<0?e+360:e}function u(t,e){return t[0]-e[0]}function l(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,h,f,d,p,g,y,v,m,b,x,w={point:t,lineStart:n,lineEnd:r,polygonStart:function(){w.point=i,w.lineStart=o,w.lineEnd=a,m=0,bs.polygonStart()},polygonEnd:function(){bs.polygonEnd(),w.point=t,w.lineStart=n,w.lineEnd=r,ms<0?(c=-(f=180),h=-(d=90)):m>Ma?d=90:m<-Ma&&(h=-90),x[0]=c,x[1]=f}};return function(t){d=f=-(c=h=1/0),b=[],ra.geo.stream(t,w);var e=b.length;if(e){b.sort(u);for(var n,r=1,i=b[0],o=[i];r<e;++r)n=b[r],l(n[0],i)||l(n[1],i)?(s(i[0],n[1])>s(i[0],i[1])&&(i[1]=n[1]),s(n[0],i[1])>s(i[0],i[1])&&(i[0]=n[0])):o.push(i=n);for(var a,n,p=-(1/0),e=o.length-1,r=0,i=o[e];r<=e;i=n,++r)n=o[r],(a=s(i[1],n[0]))>p&&(p=a,c=n[0],f=i[1])}return b=x=null,c===1/0||h===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,h],[f,d]]}}(),ra.geo.centroid=function(t){xs=ws=_s=ks=As=Cs=Ss=Es=Ts=Ms=Ds=0,ra.geo.stream(t,Ls);var e=Ts,n=Ms,r=Ds,i=e*e+n*n+r*r;return i<Da&&(e=Cs,n=Ss,r=Es,ws<Ma&&(e=_s,n=ks,r=As),i=e*e+n*n+r*r,i<Da)?[NaN,NaN]:[Math.atan2(n,e)*Ba,nt(r/Math.sqrt(i))*Ba]};var xs,ws,_s,ks,As,Cs,Ss,Es,Ts,Ms,Ds,Ls={sphere:_,point:ke,lineStart:Ce,lineEnd:Se,polygonStart:function(){Ls.lineStart=Ee},polygonEnd:function(){Ls.lineStart=Ce}},Fs=Ne(Me,Pe,je,[-La,-La/2]),Ns=1e9;ra.geo.clipExtent=function(){var t,e,n,r,i,o,a={stream:function(t){return i&&(i.valid=!1),i=o(t),i.valid=!0,i},extent:function(s){return arguments.length?(o=qe(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),a):[[t,e],[n,r]]}};return a.extent([[0,0],[960,500]])},(ra.geo.conicEqualArea=function(){return ze(Ue)}).raw=Ue,ra.geo.albers=function(){return ra.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ra.geo.albersUsa=function(){function t(t){var o=t[0],a=t[1];return e=null,n(o,a),e||(r(o,a),e)||i(o,a),e}var e,n,r,i,o=ra.geo.albers(),a=ra.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=ra.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?a:i>=.166&&i<.234&&r>=-.214&&r<-.115?s:o).invert(t)},t.stream=function(t){var e=o.stream(t),n=a.stream(t),r=s.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),r.point(t,i)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},t.precision=function(e){return arguments.length?(o.precision(e),a.precision(e),s.precision(e),t):o.precision()},t.scale=function(e){return arguments.length?(o.scale(e),a.scale(.35*e),s.scale(e),t.translate(o.translate())):o.scale()},t.translate=function(e){if(!arguments.length)return o.translate();var l=o.scale(),c=+e[0],h=+e[1];return n=o.translate(e).clipExtent([[c-.455*l,h-.238*l],[c+.455*l,h+.238*l]]).stream(u).point,r=a.translate([c-.307*l,h+.201*l]).clipExtent([[c-.425*l+Ma,h+.12*l+Ma],[c-.214*l-Ma,h+.234*l-Ma]]).stream(u).point,i=s.translate([c-.205*l,h+.212*l]).clipExtent([[c-.214*l+Ma,h+.166*l+Ma],[c-.115*l-Ma,h+.234*l-Ma]]).stream(u).point,t},t.scale(1070)};var Os,Is,Bs,Ps,Rs,js,Ws={point:_,lineStart:_,lineEnd:_,polygonStart:function(){Is=0,Ws.lineStart=Ye},polygonEnd:function(){Ws.lineStart=Ws.lineEnd=Ws.point=_,Os+=da(Is/2)}},Hs={point:Ge,lineStart:_,lineEnd:_,polygonStart:_,polygonEnd:_},$s={point:Ke,lineStart:Ze,lineEnd:Je,polygonStart:function(){$s.lineStart=Qe},polygonEnd:function(){$s.point=Ke,$s.lineStart=Ze,$s.lineEnd=Je}};ra.geo.path=function(){function t(t){return t&&("function"==typeof s&&o.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=i(o)),ra.geo.stream(t,a)),o.result()}function e(){return a=null,t}var n,r,i,o,a,s=4.5;return t.area=function(t){return Os=0,ra.geo.stream(t,i(Ws)),Os},t.centroid=function(t){return _s=ks=As=Cs=Ss=Es=Ts=Ms=Ds=0,ra.geo.stream(t,i($s)),Ds?[Ts/Ds,Ms/Ds]:Es?[Cs/Es,Ss/Es]:As?[_s/As,ks/As]:[NaN,NaN]},t.bounds=function(t){return Rs=js=-(Bs=Ps=1/0),ra.geo.stream(t,i(Hs)),[[Bs,Ps],[Rs,js]]},t.projection=function(t){return arguments.length?(i=(n=t)?t.stream||nn(t):b,e()):n},t.context=function(t){return arguments.length?(o=null==(r=t)?new Ve:new tn(t),"function"!=typeof s&&o.pointRadius(s),e()):r},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(o.pointRadius(+e),+e),t):s},t.projection(ra.geo.albersUsa()).context(null)},ra.geo.transform=function(t){return{stream:function(e){var n=new rn(e);for(var r in t)n[r]=t[r];return n}}},rn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ra.geo.projection=an,ra.geo.projectionMutator=sn,(ra.geo.equirectangular=function(){return an(ln)}).raw=ln.invert=ln,ra.geo.rotation=function(t){function e(e){return e=t(e[0]*Ia,e[1]*Ia),e[0]*=Ba,e[1]*=Ba,e}return t=hn(t[0]%360*Ia,t[1]*Ia,t.length>2?t[2]*Ia:0),e.invert=function(e){return e=t.invert(e[0]*Ia,e[1]*Ia),e[0]*=Ba,e[1]*=Ba,e},e},cn.invert=ln,ra.geo.circle=function(){function t(){var t="function"==typeof r?r.apply(this,arguments):r,e=hn(-t[0]*Ia,-t[1]*Ia,0).invert,i=[];return n(null,null,1,{point:function(t,n){i.push(t=e(t,n)),t[0]*=Ba,t[1]*=Ba}}),{type:"Polygon",coordinates:[i]}}var e,n,r=[0,0],i=6;return t.origin=function(e){return arguments.length?(r=e,t):r},t.angle=function(r){return arguments.length?(n=gn((e=+r)*Ia,i*Ia),t):e},t.precision=function(r){return arguments.length?(n=gn(e*Ia,(i=+r)*Ia),t):i},t.angle(90)},ra.geo.distance=function(t,e){var n,r=(e[0]-t[0])*Ia,i=t[1]*Ia,o=e[1]*Ia,a=Math.sin(r),s=Math.cos(r),u=Math.sin(i),l=Math.cos(i),c=Math.sin(o),h=Math.cos(o);return Math.atan2(Math.sqrt((n=h*a)*n+(n=l*c-u*h*s)*n),u*c+l*h*s)},ra.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return ra.range(Math.ceil(o/y)*y,i,y).map(f).concat(ra.range(Math.ceil(l/v)*v,u,v).map(d)).concat(ra.range(Math.ceil(r/p)*p,n,p).filter(function(t){return da(t%y)>Ma}).map(c)).concat(ra.range(Math.ceil(s/g)*g,a,g).filter(function(t){return da(t%v)>Ma}).map(h))}var n,r,i,o,a,s,u,l,c,h,f,d,p=10,g=p,y=90,v=360,m=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[f(o).concat(d(u).slice(1),f(i).reverse().slice(1),d(l).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(o=+e[0][0],i=+e[1][0],l=+e[0][1],u=+e[1][1],o>i&&(e=o,o=i,i=e),l>u&&(e=l,l=u,u=e),t.precision(m)):[[o,l],[i,u]]},t.minorExtent=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(m)):[[r,s],[n,a]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(y=+e[0],v=+e[1],t):[y,v]},t.minorStep=function(e){return arguments.length?(p=+e[0],g=+e[1],t):[p,g]},t.precision=function(e){return arguments.length?(m=+e,c=vn(s,a,90),h=mn(r,n,m),f=vn(l,u,90),d=mn(o,i,m),t):m},t.majorExtent([[-180,-90+Ma],[180,90-Ma]]).minorExtent([[-180,-80-Ma],[180,80+Ma]])},ra.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||i.apply(this,arguments)]}}var e,n,r=bn,i=xn;return t.distance=function(){return ra.geo.distance(e||r.apply(this,arguments),n||i.apply(this,arguments))},t.source=function(n){return arguments.length?(r=n,e="function"==typeof n?null:n,t):r},t.target=function(e){return arguments.length?(i=e,n="function"==typeof e?null:e,t):i},t.precision=function(){return arguments.length?t:0},t},ra.geo.interpolate=function(t,e){return wn(t[0]*Ia,t[1]*Ia,e[0]*Ia,e[1]*Ia)},ra.geo.length=function(t){return qs=0,ra.geo.stream(t,zs),qs};var qs,zs={sphere:_,point:_,lineStart:_n,lineEnd:_,polygonStart:_,polygonEnd:_},Us=kn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(ra.geo.azimuthalEqualArea=function(){return an(Us)}).raw=Us;var Ys=kn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},b);(ra.geo.azimuthalEquidistant=function(){return an(Ys)}).raw=Ys,(ra.geo.conicConformal=function(){return ze(An)}).raw=An,(ra.geo.conicEquidistant=function(){return ze(Cn)}).raw=Cn;var Gs=kn(function(t){return 1/t},Math.atan);(ra.geo.gnomonic=function(){return an(Gs)}).raw=Gs,Sn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Oa]},(ra.geo.mercator=function(){return En(Sn)}).raw=Sn;var Vs=kn(function(){return 1},Math.asin);(ra.geo.orthographic=function(){return an(Vs)}).raw=Vs;var Xs=kn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(ra.geo.stereographic=function(){return an(Xs)}).raw=Xs,Tn.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Oa]},(ra.geo.transverseMercator=function(){var t=En(Tn),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=Tn,ra.geom={},ra.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,i=Et(n),o=Et(r),a=t.length,s=[],u=[];for(e=0;e<a;e++)s.push([+i.call(this,t[e],e),+o.call(this,t[e],e),e]);for(s.sort(Fn),e=0;e<a;e++)u.push([s[e][0],-s[e][1]]);var l=Ln(s),c=Ln(u),h=c[0]===l[0],f=c[c.length-1]===l[l.length-1],d=[];for(e=l.length-1;e>=0;--e)d.push(t[s[l[e]][2]]);for(e=+h;e<c.length-f;++e)d.push(t[s[c[e]][2]]);return d}var n=Mn,r=Dn;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e)},ra.geom.polygon=function(t){return ma(t,Ks),t};var Ks=ra.geom.polygon.prototype=[];Ks.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},Ks.centroid=function(t){var e,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},Ks.clip=function(t){for(var e,n,r,i,o,a,s=In(t),u=-1,l=this.length-In(this),c=this[l-1];++u<l;){for(e=t.slice(),t.length=0,i=this[u],o=e[(r=e.length-s)-1],n=-1;++n<r;)a=e[n],Nn(a,c,i)?(Nn(o,c,i)||t.push(On(o,a,c,i)),t.push(a)):Nn(o,c,i)&&t.push(On(o,a,c,i)),o=a;s&&t.push(t[0]),c=i}return t};var Zs,Js,Qs,tu,eu,nu=[],ru=[];qn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(Un),e.length},er.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},nr.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=ar(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(ir(this,n),t=n,n=t.U),n.C=!1,r.C=!0,or(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(or(this,n),t=n,n=t.U),n.C=!1,r.C=!0,ir(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?ar(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if(e=i.R,e.C&&(e.C=!1,i.C=!0,ir(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,or(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,ir(this,i),t=this._;break}}else if(e=i.L,e.C&&(e.C=!1,i.C=!0,or(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ir(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,or(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},ra.geom.voronoi=function(t){function e(t){var e=new Array(t.length),r=s[0][0],i=s[0][1],o=s[1][0],a=s[1][1];return sr(n(t),s).cells.forEach(function(n,s){var u=n.edges,l=n.site,c=e[s]=u.length?u.map(function(t){var e=t.start();return[e.x,e.y]}):l.x>=r&&l.x<=o&&l.y>=i&&l.y<=a?[[r,a],[o,a],[o,i],[r,i]]:[];c.point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(o(t,e)/Ma)*Ma,y:Math.round(a(t,e)/Ma)*Ma,i:e}})}var r=Mn,i=Dn,o=r,a=i,s=iu;return t?e(t):(e.links=function(t){return sr(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return sr(n(t)).cells.forEach(function(n,r){for(var i,o,a=n.site,s=n.edges.sort(Un),u=-1,l=s.length,c=s[l-1].edge,h=c.l===a?c.r:c.l;++u<l;)i=c,o=h,c=s[u].edge,h=c.l===a?c.r:c.l,r<o.i&&r<h.i&&lr(a,o,h)<0&&e.push([t[r],t[o.i],t[h.i]])}),e},e.x=function(t){return arguments.length?(o=Et(r=t),e):r},e.y=function(t){return arguments.length?(a=Et(i=t),e):i},e.clipExtent=function(t){return arguments.length?(s=null==t?iu:t,e):s===iu?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===iu?null:s&&s[1]},e)};var iu=[[-1e6,-1e6],[1e6,1e6]];ra.geom.delaunay=function(t){return ra.geom.voronoi().triangles(t)},ra.geom.quadtree=function(t,e,n,r,i){function o(t){function o(t,e,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var u=t.x,c=t.y;if(null!=u)if(da(u-n)+da(c-r)<.01)l(t,e,n,r,i,o,a,s);else{var h=t.point;t.x=t.y=t.point=null,l(t,h,u,c,i,o,a,s),l(t,e,n,r,i,o,a,s)}else t.x=n,t.y=r,t.point=e}else l(t,e,n,r,i,o,a,s)}function l(t,e,n,r,i,a,s,u){var l=.5*(i+s),c=.5*(a+u),h=n>=l,f=r>=c,d=f<<1|h;t.leaf=!1,t=t.nodes[d]||(t.nodes[d]=fr()),h?i=l:s=l,f?a=c:u=c,o(t,e,n,r,i,a,s,u)}var c,h,f,d,p,g,y,v,m,b=Et(s),x=Et(u);if(null!=e)g=e,y=n,v=r,m=i;else if(v=m=-(g=y=1/0),h=[],f=[],p=t.length,a)for(d=0;d<p;++d)c=t[d],c.x<g&&(g=c.x),c.y<y&&(y=c.y),c.x>v&&(v=c.x),c.y>m&&(m=c.y),h.push(c.x),f.push(c.y);else for(d=0;d<p;++d){var w=+b(c=t[d],d),_=+x(c,d);w<g&&(g=w),_<y&&(y=_),w>v&&(v=w),_>m&&(m=_),h.push(w),f.push(_)}var k=v-g,A=m-y;k>A?m=y+k:v=g+A;var C=fr();if(C.add=function(t){o(C,t,+b(t,++d),+x(t,d),g,y,v,m)},C.visit=function(t){dr(t,C,g,y,v,m)},C.find=function(t){return pr(C,t[0],t[1],g,y,v,m)},d=-1,null==e){for(;++d<p;)o(C,t[d],h[d],f[d],g,y,v,m);--d}else t.forEach(C.add);return h=f=t=c=null,C}var a,s=Mn,u=Dn;return(a=arguments.length)?(s=cr,u=hr,3===a&&(i=n,r=e,n=e=0),o(t)):(o.x=function(t){return arguments.length?(s=t,o):s},o.y=function(t){return arguments.length?(u=t,o):u},o.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),o):null==e?null:[[e,n],[r,i]]},o.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),o):null==e?null:[r-e,i-n]},o)},ra.interpolateRgb=gr,ra.interpolateObject=yr,ra.interpolateNumber=vr,ra.interpolateString=mr;var ou=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,au=new RegExp(ou.source,"g");ra.interpolate=br,ra.interpolators=[function(t,e){var n=typeof e;return("string"===n?Za.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?gr:mr:e instanceof st?gr:Array.isArray(e)?xr:"object"===n&&isNaN(e)?yr:vr)(t,e)}],ra.interpolateArray=xr;var su=function(){return b},uu=ra.map({linear:su,poly:Er,quad:function(){return Ar},cubic:function(){return Cr},sin:function(){return Tr},exp:function(){return Mr},circle:function(){return Dr},elastic:Lr,back:Fr,bounce:function(){return Nr}}),lu=ra.map({in:b,out:_r,"in-out":kr,"out-in":function(t){return kr(_r(t))}});ra.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=uu.get(n)||su,r=lu.get(r)||b,wr(r(n.apply(null,ia.call(arguments,1))))},ra.interpolateHcl=Or,ra.interpolateHsl=Ir,ra.interpolateLab=Br,ra.interpolateRound=Pr,ra.transform=function(t){var e=aa.createElementNS(ra.ns.prefix.svg,"g");return(ra.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Rr(n?n.matrix:cu)})(t)},Rr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var cu={a:1,b:0,c:0,d:1,e:0,f:0};ra.interpolateTransform=$r,ra.layout={},ra.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(Ur(t[n]));return e}},ra.layout.chord=function(){function t(){var t,l,h,f,d,p={},g=[],y=ra.range(o),v=[];for(n=[],r=[],t=0,f=-1;++f<o;){for(l=0,d=-1;++d<o;)l+=i[f][d];g.push(l),v.push(ra.range(o)),t+=l}for(a&&y.sort(function(t,e){return a(g[t],g[e])}),s&&v.forEach(function(t,e){t.sort(function(t,n){return s(i[e][t],i[e][n])})}),t=(Fa-c*o)/t,l=0,f=-1;++f<o;){for(h=l,d=-1;++d<o;){var m=y[f],b=v[m][d],x=i[m][b],w=l,_=l+=x*t;p[m+"-"+b]={index:m,subindex:b,startAngle:w,endAngle:_,value:x}}r[m]={index:m,startAngle:h,endAngle:l,value:(l-h)/t},l+=c}for(f=-1;++f<o;)for(d=f-1;++d<o;){var k=p[f+"-"+d],A=p[d+"-"+f];(k.value||A.value)&&n.push(k.value<A.value?{source:A,target:k}:{source:k,target:A})}u&&e()}function e(){n.sort(function(t,e){return u((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,r,i,o,a,s,u,l={},c=0;return l.matrix=function(t){return arguments.length?(o=(i=t)&&i.length,n=r=null,l):i},l.padding=function(t){return arguments.length?(c=t,n=r=null,l):c},l.sortGroups=function(t){return arguments.length?(a=t,n=r=null,l):a},l.sortSubgroups=function(t){return arguments.length?(s=t,n=null,l):s},l.sortChords=function(t){return arguments.length?(u=t,n&&e(),l):u},l.chords=function(){return n||t(),n},l.groups=function(){return r||t(),r},l},ra.layout.force=function(){function t(t){return function(e,n,r,i){if(e.point!==t){var o=e.cx-t.x,a=e.cy-t.y,s=i-n,u=o*o+a*a;if(s*s/y<u){if(u<p){var l=e.charge/u;t.px-=o*l,t.py-=a*l}return!0}if(e.point&&u&&u<p){var l=e.pointCharge/u;t.px-=o*l,t.py-=a*l}}return!e.charge}}function e(t){t.px=ra.event.x,t.py=ra.event.y,s.resume()}var n,r,i,o,a,s={},u=ra.dispatch("start","tick","end"),l=[1,1],c=.9,h=hu,f=fu,d=-30,p=du,g=.1,y=.64,v=[],m=[];return s.tick=function(){if((r*=.99)<.005)return u.end({type:"end",alpha:r=0}),!0;var e,n,s,h,f,p,y,b,x,w=v.length,_=m.length;for(n=0;n<_;++n)s=m[n],h=s.source,f=s.target,b=f.x-h.x,x=f.y-h.y,(p=b*b+x*x)&&(p=r*o[n]*((p=Math.sqrt(p))-i[n])/p,b*=p,x*=p,f.x-=b*(y=h.weight/(f.weight+h.weight)),f.y-=x*y,h.x+=b*(y=1-y),h.y+=x*y);if((y=r*g)&&(b=l[0]/2,x=l[1]/2,n=-1,y))for(;++n<w;)s=v[n],s.x+=(b-s.x)*y,s.y+=(x-s.y)*y;if(d)for(Jr(e=ra.geom.quadtree(v),r,a),n=-1;++n<w;)(s=v[n]).fixed||e.visit(t(s));for(n=-1;++n<w;)s=v[n],s.fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*c,s.y-=(s.py-(s.py=s.y))*c);u.tick({type:"tick",alpha:r})},s.nodes=function(t){return arguments.length?(v=t,s):v},s.links=function(t){return arguments.length?(m=t,s):m},s.size=function(t){return arguments.length?(l=t,s):l},s.linkDistance=function(t){return arguments.length?(h="function"==typeof t?t:+t,s):h},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(f="function"==typeof t?t:+t,s):f},s.friction=function(t){return arguments.length?(c=+t,s):c},s.charge=function(t){return arguments.length?(d="function"==typeof t?t:+t,s):d},s.chargeDistance=function(t){return arguments.length?(p=t*t,s):Math.sqrt(p)},s.gravity=function(t){return arguments.length?(g=+t,s):g},s.theta=function(t){return arguments.length?(y=t*t,s):Math.sqrt(y)},s.alpha=function(t){return arguments.length?(t=+t,r?r=t>0?t:0:t>0&&(u.start({type:"start",alpha:r=t}),ra.timer(s.tick)),s):r},s.start=function(){function t(t,r){if(!n){for(n=new Array(u),s=0;s<u;++s)n[s]=[];for(s=0;s<c;++s){var i=m[s];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var o,a=n[e],s=-1,l=a.length;++s<l;)if(!isNaN(o=a[s][t]))return o;return Math.random()*r}var e,n,r,u=v.length,c=m.length,p=l[0],g=l[1];for(e=0;e<u;++e)(r=v[e]).index=e,r.weight=0;for(e=0;e<c;++e)r=m[e],"number"==typeof r.source&&(r.source=v[r.source]),"number"==typeof r.target&&(r.target=v[r.target]),++r.source.weight,++r.target.weight;for(e=0;e<u;++e)r=v[e],isNaN(r.x)&&(r.x=t("x",p)),isNaN(r.y)&&(r.y=t("y",g)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof h)for(e=0;e<c;++e)i[e]=+h.call(this,m[e],e);else for(e=0;e<c;++e)i[e]=h;if(o=[],"function"==typeof f)for(e=0;e<c;++e)o[e]=+f.call(this,m[e],e);else for(e=0;e<c;++e)o[e]=f;if(a=[],"function"==typeof d)for(e=0;e<u;++e)a[e]=+d.call(this,v[e],e);else for(e=0;e<u;++e)a[e]=d;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return n||(n=ra.behavior.drag().origin(b).on("dragstart.force",Vr).on("drag.force",e).on("dragend.force",Xr)),arguments.length?void this.on("mouseover.force",Kr).on("mouseout.force",Zr).call(n):n},ra.rebind(s,u,"on")};var hu=20,fu=1,du=1/0;ra.layout.hierarchy=function(){function t(i){var o,a=[i],s=[];for(i.depth=0;null!=(o=a.pop());)if(s.push(o),(l=n.call(t,o,o.depth))&&(u=l.length)){for(var u,l,c;--u>=0;)a.push(c=l[u]),c.parent=o,c.depth=o.depth+1;r&&(o.value=0),o.children=l}else r&&(o.value=+r.call(t,o,o.depth)||0),delete o.children;return ei(i,function(t){var n,i;e&&(n=t.children)&&n.sort(e),r&&(i=t.parent)&&(i.value+=t.value)}),s}var e=ii,n=ni,r=ri;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(r=e,t):r},t.revalue=function(e){return r&&(ti(e,function(t){t.children&&(t.value=0)}),ei(e,function(e){var n;e.children||(e.value=+r.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},ra.layout.partition=function(){function t(e,n,r,i){var o=e.children;if(e.x=n,e.y=e.depth*i,e.dx=r,e.dy=i,o&&(a=o.length)){var a,s,u,l=-1;for(r=e.value?r/e.value:0;++l<a;)t(s=o[l],n,u=s.value*r,i),n+=u}}function e(t){var n=t.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,e(n[o]));return 1+r}function n(n,o){var a=r.call(this,n,o);return t(a[0],0,i[0],i[1]/e(a[0])),a}var r=ra.layout.hierarchy(),i=[1,1];return n.size=function(t){return arguments.length?(i=t,n):i},Qr(n,r)},ra.layout.pie=function(){function t(a){var s,u=a.length,l=a.map(function(n,r){return+e.call(t,n,r)}),c=+("function"==typeof r?r.apply(this,arguments):r),h=("function"==typeof i?i.apply(this,arguments):i)-c,f=Math.min(Math.abs(h)/u,+("function"==typeof o?o.apply(this,arguments):o)),d=f*(h<0?-1:1),p=(h-u*d)/ra.sum(l),g=ra.range(u),y=[];return null!=n&&g.sort(n===pu?function(t,e){return l[e]-l[t]}:function(t,e){return n(a[t],a[e])}),g.forEach(function(t){y[t]={data:a[t],value:s=l[t],startAngle:c,endAngle:c+=s*p+d,padAngle:f}}),y}var e=Number,n=pu,r=0,i=Fa,o=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(r=e,t):r},t.endAngle=function(e){return arguments.length?(i=e,t):i},t.padAngle=function(e){return arguments.length?(o=e,t):o},t};var pu={};ra.layout.stack=function(){function t(s,u){if(!(f=s.length))return s;var l=s.map(function(n,r){return e.call(t,n,r)}),c=l.map(function(e){return e.map(function(e,n){return[o.call(t,e,n),a.call(t,e,n)]})}),h=n.call(t,c,u);l=ra.permute(l,h),c=ra.permute(c,h);var f,d,p,g,y=r.call(t,c,u),v=l[0].length;for(p=0;p<v;++p)for(i.call(t,l[0][p],g=y[p],c[0][p][1]),d=1;d<f;++d)i.call(t,l[d][p],g+=c[d-1][p][1],c[d][p][1]);return s}var e=b,n=li,r=ci,i=ui,o=ai,a=si;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:gu.get(e)||li,t):n},t.offset=function(e){return arguments.length?(r="function"==typeof e?e:yu.get(e)||ci,t):r},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(a=e,t):a},t.out=function(e){return arguments.length?(i=e,t):i},t};var gu=ra.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(hi),o=t.map(fi),a=ra.range(r).sort(function(t,e){return i[t]-i[e]}),s=0,u=0,l=[],c=[];for(e=0;e<r;++e)n=a[e],s<u?(s+=o[n],l.push(n)):(u+=o[n],c.push(n));return c.reverse().concat(l)},reverse:function(t){return ra.range(t.length).reverse()},default:li}),yu=ra.map({silhouette:function(t){var e,n,r,i=t.length,o=t[0].length,a=[],s=0,u=[];for(n=0;n<o;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];r>s&&(s=r),a.push(r)}for(n=0;n<o;++n)u[n]=(s-a[n])/2;return u},wiggle:function(t){var e,n,r,i,o,a,s,u,l,c=t.length,h=t[0],f=h.length,d=[];for(d[0]=u=l=0,n=1;n<f;++n){for(e=0,i=0;e<c;++e)i+=t[e][n][1];for(e=0,o=0,s=h[n][0]-h[n-1][0];e<c;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);r<e;++r)a+=(t[r][n][1]-t[r][n-1][1])/s;o+=a*t[e][n][1]}d[n]=u-=i?o/i*s:0,u<l&&(l=u)}for(n=0;n<f;++n)d[n]-=l;return d},expand:function(t){var e,n,r,i=t.length,o=t[0].length,a=1/i,s=[];for(n=0;n<o;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:ci});ra.layout.histogram=function(){function t(t,o){for(var a,s,u=[],l=t.map(n,this),c=r.call(this,l,o),h=i.call(this,c,l,o),o=-1,f=l.length,d=h.length-1,p=e?1:1/f;++o<d;)a=u[o]=[],a.dx=h[o+1]-(a.x=h[o]),a.y=0;if(d>0)for(o=-1;++o<f;)s=l[o],s>=c[0]&&s<=c[1]&&(a=u[ra.bisect(h,s,1,d)-1],a.y+=p,a.push(t[o]));return u}var e=!0,n=Number,r=yi,i=pi;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(r=Et(e),t):r},t.bins=function(e){return arguments.length?(i="number"==typeof e?function(t){return gi(t,e)}:Et(e),t):i},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},ra.layout.pack=function(){function t(t,o){var a=n.call(this,t,o),s=a[0],u=i[0],l=i[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,ei(s,function(t){t.r=+c(t.value)}),ei(s,wi),r){var h=r*(e?1:Math.max(2*s.r/u,2*s.r/l))/2;ei(s,function(t){t.r+=h}),ei(s,wi),ei(s,function(t){t.r-=h})}return Ai(s,u/2,l/2,e?1:1/Math.max(2*s.r/u,2*s.r/l)),a}var e,n=ra.layout.hierarchy().sort(vi),r=0,i=[1,1];return t.size=function(e){return arguments.length?(i=e,t):i},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(r=+e,t):r},Qr(t,n)},ra.layout.tree=function(){function t(t,i){var c=a.call(this,t,i),h=c[0],f=e(h);if(ei(f,n),f.parent.m=-f.z,ti(f,r),l)ti(h,o);else{var d=h,p=h,g=h;ti(h,function(t){t.x<d.x&&(d=t),t.x>p.x&&(p=t),t.depth>g.depth&&(g=t)});var y=s(d,p)/2-d.x,v=u[0]/(p.x+s(p,d)/2+y),m=u[1]/(g.depth||1);ti(h,function(t){t.x=(t.x+y)*v,t.y=t.depth*m})}return c}function e(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var i,o=e.children,a=0,s=o.length;a<s;++a)r.push((o[a]=i={_:o[a],parent:e,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e.length){Di(t);var o=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+s(t._,r._),t.m=t.z-o):t.z=o}else r&&(t.z=r.z+s(t._,r._));t.parent.A=i(t,r,t.parent.A||n[0])}function r(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function i(t,e,n){if(e){for(var r,i=t,o=t,a=e,u=i.parent.children[0],l=i.m,c=o.m,h=a.m,f=u.m;a=Ti(a),i=Ei(i),a&&i;)u=Ei(u),o=Ti(o),o.a=t,r=a.z+h-i.z-l+s(a._,i._),r>0&&(Mi(Li(a,t,n),t,r),l+=r,c+=r),h+=a.m,l+=i.m,f+=u.m,c+=o.m;a&&!Ti(o)&&(o.t=a,o.m+=h-c),i&&!Ei(u)&&(u.t=i,u.m+=l-f,n=t)}return n}function o(t){t.x*=u[0],t.y=t.depth*u[1]}var a=ra.layout.hierarchy().sort(null).value(null),s=Si,u=[1,1],l=null;return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(l=null==(u=e)?o:null,t):l?null:u},t.nodeSize=function(e){return arguments.length?(l=null==(u=e)?null:o,t):l?u:null},Qr(t,a)},ra.layout.cluster=function(){function t(t,o){var a,s=e.call(this,t,o),u=s[0],l=0;ei(u,function(t){var e=t.children;e&&e.length?(t.x=Ni(e),t.y=Fi(e)):(t.x=a?l+=n(t,a):0,t.y=0,a=t)});var c=Oi(u),h=Ii(u),f=c.x-n(c,h)/2,d=h.x+n(h,c)/2;return ei(u,i?function(t){t.x=(t.x-u.x)*r[0],t.y=(u.y-t.y)*r[1]}:function(t){t.x=(t.x-f)/(d-f)*r[0],t.y=(1-(u.y?t.y/u.y:1))*r[1]}),s}var e=ra.layout.hierarchy().sort(null).value(null),n=Si,r=[1,1],i=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(i=null==(r=e),t):i?null:r},t.nodeSize=function(e){return arguments.length?(i=null!=(r=e),t):i?r:null},Qr(t,e)},ra.layout.treemap=function(){function t(t,e){for(var n,r,i=-1,o=t.length;++i<o;)r=(n=t[i]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function e(n){var o=n.children;if(o&&o.length){var a,s,u,l=h(n),c=[],f=o.slice(),p=1/0,g="slice"===d?l.dx:"dice"===d?l.dy:"slice-dice"===d?1&n.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(t(f,l.dx*l.dy/n.value),c.area=0;(u=f.length)>0;)c.push(a=f[u-1]),c.area+=a.area,"squarify"!==d||(s=r(c,g))<=p?(f.pop(),p=s):(c.area-=c.pop().area,i(c,g,l,!1),g=Math.min(l.dx,l.dy),c.length=c.area=0,p=1/0);c.length&&(i(c,g,l,!0),c.length=c.area=0),o.forEach(e)}}function n(e){var r=e.children;if(r&&r.length){var o,a=h(e),s=r.slice(),u=[];for(t(s,a.dx*a.dy/e.value),u.area=0;o=s.pop();)u.push(o),u.area+=o.area,null!=o.z&&(i(u,o.z?a.dx:a.dy,a,!s.length),u.length=u.area=0);r.forEach(n)}}function r(t,e){for(var n,r=t.area,i=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(n<o&&(o=n),n>i&&(i=n));return r*=r,e*=e,r?Math.max(e*i*p/r,r/(e*o*p)):1/0}function i(t,e,n,r){var i,o=-1,a=t.length,s=n.x,l=n.y,c=e?u(t.area/e):0;if(e==n.dx){for((r||c>n.dy)&&(c=n.dy);++o<a;)i=t[o],i.x=s,i.y=l,i.dy=c,s+=i.dx=Math.min(n.x+n.dx-s,c?u(i.area/c):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++o<a;)i=t[o],i.x=s,i.y=l,i.dx=c,l+=i.dy=Math.min(n.y+n.dy-l,c?u(i.area/c):0);i.z=!1,i.dy+=n.y+n.dy-l,n.x+=c,n.dx-=c}}function o(r){var i=a||s(r),o=i[0];return o.x=0,o.y=0,o.dx=l[0],o.dy=l[1],a&&s.revalue(o),t([o],o.dx*o.dy/o.value),(a?n:e)(o),f&&(a=i),i}var a,s=ra.layout.hierarchy(),u=Math.round,l=[1,1],c=null,h=Bi,f=!1,d="squarify",p=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(l=t,o):l},o.padding=function(t){function e(e){var n=t.call(o,e,e.depth);return null==n?Bi(e):Pi(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Pi(e,t)}if(!arguments.length)return c;var r;return h=null==(c=t)?Bi:"function"==(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n,o},o.round=function(t){return arguments.length?(u=t?Math.round:Number,o):u!=Number},o.sticky=function(t){return arguments.length?(f=t,a=null,o):f},o.ratio=function(t){return arguments.length?(p=t,o):p},o.mode=function(t){return arguments.length?(d=t+"",o):d},
Qr(o,s)},ra.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,r,i;do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=ra.random.normal.apply(ra,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=ra.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},ra.scale={};var vu={floor:b,ceil:b};ra.scale.linear=function(){return zi([0,1],[0,1],br,!1)};var mu={s:1,g:1,p:1,r:1,e:1};ra.scale.log=function(){return Ji(ra.scale.linear().domain([0,1]),10,!0,[1,10])};var bu=ra.format(".0e"),xu={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};ra.scale.pow=function(){return Qi(ra.scale.linear(),1,[0,1])},ra.scale.sqrt=function(){return ra.scale.pow().exponent(.5)},ra.scale.ordinal=function(){return eo([],{t:"range",a:[[]]})},ra.scale.category10=function(){return ra.scale.ordinal().range(wu)},ra.scale.category20=function(){return ra.scale.ordinal().range(_u)},ra.scale.category20b=function(){return ra.scale.ordinal().range(ku)},ra.scale.category20c=function(){return ra.scale.ordinal().range(Au)};var wu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(xt),_u=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(xt),ku=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(xt),Au=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(xt);ra.scale.quantile=function(){return no([],[])},ra.scale.quantize=function(){return ro(0,1,[0,1])},ra.scale.threshold=function(){return io([.5],[0,1])},ra.scale.identity=function(){return oo([0,1])},ra.svg={},ra.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),l=Math.max(0,+r.apply(this,arguments)),c=a.apply(this,arguments)-Oa,h=s.apply(this,arguments)-Oa,f=Math.abs(h-c),d=c>h?0:1;if(l<t&&(p=l,l=t,t=p),f>=Na)return e(l,d)+(t?e(t,1-d):"")+"Z";var p,g,y,v,m,b,x,w,_,k,A,C,S=0,E=0,T=[];if((v=(+u.apply(this,arguments)||0)/2)&&(y=o===Cu?Math.sqrt(t*t+l*l):+o.apply(this,arguments),d||(E*=-1),l&&(E=nt(y/l*Math.sin(v))),t&&(S=nt(y/t*Math.sin(v)))),l){m=l*Math.cos(c+E),b=l*Math.sin(c+E),x=l*Math.cos(h-E),w=l*Math.sin(h-E);var M=Math.abs(h-c-2*E)<=La?0:1;if(E&&fo(m,b,x,w)===d^M){var D=(c+h)/2;m=l*Math.cos(D),b=l*Math.sin(D),x=w=null}}else m=b=0;if(t){_=t*Math.cos(h-S),k=t*Math.sin(h-S),A=t*Math.cos(c+S),C=t*Math.sin(c+S);var L=Math.abs(c-h+2*S)<=La?0:1;if(S&&fo(_,k,A,C)===1-d^L){var F=(c+h)/2;_=t*Math.cos(F),k=t*Math.sin(F),A=C=null}}else _=k=0;if((p=Math.min(Math.abs(l-t)/2,+i.apply(this,arguments)))>.001){g=t<l^d?0:1;var N=null==A?[_,k]:null==x?[m,b]:On([m,b],[A,C],[x,w],[_,k]),O=m-N[0],I=b-N[1],B=x-N[0],P=w-N[1],R=1/Math.sin(Math.acos((O*B+I*P)/(Math.sqrt(O*O+I*I)*Math.sqrt(B*B+P*P)))/2),j=Math.sqrt(N[0]*N[0]+N[1]*N[1]);if(null!=x){var W=Math.min(p,(l-j)/(R+1)),H=po(null==A?[_,k]:[A,C],[m,b],l,W,d),$=po([x,w],[_,k],l,W,d);p===W?T.push("M",H[0],"A",W,",",W," 0 0,",g," ",H[1],"A",l,",",l," 0 ",1-d^fo(H[1][0],H[1][1],$[1][0],$[1][1]),",",d," ",$[1],"A",W,",",W," 0 0,",g," ",$[0]):T.push("M",H[0],"A",W,",",W," 0 1,",g," ",$[0])}else T.push("M",m,",",b);if(null!=A){var q=Math.min(p,(t-j)/(R-1)),z=po([m,b],[A,C],t,-q,d),U=po([_,k],null==x?[m,b]:[x,w],t,-q,d);p===q?T.push("L",U[0],"A",q,",",q," 0 0,",g," ",U[1],"A",t,",",t," 0 ",d^fo(U[1][0],U[1][1],z[1][0],z[1][1]),",",1-d," ",z[1],"A",q,",",q," 0 0,",g," ",z[0]):T.push("L",U[0],"A",q,",",q," 0 0,",g," ",z[0])}else T.push("L",_,",",k)}else T.push("M",m,",",b),null!=x&&T.push("A",l,",",l," 0 ",M,",",d," ",x,",",w),T.push("L",_,",",k),null!=A&&T.push("A",t,",",t," 0 ",L,",",1-d," ",A,",",C);return T.push("Z"),T.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=so,r=uo,i=ao,o=Cu,a=lo,s=co,u=ho;return t.innerRadius=function(e){return arguments.length?(n=Et(e),t):n},t.outerRadius=function(e){return arguments.length?(r=Et(e),t):r},t.cornerRadius=function(e){return arguments.length?(i=Et(e),t):i},t.padRadius=function(e){return arguments.length?(o=e==Cu?Cu:Et(e),t):o},t.startAngle=function(e){return arguments.length?(a=Et(e),t):a},t.endAngle=function(e){return arguments.length?(s=Et(e),t):s},t.padAngle=function(e){return arguments.length?(u=Et(e),t):u},t.centroid=function(){var t=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,e=(+a.apply(this,arguments)+ +s.apply(this,arguments))/2-Oa;return[Math.cos(e)*t,Math.sin(e)*t]},t};var Cu="auto";ra.svg.line=function(){return go(b)};var Su=ra.map({linear:yo,"linear-closed":vo,step:mo,"step-before":bo,"step-after":xo,basis:So,"basis-open":Eo,"basis-closed":To,bundle:Mo,cardinal:ko,"cardinal-open":wo,"cardinal-closed":_o,monotone:Io});Su.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Eu=[0,2/3,1/3,0],Tu=[0,1/3,2/3,0],Mu=[0,1/6,2/3,1/6];ra.svg.line.radial=function(){var t=go(Bo);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},bo.reverse=xo,xo.reverse=bo,ra.svg.area=function(){return Po(b)},ra.svg.area.radial=function(){var t=Po(Bo);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},ra.svg.chord=function(){function t(t,s){var u=e(this,o,t,s),l=e(this,a,t,s);return"M"+u.p0+r(u.r,u.p1,u.a1-u.a0)+(n(u,l)?i(u.r,u.p1,u.r,u.p0):i(u.r,u.p1,l.r,l.p0)+r(l.r,l.p1,l.a1-l.a0)+i(l.r,l.p1,u.r,u.p0))+"Z"}function e(t,e,n,r){var i=e.call(t,n,r),o=s.call(t,i,r),a=u.call(t,i,r)-Oa,c=l.call(t,i,r)-Oa;return{r:o,a0:a,a1:c,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(c),o*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function r(t,e,n){return"A"+t+","+t+" 0 "+ +(n>La)+",1 "+e}function i(t,e,n,r){return"Q 0,0 "+r}var o=bn,a=xn,s=Ro,u=lo,l=co;return t.radius=function(e){return arguments.length?(s=Et(e),t):s},t.source=function(e){return arguments.length?(o=Et(e),t):o},t.target=function(e){return arguments.length?(a=Et(e),t):a},t.startAngle=function(e){return arguments.length?(u=Et(e),t):u},t.endAngle=function(e){return arguments.length?(l=Et(e),t):l},t},ra.svg.diagonal=function(){function t(t,i){var o=e.call(this,t,i),a=n.call(this,t,i),s=(o.y+a.y)/2,u=[o,{x:o.x,y:s},{x:a.x,y:s},a];return u=u.map(r),"M"+u[0]+"C"+u[1]+" "+u[2]+" "+u[3]}var e=bn,n=xn,r=jo;return t.source=function(n){return arguments.length?(e=Et(n),t):e},t.target=function(e){return arguments.length?(n=Et(e),t):n},t.projection=function(e){return arguments.length?(r=e,t):r},t},ra.svg.diagonal.radial=function(){var t=ra.svg.diagonal(),e=jo,n=t.projection;return t.projection=function(t){return arguments.length?n(Wo(e=t)):e},t},ra.svg.symbol=function(){function t(t,r){return(Du.get(e.call(this,t,r))||qo)(n.call(this,t,r))}var e=$o,n=Ho;return t.type=function(n){return arguments.length?(e=Et(n),t):e},t.size=function(e){return arguments.length?(n=Et(e),t):n},t};var Du=ra.map({circle:qo,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Fu)),n=e*Fu;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Lu),n=e*Lu/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Lu),n=e*Lu/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});ra.svg.symbolTypes=Du.keys();var Lu=Math.sqrt(3),Fu=Math.tan(30*Ia);_a.transition=function(t){for(var e,n,r=Nu||++Pu,i=Vo(t),o=[],a=Ou||{time:Date.now(),ease:Sr,delay:0,duration:250},s=-1,u=this.length;++s<u;){o.push(e=[]);for(var l=this[s],c=-1,h=l.length;++c<h;)(n=l[c])&&Xo(n,c,i,r,a),e.push(n)}return Uo(o,i,r)},_a.interrupt=function(t){return this.each(null==t?Iu:zo(Vo(t)))};var Nu,Ou,Iu=zo(Vo()),Bu=[],Pu=0;Bu.call=_a.call,Bu.empty=_a.empty,Bu.node=_a.node,Bu.size=_a.size,ra.transition=function(t,e){return t&&t.transition?Nu?t.transition(e):t:ra.selection().transition(t)},ra.transition.prototype=Bu,Bu.select=function(t){var e,n,r,i=this.id,o=this.namespace,a=[];t=M(t);for(var s=-1,u=this.length;++s<u;){a.push(e=[]);for(var l=this[s],c=-1,h=l.length;++c<h;)(r=l[c])&&(n=t.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),Xo(n,c,o,i,r[o][i]),e.push(n)):e.push(null)}return Uo(a,o,i)},Bu.selectAll=function(t){var e,n,r,i,o,a=this.id,s=this.namespace,u=[];t=D(t);for(var l=-1,c=this.length;++l<c;)for(var h=this[l],f=-1,d=h.length;++f<d;)if(r=h[f]){o=r[s][a],n=t.call(r,r.__data__,f,l),u.push(e=[]);for(var p=-1,g=n.length;++p<g;)(i=n[p])&&Xo(i,p,s,a,o),e.push(i)}return Uo(u,s,a)},Bu.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=$(t));for(var o=0,a=this.length;o<a;o++){i.push(e=[]);for(var n=this[o],s=0,u=n.length;s<u;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return Uo(i,this.namespace,this.id)},Bu.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):z(this,null==e?function(e){e[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})},Bu.attr=function(t,e){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function i(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=a(n,t),function(t){this.setAttribute(s,e(t))})})}function o(t){return null==t?r:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=a(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?$r:br,s=ra.ns.qualify(t);return Yo(this,"attr."+t,e,s.local?o:i)},Bu.attrTween=function(t,e){function n(t,n){var r=e.call(this,t,n,this.getAttribute(i));return r&&function(t){this.setAttribute(i,r(t))}}function r(t,n){var r=e.call(this,t,n,this.getAttributeNS(i.space,i.local));return r&&function(t){this.setAttributeNS(i.space,i.local,r(t))}}var i=ra.ns.qualify(t);return this.tween("attr."+t,i.local?r:n)},Bu.style=function(t,e,r){function i(){this.style.removeProperty(t)}function o(e){return null==e?i:(e+="",function(){var i,o=n(this).getComputedStyle(this,null).getPropertyValue(t);return o!==e&&(i=br(o,e),function(e){this.style.setProperty(t,i(e),r)})})}var a=arguments.length;if(a<3){if("string"!=typeof t){a<2&&(e="");for(r in t)this.style(r,t[r],e);return this}r=""}return Yo(this,"style."+t,e,o)},Bu.styleTween=function(t,e,r){function i(i,o){var a=e.call(this,i,o,n(this).getComputedStyle(this,null).getPropertyValue(t));return a&&function(e){this.style.setProperty(t,a(e),r)}}return arguments.length<3&&(r=""),this.tween("style."+t,i)},Bu.text=function(t){return Yo(this,"text",t,Go)},Bu.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Bu.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=ra.ease.apply(ra,arguments)),z(this,function(r){r[n][e].ease=t}))},Bu.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:z(this,"function"==typeof t?function(r,i,o){r[n][e].delay=+t.call(r,r.__data__,i,o)}:(t=+t,function(r){r[n][e].delay=t}))},Bu.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:z(this,"function"==typeof t?function(r,i,o){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,o))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},Bu.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var i=Ou,o=Nu;try{Nu=n,z(this,function(e,i,o){Ou=e[r][n],t.call(e,e.__data__,i,o)})}finally{Ou=i,Nu=o}}else z(this,function(i){var o=i[r][n];(o.event||(o.event=ra.dispatch("start","end","interrupt"))).on(t,e)});return this},Bu.transition=function(){for(var t,e,n,r,i=this.id,o=++Pu,a=this.namespace,s=[],u=0,l=this.length;u<l;u++){s.push(t=[]);for(var e=this[u],c=0,h=e.length;c<h;c++)(n=e[c])&&(r=n[a][i],Xo(n,c,a,o,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),t.push(n)}return Uo(s,a,o)},ra.svg.axis=function(){function t(t){t.each(function(){var t,l=ra.select(this),c=this.__chart__||n,h=this.__chart__=n.copy(),f=null==u?h.ticks?h.ticks.apply(h,s):h.domain():u,d=null==e?h.tickFormat?h.tickFormat.apply(h,s):b:e,p=l.selectAll(".tick").data(f,h),g=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Ma),y=ra.transition(p.exit()).style("opacity",Ma).remove(),v=ra.transition(p.order()).style("opacity",1),m=Math.max(i,0)+a,x=ji(h),w=l.selectAll(".domain").data([0]),_=(w.enter().append("path").attr("class","domain"),ra.transition(w));g.append("line"),g.append("text");var k,A,C,S,E=g.select("line"),T=v.select("line"),M=p.select("text").text(d),D=g.select("text"),L=v.select("text"),F="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(t=Ko,k="x",C="y",A="x2",S="y2",M.attr("dy",F<0?"0em":".71em").style("text-anchor","middle"),_.attr("d","M"+x[0]+","+F*o+"V0H"+x[1]+"V"+F*o)):(t=Zo,k="y",C="x",A="y2",S="x2",M.attr("dy",".32em").style("text-anchor",F<0?"end":"start"),_.attr("d","M"+F*o+","+x[0]+"H0V"+x[1]+"H"+F*o)),E.attr(S,F*i),D.attr(C,F*m),T.attr(A,0).attr(S,F*i),L.attr(k,0).attr(C,F*m),h.rangeBand){var N=h,O=N.rangeBand()/2;c=h=function(t){return N(t)+O}}else c.rangeBand?c=h:y.call(t,h,c);g.call(t,c,h),v.call(t,h,h)})}var e,n=ra.scale.linear(),r=Ru,i=6,o=6,a=3,s=[10],u=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(r=e in ju?e+"":Ru,t):r},t.ticks=function(){return arguments.length?(s=arguments,t):s},t.tickValues=function(e){return arguments.length?(u=e,t):u},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(i=+e,o=+arguments[n-1],t):i},t.innerTickSize=function(e){return arguments.length?(i=+e,t):i},t.outerTickSize=function(e){return arguments.length?(o=+e,t):o},t.tickPadding=function(e){return arguments.length?(a=+e,t):a},t.tickSubdivide=function(){return arguments.length&&t},t};var Ru="bottom",ju={top:1,right:1,bottom:1,left:1};ra.svg.brush=function(){function t(n){n.each(function(){var n=ra.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",o).on("touchstart.brush",o),a=n.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),n.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=n.selectAll(".resize").data(g,b);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Wu[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var u,h=ra.transition(n),f=ra.transition(a);l&&(u=ji(l),f.attr("x",u[0]).attr("width",u[1]-u[0]),r(h)),c&&(u=ji(c),f.attr("y",u[0]).attr("height",u[1]-u[0]),i(h)),e(h)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+h[+/e$/.test(t)]+","+f[+/^s/.test(t)]+")"})}function r(t){t.select(".extent").attr("x",h[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",h[1]-h[0])}function i(t){t.select(".extent").attr("y",f[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",f[1]-f[0])}function o(){function o(){32==ra.event.keyCode&&(M||(b=null,L[0]-=h[1],L[1]-=f[1],M=2),C())}function g(){32==ra.event.keyCode&&2==M&&(L[0]+=h[1],L[1]+=f[1],M=0,C())}function y(){var t=ra.mouse(w),n=!1;x&&(t[0]+=x[0],t[1]+=x[1]),M||(ra.event.altKey?(b||(b=[(h[0]+h[1])/2,(f[0]+f[1])/2]),L[0]=h[+(t[0]<b[0])],L[1]=f[+(t[1]<b[1])]):b=null),E&&v(t,l,0)&&(r(A),n=!0),T&&v(t,c,1)&&(i(A),n=!0),n&&(e(A),k({type:"brush",mode:M?"move":"resize"}))}function v(t,e,n){var r,i,o=ji(e),u=o[0],l=o[1],c=L[n],g=n?f:h,y=g[1]-g[0];if(M&&(u-=c,l-=y+c),r=(n?p:d)?Math.max(u,Math.min(l,t[n])):t[n],M?i=(r+=c)+y:(b&&(c=Math.max(u,Math.min(l,2*b[n]-r))),c<r?(i=r,r=c):i=c),g[0]!=r||g[1]!=i)return n?s=null:a=null,g[0]=r,g[1]=i,!0}function m(){y(),A.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),ra.select("body").style("cursor",null),F.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),D(),k({type:"brushend"})}var b,x,w=this,_=ra.select(ra.event.target),k=u.of(w,arguments),A=ra.select(w),S=_.datum(),E=!/^(n|s)$/.test(S)&&l,T=!/^(e|w)$/.test(S)&&c,M=_.classed("extent"),D=K(w),L=ra.mouse(w),F=ra.select(n(w)).on("keydown.brush",o).on("keyup.brush",g);if(ra.event.changedTouches?F.on("touchmove.brush",y).on("touchend.brush",m):F.on("mousemove.brush",y).on("mouseup.brush",m),A.interrupt().selectAll("*").interrupt(),M)L[0]=h[0]-L[0],L[1]=f[0]-L[1];else if(S){var N=+/w$/.test(S),O=+/^n/.test(S);x=[h[1-N]-L[0],f[1-O]-L[1]],L[0]=h[N],L[1]=f[O]}else ra.event.altKey&&(b=L.slice());A.style("pointer-events","none").selectAll(".resize").style("display",null),ra.select("body").style("cursor",_.style("cursor")),k({type:"brushstart"}),y()}var a,s,u=E(t,"brushstart","brush","brushend"),l=null,c=null,h=[0,0],f=[0,0],d=!0,p=!0,g=Hu[0];return t.event=function(t){t.each(function(){var t=u.of(this,arguments),e={x:h,y:f,i:a,j:s},n=this.__chart__||e;this.__chart__=e,Nu?ra.select(this).transition().each("start.brush",function(){a=n.i,s=n.j,h=n.x,f=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=xr(h,e.x),r=xr(f,e.y);return a=s=null,function(i){h=e.x=n(i),f=e.y=r(i),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=e.i,s=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(l=e,g=Hu[!l<<1|!c],t):l},t.y=function(e){return arguments.length?(c=e,g=Hu[!l<<1|!c],t):c},t.clamp=function(e){return arguments.length?(l&&c?(d=!!e[0],p=!!e[1]):l?d=!!e:c&&(p=!!e),t):l&&c?[d,p]:l?d:c?p:null},t.extent=function(e){var n,r,i,o,u;return arguments.length?(l&&(n=e[0],r=e[1],c&&(n=n[0],r=r[0]),a=[n,r],l.invert&&(n=l(n),r=l(r)),r<n&&(u=n,n=r,r=u),n==h[0]&&r==h[1]||(h=[n,r])),c&&(i=e[0],o=e[1],l&&(i=i[1],o=o[1]),s=[i,o],c.invert&&(i=c(i),o=c(o)),o<i&&(u=i,i=o,o=u),i==f[0]&&o==f[1]||(f=[i,o])),t):(l&&(a?(n=a[0],r=a[1]):(n=h[0],r=h[1],l.invert&&(n=l.invert(n),r=l.invert(r)),r<n&&(u=n,n=r,r=u))),c&&(s?(i=s[0],o=s[1]):(i=f[0],o=f[1],c.invert&&(i=c.invert(i),o=c.invert(o)),o<i&&(u=i,i=o,o=u))),l&&c?[[n,i],[r,o]]:l?[n,r]:c&&[i,o])},t.clear=function(){return t.empty()||(h=[0,0],f=[0,0],a=s=null),t},t.empty=function(){return!!l&&h[0]==h[1]||!!c&&f[0]==f[1]},ra.rebind(t,u,"on")};var Wu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Hu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],$u=ss.format=ds.timeFormat,qu=$u.utc,zu=qu("%Y-%m-%dT%H:%M:%S.%LZ");$u.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Jo:zu,Jo.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Jo.toString=zu.toString,ss.second=Wt(function(t){return new us(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),ss.seconds=ss.second.range,ss.seconds.utc=ss.second.utc.range,ss.minute=Wt(function(t){return new us(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),ss.minutes=ss.minute.range,ss.minutes.utc=ss.minute.utc.range,ss.hour=Wt(function(t){var e=t.getTimezoneOffset()/60;return new us(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),ss.hours=ss.hour.range,ss.hours.utc=ss.hour.utc.range,ss.month=Wt(function(t){return t=ss.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),ss.months=ss.month.range,ss.months.utc=ss.month.utc.range;var Uu=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Yu=[[ss.second,1],[ss.second,5],[ss.second,15],[ss.second,30],[ss.minute,1],[ss.minute,5],[ss.minute,15],[ss.minute,30],[ss.hour,1],[ss.hour,3],[ss.hour,6],[ss.hour,12],[ss.day,1],[ss.day,2],[ss.week,1],[ss.month,1],[ss.month,3],[ss.year,1]],Gu=$u.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Me]]),Vu={range:function(t,e,n){return ra.range(Math.ceil(t/n)*n,+e,n).map(ta)},floor:b,ceil:b};Yu.year=ss.year,ss.scale=function(){return Qo(ra.scale.linear(),Yu,Gu)};var Xu=Yu.map(function(t){return[t[0].utc,t[1]]}),Ku=qu.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Me]]);Xu.year=ss.year.utc,ss.scale.utc=function(){return Qo(ra.scale.linear(),Xu,Ku)},ra.text=Tt(function(t){return t.responseText}),ra.json=function(t,e){return Mt(t,"application/json",ea,e)},ra.html=function(t,e){return Mt(t,"text/html",na,e)},ra.xml=Tt(function(t){return t.responseXML}),"function"==typeof define&&define.amd?define(ra):"object"==typeof e&&e.exports&&(e.exports=ra),this.d3=ra}()},{}],5:[function(t,e,n){e.exports={graphlib:t("./lib/graphlib"),dagre:t("./lib/dagre"),intersect:t("./lib/intersect"),render:t("./lib/render"),util:t("./lib/util"),version:t("./lib/version")}},{"./lib/dagre":12,"./lib/graphlib":13,"./lib/intersect":14,"./lib/render":29,"./lib/util":31,"./lib/version":32}],6:[function(t,e,n){function r(t,e,n,r){var i=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),o=i.append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");a.applyStyle(o,n[r+"Style"])}function i(t,e,n,r){var i=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),o=i.append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");a.applyStyle(o,n[r+"Style"])}function o(t,e,n,r){var i=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),o=i.append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");a.applyStyle(o,n[r+"Style"])}var a=t("./util");e.exports={default:r,normal:r,vee:i,undirected:o}},{"./util":31}],7:[function(t,e,n){function r(t,e){var n=e.nodes().filter(function(t){return i.isSubgraph(e,t)}),r=t.selectAll("g.cluster").data(n,function(t){return t});return r.selectAll("*").remove(),r.enter().append("g").attr("class","cluster").attr("id",function(t){var n=e.node(t);return n.id}).style("opacity",0),i.applyTransition(r,e).style("opacity",1),r.each(function(t){var n=e.node(t),r=d3.select(this);d3.select(this).append("rect");var i=r.append("g").attr("class","label");o(i,n,n.clusterLabelPos)}),r.selectAll("rect").each(function(t){var n=e.node(t),r=d3.select(this);i.applyStyle(r,n.style)}),i.applyTransition(r.exit(),e).style("opacity",0).remove(),r}var i=t("./util"),o=t("./label/add-label");e.exports=r},{"./label/add-label":22,"./util":31}],8:[function(t,e,n){"use strict";function r(t,e){var n=t.selectAll("g.edgeLabel").data(e.edges(),function(t){return a.edgeToId(t)}).classed("update",!0);return n.selectAll("*").remove(),n.enter().append("g").classed("edgeLabel",!0).style("opacity",0),n.each(function(t){var n=e.edge(t),r=o(s.select(this),e.edge(t),0,0).classed("label",!0),a=r.node().getBBox();n.labelId&&r.attr("id",n.labelId),i.has(n,"width")||(n.width=a.width),i.has(n,"height")||(n.height=a.height)}),a.applyTransition(n.exit(),e).style("opacity",0).remove(),n}var i=t("./lodash"),o=t("./label/add-label"),a=t("./util"),s=t("./d3");e.exports=r},{"./d3":11,"./label/add-label":22,"./lodash":25,"./util":31}],9:[function(t,e,n){"use strict";function r(t,e,n){var r=t.selectAll("g.edgePath").data(e.edges(),function(t){return h.edgeToId(t)}).classed("update",!0);return s(r,e),u(r,e),h.applyTransition(r,e).style("opacity",1),r.each(function(t){var n=f.select(this),r=e.edge(t);r.elem=this,r.id&&n.attr("id",r.id),h.applyClass(n,r.class,(n.classed("update")?"update ":"")+"edgePath")}),r.selectAll("path.path").each(function(t){var n=e.edge(t);n.arrowheadId=l.uniqueId("arrowhead");var r=f.select(this).attr("marker-end",function(){return"url(#"+n.arrowheadId+")"}).style("fill","none");h.applyTransition(r,e).attr("d",function(t){return i(e,t)}),h.applyStyle(r,n.style)}),r.selectAll("defs *").remove(),r.selectAll("defs").each(function(t){var r=e.edge(t),i=n[r.arrowhead];i(f.select(this),r.arrowheadId,r,"arrowhead")}),r}function i(t,e){var n=t.edge(e),r=t.node(e.v),i=t.node(e.w),a=n.points.slice(1,n.points.length-1);return a.unshift(c(r,a[0])),a.push(c(i,a[a.length-1])),o(n,a)}function o(t,e){var n=f.svg.line().x(function(t){return t.x}).y(function(t){return t.y});return l.has(t,"lineInterpolate")&&n.interpolate(t.lineInterpolate),l.has(t,"lineTension")&&n.tension(Number(t.lineTension)),n(e)}function a(t){var e=t.getBBox(),n=t.getTransformToElement(t.ownerSVGElement).translate(e.width/2,e.height/2);return{x:n.e,y:n.f}}function s(t,e){var n=t.enter().append("g").attr("class","edgePath").style("opacity",0);n.append("path").attr("class","path").attr("d",function(t){var n=e.edge(t),r=e.node(t.v).elem,i=l.range(n.points.length).map(function(){return a(r)});return o(n,i)}),n.append("defs")}function u(t,e){var n=t.exit();h.applyTransition(n,e).style("opacity",0).remove(),h.applyTransition(n.select("path.path"),e).attr("d",function(t){var n=e.node(t.v);if(n){var r=l.range(this.pathSegList.length).map(function(){return n});return o({},r)}return f.select(this).attr("d")})}var l=t("./lodash"),c=t("./intersect/intersect-node"),h=t("./util"),f=t("./d3");e.exports=r},{"./d3":11,"./intersect/intersect-node":18,"./lodash":25,"./util":31}],10:[function(t,e,n){"use strict";function r(t,e,n){var r=e.nodes().filter(function(t){return!a.isSubgraph(e,t)}),u=t.selectAll("g.node").data(r,function(t){return t}).classed("update",!0);return u.selectAll("*").remove(),u.enter().append("g").attr("class","node").style("opacity",0),u.each(function(t){var r=e.node(t),u=s.select(this),l=u.append("g").attr("class","label"),c=o(l,r),h=n[r.shape],f=i.pick(c.node().getBBox(),"width","height");r.elem=this,r.id&&u.attr("id",r.id),r.labelId&&l.attr("id",r.labelId),a.applyClass(u,r.class,(u.classed("update")?"update ":"")+"node"),i.has(r,"width")&&(f.width=r.width),i.has(r,"height")&&(f.height=r.height),f.width+=r.paddingLeft+r.paddingRight,f.height+=r.paddingTop+r.paddingBottom,l.attr("transform","translate("+(r.paddingLeft-r.paddingRight)/2+","+(r.paddingTop-r.paddingBottom)/2+")");var d=h(s.select(this),f,r);a.applyStyle(d,r.style);var p=d.node().getBBox();r.width=p.width,r.height=p.height}),a.applyTransition(u.exit(),e).style("opacity",0).remove(),u}var i=t("./lodash"),o=t("./label/add-label"),a=t("./util"),s=t("./d3");e.exports=r},{"./d3":11,"./label/add-label":22,"./lodash":25,"./util":31}],11:[function(t,e,n){e.exports=window.d3},{}],12:[function(t,e,n){var r;if(t)try{r=t("dagre")}catch(t){}r||(r=window.dagre),e.exports=r},{dagre:54}],13:[function(t,e,n){var r;if(t)try{r=t("graphlib")}catch(t){}r||(r=window.graphlib),e.exports=r},{graphlib:33}],14:[function(t,e,n){e.exports={node:t("./intersect-node"),circle:t("./intersect-circle"),ellipse:t("./intersect-ellipse"),polygon:t("./intersect-polygon"),rect:t("./intersect-rect")}},{"./intersect-circle":15,"./intersect-ellipse":16,"./intersect-node":18,"./intersect-polygon":19,"./intersect-rect":20}],15:[function(t,e,n){function r(t,e,n){return i(t,e,e,n)}var i=t("./intersect-ellipse");e.exports=r},{"./intersect-ellipse":16}],16:[function(t,e,n){function r(t,e,n,r){var i=t.x,o=t.y,a=i-r.x,s=o-r.y,u=Math.sqrt(e*e*s*s+n*n*a*a),l=Math.abs(e*n*a/u);r.x<i&&(l=-l);var c=Math.abs(e*n*s/u);return r.y<o&&(c=-c),{x:i+l,y:o+c}}e.exports=r},{}],17:[function(t,e,n){function r(t,e,n,r){var o,a,s,u,l,c,h,f,d,p,g,y,v,m,b;if(o=e.y-t.y,s=t.x-e.x,l=e.x*t.y-t.x*e.y,d=o*n.x+s*n.y+l,p=o*r.x+s*r.y+l,!(0!==d&&0!==p&&i(d,p)||(a=r.y-n.y,u=n.x-r.x,c=r.x*n.y-n.x*r.y,h=a*t.x+u*t.yy+c,f=a*e.x+u*e.y+c,0!==h&&0!==f&&i(h,f)||(g=o*u-a*s,0===g))))return y=Math.abs(g/2),v=s*c-u*l,m=v<0?(v-y)/g:(v+y)/g,v=a*l-o*c,b=v<0?(v-y)/g:(v+y)/g,{x:m,y:b}}function i(t,e){return t*e>0}e.exports=r},{}],18:[function(t,e,n){function r(t,e){return t.intersect(e)}e.exports=r},{}],19:[function(t,e,n){function r(t,e,n){var r=t.x,o=t.y,a=[],s=Number.POSITIVE_INFINITY,u=Number.POSITIVE_INFINITY;e.forEach(function(t){s=Math.min(s,t.x),u=Math.min(u,t.y)});for(var l=r-t.width/2-s,c=o-t.height/2-u,h=0;h<e.length;h++){var f=e[h],d=e[h<e.length-1?h+1:0],p=i(t,n,{x:l+f.x,y:c+f.y},{x:l+d.x,y:c+d.y});p&&a.push(p)}return a.length?(a.length>1&&a.sort(function(t,e){var r=t.x-n.x,i=t.y-n.y,o=Math.sqrt(r*r+i*i),a=e.x-n.x,s=e.y-n.y,u=Math.sqrt(a*a+s*s);return o<u?-1:o===u?0:1}),a[0]):(console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",t),t)}var i=t("./intersect-line");e.exports=r},{"./intersect-line":17}],20:[function(t,e,n){function r(t,e){var n,r,i=t.x,o=t.y,a=e.x-i,s=e.y-o,u=t.width/2,l=t.height/2;return Math.abs(s)*u>Math.abs(a)*l?(s<0&&(l=-l),n=0===s?0:l*a/s,r=l):(a<0&&(u=-u),n=u,r=0===a?0:u*s/a),{x:i+n,y:o+r}}e.exports=r},{}],21:[function(t,e,n){function r(t,e){var n=t.append("foreignObject").attr("width","100000"),r=n.append("xhtml:div"),o=e.label;switch(typeof o){case"function":r.insert(o);break;case"object":r.insert(function(){return o});break;default:r.html(o)}i.applyStyle(r,e.labelStyle),r.style("display","inline-block"),r.style("white-space","nowrap");var a,s;return r.each(function(){a=this.clientWidth,s=this.clientHeight}),n.attr("width",a).attr("height",s),n}var i=t("../util");e.exports=r},{"../util":31}],22:[function(t,e,n){function r(t,e,n){var r=e.label,s=t.append("g");"svg"===e.labelType?a(s,e):"string"!=typeof r||"html"===e.labelType?o(s,e):i(s,e);var u,l=s.node().getBBox();switch(n){case"top":u=-e.height/2;break;case"bottom":u=e.height/2-l.height;break;default:u=-l.height/2}return s.attr("transform","translate("+-l.width/2+","+u+")"),s}var i=t("./add-text-label"),o=t("./add-html-label"),a=t("./add-svg-label");e.exports=r},{"./add-html-label":21,"./add-svg-label":23,"./add-text-label":24}],23:[function(t,e,n){function r(t,e){var n=t;return n.node().appendChild(e.label),i.applyStyle(n,e.labelStyle),n}var i=t("../util");e.exports=r},{"../util":31}],24:[function(t,e,n){function r(t,e){for(var n=t.append("text"),r=i(e.label).split("\n"),a=0;a<r.length;a++)n.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(r[a]);
return o.applyStyle(n,e.labelStyle),n}function i(t){for(var e,n="",r=!1,i=0;i<t.length;++i)if(e=t[i],r){switch(e){case"n":n+="\n";break;default:n+=e}r=!1}else"\\"===e?r=!0:n+=e;return n}var o=t("../util");e.exports=r},{"../util":31}],25:[function(t,e,n){var r;if(t)try{r=t("lodash")}catch(t){}r||(r=window._),e.exports=r},{lodash:53}],26:[function(t,e,n){"use strict";function r(t,e){function n(t){var n=e.node(t);return"translate("+n.x+","+n.y+")"}var r=t.filter(function(){return!o.select(this).classed("update")});r.attr("transform",n),i.applyTransition(t,e).style("opacity",1).attr("transform",n),i.applyTransition(r.selectAll("rect"),e).attr("width",function(t){return e.node(t).width}).attr("height",function(t){return e.node(t).height}).attr("x",function(t){var n=e.node(t);return-n.width/2}).attr("y",function(t){var n=e.node(t);return-n.height/2})}var i=t("./util"),o=t("./d3");e.exports=r},{"./d3":11,"./util":31}],27:[function(t,e,n){"use strict";function r(t,e){function n(t){var n=e.edge(t);return a.has(n,"x")?"translate("+n.x+","+n.y+")":""}var r=t.filter(function(){return!o.select(this).classed("update")});r.attr("transform",n),i.applyTransition(t,e).style("opacity",1).attr("transform",n)}var i=t("./util"),o=t("./d3"),a=t("./lodash");e.exports=r},{"./d3":11,"./lodash":25,"./util":31}],28:[function(t,e,n){"use strict";function r(t,e){function n(t){var n=e.node(t);return"translate("+n.x+","+n.y+")"}var r=t.filter(function(){return!o.select(this).classed("update")});r.attr("transform",n),i.applyTransition(t,e).style("opacity",1).attr("transform",n)}var i=t("./util"),o=t("./d3");e.exports=r},{"./d3":11,"./util":31}],29:[function(t,e,n){function r(){var e=t("./create-nodes"),n=t("./create-clusters"),r=t("./create-edge-labels"),s=t("./create-edge-paths"),l=t("./position-nodes"),c=t("./position-edge-labels"),h=t("./position-clusters"),f=t("./shapes"),d=t("./arrows"),p=function(t,p){i(p);var g=a(t,"output"),y=a(g,"clusters"),v=a(g,"edgePaths"),m=r(a(g,"edgeLabels"),p),b=e(a(g,"nodes"),p,f);u(p),l(b,p),c(m,p),s(v,p,d);var x=n(y,p);h(x,p),o(p)};return p.createNodes=function(t){return arguments.length?(e=t,p):e},p.createClusters=function(t){return arguments.length?(n=t,p):n},p.createEdgeLabels=function(t){return arguments.length?(r=t,p):r},p.createEdgePaths=function(t){return arguments.length?(s=t,p):s},p.shapes=function(t){return arguments.length?(f=t,p):f},p.arrows=function(t){return arguments.length?(d=t,p):d},p}function i(t){t.nodes().forEach(function(e){var n=t.node(e);s.has(n,"label")||t.children(e).length||(n.label=e),s.has(n,"paddingX")&&s.defaults(n,{paddingLeft:n.paddingX,paddingRight:n.paddingX}),s.has(n,"paddingY")&&s.defaults(n,{paddingTop:n.paddingY,paddingBottom:n.paddingY}),s.has(n,"padding")&&s.defaults(n,{paddingLeft:n.padding,paddingRight:n.padding,paddingTop:n.padding,paddingBottom:n.padding}),s.defaults(n,l),s.each(["paddingLeft","paddingRight","paddingTop","paddingBottom"],function(t){n[t]=Number(n[t])}),s.has(n,"width")&&(n._prevWidth=n.width),s.has(n,"height")&&(n._prevHeight=n.height)}),t.edges().forEach(function(e){var n=t.edge(e);s.has(n,"label")||(n.label=""),s.defaults(n,c)})}function o(t){s.each(t.nodes(),function(e){var n=t.node(e);s.has(n,"_prevWidth")?n.width=n._prevWidth:delete n.width,s.has(n,"_prevHeight")?n.height=n._prevHeight:delete n.height,delete n._prevWidth,delete n._prevHeight})}function a(t,e){var n=t.select("g."+e);return n.empty()&&(n=t.append("g").attr("class",e)),n}var s=t("./lodash"),u=t("./dagre").layout;e.exports=r;var l={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},c={arrowhead:"normal",lineInterpolate:"linear"}},{"./arrows":6,"./create-clusters":7,"./create-edge-labels":8,"./create-edge-paths":9,"./create-nodes":10,"./dagre":12,"./lodash":25,"./position-clusters":26,"./position-edge-labels":27,"./position-nodes":28,"./shapes":30}],30:[function(t,e,n){"use strict";function r(t,e,n){var r=t.insert("rect",":first-child").attr("rx",n.rx).attr("ry",n.ry).attr("x",-e.width/2).attr("y",-e.height/2).attr("width",e.width).attr("height",e.height);return n.intersect=function(t){return s(n,t)},r}function i(t,e,n){var r=e.width/2,i=e.height/2,o=t.insert("ellipse",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("rx",r).attr("ry",i);return n.intersect=function(t){return u(n,r,i,t)},o}function o(t,e,n){var r=Math.max(e.width,e.height)/2,i=t.insert("circle",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("r",r);return n.intersect=function(t){return l(n,r,t)},i}function a(t,e,n){var r=e.width*Math.SQRT2/2,i=e.height*Math.SQRT2/2,o=[{x:0,y:-i},{x:-r,y:0},{x:0,y:i},{x:r,y:0}],a=t.insert("polygon",":first-child").attr("points",o.map(function(t){return t.x+","+t.y}).join(" "));return n.intersect=function(t){return c(n,o,t)},a}var s=t("./intersect/intersect-rect"),u=t("./intersect/intersect-ellipse"),l=t("./intersect/intersect-circle"),c=t("./intersect/intersect-polygon");e.exports={rect:r,ellipse:i,circle:o,diamond:a}},{"./intersect/intersect-circle":15,"./intersect/intersect-ellipse":16,"./intersect/intersect-polygon":19,"./intersect/intersect-rect":20}],31:[function(t,e,n){function r(t,e){return!!t.children(e).length}function i(t){return o(t.v)+":"+o(t.w)+":"+o(t.name)}function o(t){return t?String(t).replace(c,"\\:"):""}function a(t,e){e&&t.attr("style",e)}function s(t,e,n){e&&t.attr("class",e).attr("class",n+" "+t.attr("class"))}function u(t,e){var n=e.graph();if(l.isPlainObject(n)){var r=n.transition;if(l.isFunction(r))return r(t)}return t}var l=t("./lodash");e.exports={isSubgraph:r,edgeToId:i,applyStyle:a,applyClass:s,applyTransition:u};var c=/:/g},{"./lodash":25}],32:[function(t,e,n){e.exports="0.4.10"},{}],33:[function(t,e,n){var r=t("./lib");e.exports={Graph:r.Graph,json:t("./lib/json"),alg:t("./lib/alg"),version:r.version}},{"./lib":49,"./lib/alg":40,"./lib/json":50}],34:[function(t,e,n){function r(t){function e(o){i.has(r,o)||(r[o]=!0,n.push(o),i.each(t.successors(o),e),i.each(t.predecessors(o),e))}var n,r={},o=[];return i.each(t.nodes(),function(t){n=[],e(t),n.length&&o.push(n)}),o}var i=t("../lodash");e.exports=r},{"../lodash":51}],35:[function(t,e,n){function r(t,e,n){o.isArray(e)||(e=[e]);var r=[],a={};return o.each(e,function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);i(t,e,"post"===n,a,r)}),r}function i(t,e,n,r,a){o.has(r,e)||(r[e]=!0,n||a.push(e),o.each(t.neighbors(e),function(e){i(t,e,n,r,a)}),n&&a.push(e))}var o=t("../lodash");e.exports=r},{"../lodash":51}],36:[function(t,e,n){function r(t,e,n){return o.transform(t.nodes(),function(r,o){r[o]=i(t,o,e,n)},{})}var i=t("./dijkstra"),o=t("../lodash");e.exports=r},{"../lodash":51,"./dijkstra":37}],37:[function(t,e,n){function r(t,e,n,r){return i(t,String(e),n||s,r||function(e){return t.outEdges(e)})}function i(t,e,n,r){var i,o,s={},u=new a,l=function(t){var e=t.v!==i?t.v:t.w,r=s[e],a=n(t),l=o.distance+a;if(a<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+a);l<r.distance&&(r.distance=l,r.predecessor=i,u.decrease(e,l))};for(t.nodes().forEach(function(t){var n=t===e?0:Number.POSITIVE_INFINITY;s[t]={distance:n},u.add(t,n)});u.size()>0&&(i=u.removeMin(),o=s[i],o.distance!==Number.POSITIVE_INFINITY);)r(i).forEach(l);return s}var o=t("../lodash"),a=t("../data/priority-queue");e.exports=r;var s=o.constant(1)},{"../data/priority-queue":47,"../lodash":51}],38:[function(t,e,n){function r(t){return i.filter(o(t),function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])})}var i=t("../lodash"),o=t("./tarjan");e.exports=r},{"../lodash":51,"./tarjan":45}],39:[function(t,e,n){function r(t,e,n){return i(t,e||a,n||function(e){return t.outEdges(e)})}function i(t,e,n){var r={},i=t.nodes();return i.forEach(function(t){r[t]={},r[t][t]={distance:0},i.forEach(function(e){t!==e&&(r[t][e]={distance:Number.POSITIVE_INFINITY})}),n(t).forEach(function(n){var i=n.v===t?n.w:n.v,o=e(n);r[t][i]={distance:o,predecessor:t}})}),i.forEach(function(t){var e=r[t];i.forEach(function(n){var o=r[n];i.forEach(function(n){var r=o[t],i=e[n],a=o[n],s=r.distance+i.distance;s<a.distance&&(a.distance=s,a.predecessor=i.predecessor)})})}),r}var o=t("../lodash");e.exports=r;var a=o.constant(1)},{"../lodash":51}],40:[function(t,e,n){e.exports={components:t("./components"),dijkstra:t("./dijkstra"),dijkstraAll:t("./dijkstra-all"),findCycles:t("./find-cycles"),floydWarshall:t("./floyd-warshall"),isAcyclic:t("./is-acyclic"),postorder:t("./postorder"),preorder:t("./preorder"),prim:t("./prim"),tarjan:t("./tarjan"),topsort:t("./topsort")}},{"./components":34,"./dijkstra":37,"./dijkstra-all":36,"./find-cycles":38,"./floyd-warshall":39,"./is-acyclic":41,"./postorder":42,"./preorder":43,"./prim":44,"./tarjan":45,"./topsort":46}],41:[function(t,e,n){function r(t){try{i(t)}catch(t){if(t instanceof i.CycleException)return!1;throw t}return!0}var i=t("./topsort");e.exports=r},{"./topsort":46}],42:[function(t,e,n){function r(t,e){return i(t,e,"post")}var i=t("./dfs");e.exports=r},{"./dfs":35}],43:[function(t,e,n){function r(t,e){return i(t,e,"pre")}var i=t("./dfs");e.exports=r},{"./dfs":35}],44:[function(t,e,n){function r(t,e){function n(t){var n=t.v===r?t.w:t.v,i=l.priority(n);if(void 0!==i){var o=e(t);o<i&&(u[n]=r,l.decrease(n,o))}}var r,s=new o,u={},l=new a;if(0===t.nodeCount())return s;i.each(t.nodes(),function(t){l.add(t,Number.POSITIVE_INFINITY),s.setNode(t)}),l.decrease(t.nodes()[0],0);for(var c=!1;l.size()>0;){if(r=l.removeMin(),i.has(u,r))s.setEdge(r,u[r]);else{if(c)throw new Error("Input graph is not connected: "+t);c=!0}t.nodeEdges(r).forEach(n)}return s}var i=t("../lodash"),o=t("../graph"),a=t("../data/priority-queue");e.exports=r},{"../data/priority-queue":47,"../graph":48,"../lodash":51}],45:[function(t,e,n){function r(t){function e(s){var u=o[s]={onStack:!0,lowlink:n,index:n++};if(r.push(s),t.successors(s).forEach(function(t){i.has(o,t)?o[t].onStack&&(u.lowlink=Math.min(u.lowlink,o[t].index)):(e(t),u.lowlink=Math.min(u.lowlink,o[t].lowlink))}),u.lowlink===u.index){var l,c=[];do l=r.pop(),o[l].onStack=!1,c.push(l);while(s!==l);a.push(c)}}var n=0,r=[],o={},a=[];return t.nodes().forEach(function(t){i.has(o,t)||e(t)}),a}var i=t("../lodash");e.exports=r},{"../lodash":51}],46:[function(t,e,n){function r(t){function e(s){if(o.has(r,s))throw new i;o.has(n,s)||(r[s]=!0,n[s]=!0,o.each(t.predecessors(s),e),delete r[s],a.push(s))}var n={},r={},a=[];if(o.each(t.sinks(),e),o.size(n)!==t.nodeCount())throw new i;return a}function i(){}var o=t("../lodash");e.exports=r,r.CycleException=i},{"../lodash":51}],47:[function(t,e,n){function r(){this._arr=[],this._keyIndices={}}var i=t("../lodash");e.exports=r,r.prototype.size=function(){return this._arr.length},r.prototype.keys=function(){return this._arr.map(function(t){return t.key})},r.prototype.has=function(t){return i.has(this._keyIndices,t)},r.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},r.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},r.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),!i.has(n,t)){var r=this._arr,o=r.length;return n[t]=o,r.push({key:t,priority:e}),this._decrease(o),!0}return!1},r.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},r.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)},r.prototype._heapify=function(t){var e=this._arr,n=2*t,r=n+1,i=t;n<e.length&&(i=e[n].priority<e[i].priority?n:i,r<e.length&&(i=e[r].priority<e[i].priority?r:i),i!==t&&(this._swap(t,i),this._heapify(i)))},r.prototype._decrease=function(t){for(var e,n=this._arr,r=n[t].priority;0!==t&&(e=t>>1,!(n[e].priority<r));)this._swap(t,e),t=e},r.prototype._swap=function(t,e){var n=this._arr,r=this._keyIndices,i=n[t],o=n[e];n[t]=o,n[e]=i,r[o.key]=t,r[i.key]=e}},{"../lodash":51}],48:[function(t,e,n){"use strict";function r(t){this._isDirected=!l.has(t,"directed")||t.directed,this._isMultigraph=!!l.has(t,"multigraph")&&t.multigraph,this._isCompound=!!l.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=l.constant(void 0),this._defaultEdgeLabelFn=l.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[h]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function i(t,e){t[e]?t[e]++:t[e]=1}function o(t,e){--t[e]||delete t[e]}function a(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var a=i;i=o,o=a}return i+f+o+f+(l.isUndefined(r)?c:r)}function s(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var a=i;i=o,o=a}var s={v:i,w:o};return r&&(s.name=r),s}function u(t,e){return a(t,e.v,e.w,e.name)}var l=t("./lodash");e.exports=r;var c="\0",h="\0",f="";r.prototype._nodeCount=0,r.prototype._edgeCount=0,r.prototype.isDirected=function(){return this._isDirected},r.prototype.isMultigraph=function(){return this._isMultigraph},r.prototype.isCompound=function(){return this._isCompound},r.prototype.setGraph=function(t){return this._label=t,this},r.prototype.graph=function(){return this._label},r.prototype.setDefaultNodeLabel=function(t){return l.isFunction(t)||(t=l.constant(t)),this._defaultNodeLabelFn=t,this},r.prototype.nodeCount=function(){return this._nodeCount},r.prototype.nodes=function(){return l.keys(this._nodes)},r.prototype.sources=function(){return l.filter(this.nodes(),function(t){return l.isEmpty(this._in[t])},this)},r.prototype.sinks=function(){return l.filter(this.nodes(),function(t){return l.isEmpty(this._out[t])},this)},r.prototype.setNodes=function(t,e){var n=arguments;return l.each(t,function(t){n.length>1?this.setNode(t,e):this.setNode(t)},this),this},r.prototype.setNode=function(t,e){return l.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=h,this._children[t]={},this._children[h][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},r.prototype.node=function(t){return this._nodes[t]},r.prototype.hasNode=function(t){return l.has(this._nodes,t)},r.prototype.removeNode=function(t){var e=this;if(l.has(this._nodes,t)){var n=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],l.each(this.children(t),function(t){this.setParent(t)},this),delete this._children[t]),l.each(l.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],l.each(l.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},r.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(l.isUndefined(e))e=h;else{e+="";for(var n=e;!l.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},r.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},r.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(e!==h)return e}},r.prototype.children=function(t){if(l.isUndefined(t)&&(t=h),this._isCompound){var e=this._children[t];if(e)return l.keys(e)}else{if(t===h)return this.nodes();if(this.hasNode(t))return[]}},r.prototype.predecessors=function(t){var e=this._preds[t];if(e)return l.keys(e)},r.prototype.successors=function(t){var e=this._sucs[t];if(e)return l.keys(e)},r.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return l.union(e,this.successors(t))},r.prototype.filterNodes=function(t){function e(t){var o=r.parent(t);return void 0===o||n.hasNode(o)?(i[t]=o,o):o in i?i[o]:e(o)}var n=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});n.setGraph(this.graph()),l.each(this._nodes,function(e,r){t(r)&&n.setNode(r,e)},this),l.each(this._edgeObjs,function(t){n.hasNode(t.v)&&n.hasNode(t.w)&&n.setEdge(t,this.edge(t))},this);var r=this,i={};return this._isCompound&&l.each(n.nodes(),function(t){n.setParent(t,e(t))}),n},r.prototype.setDefaultEdgeLabel=function(t){return l.isFunction(t)||(t=l.constant(t)),this._defaultEdgeLabelFn=t,this},r.prototype.edgeCount=function(){return this._edgeCount},r.prototype.edges=function(){return l.values(this._edgeObjs)},r.prototype.setPath=function(t,e){var n=this,r=arguments;return l.reduce(t,function(t,i){return r.length>1?n.setEdge(t,i,e):n.setEdge(t,i),i}),this},r.prototype.setEdge=function(){var t,e,n,r,o=!1,u=arguments[0];"object"==typeof u&&null!==u&&"v"in u?(t=u.v,e=u.w,n=u.name,2===arguments.length&&(r=arguments[1],o=!0)):(t=u,e=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],o=!0)),t=""+t,e=""+e,l.isUndefined(n)||(n=""+n);var c=a(this._isDirected,t,e,n);if(l.has(this._edgeLabels,c))return o&&(this._edgeLabels[c]=r),this;if(!l.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[c]=o?r:this._defaultEdgeLabelFn(t,e,n);var h=s(this._isDirected,t,e,n);return t=h.v,e=h.w,Object.freeze(h),this._edgeObjs[c]=h,i(this._preds[e],t),i(this._sucs[t],e),this._in[e][c]=h,this._out[t][c]=h,this._edgeCount++,this},r.prototype.edge=function(t,e,n){var r=1===arguments.length?u(this._isDirected,arguments[0]):a(this._isDirected,t,e,n);return this._edgeLabels[r]},r.prototype.hasEdge=function(t,e,n){var r=1===arguments.length?u(this._isDirected,arguments[0]):a(this._isDirected,t,e,n);return l.has(this._edgeLabels,r)},r.prototype.removeEdge=function(t,e,n){var r=1===arguments.length?u(this._isDirected,arguments[0]):a(this._isDirected,t,e,n),i=this._edgeObjs[r];return i&&(t=i.v,e=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],o(this._preds[e],t),o(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this},r.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var r=l.values(n);return e?l.filter(r,function(t){return t.v===e}):r}},r.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var r=l.values(n);return e?l.filter(r,function(t){return t.w===e}):r}},r.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))}},{"./lodash":51}],49:[function(t,e,n){e.exports={Graph:t("./graph"),version:t("./version")}},{"./graph":48,"./version":52}],50:[function(t,e,n){function r(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:i(t),edges:o(t)};return s.isUndefined(t.graph())||(e.value=s.clone(t.graph())),e}function i(t){return s.map(t.nodes(),function(e){var n=t.node(e),r=t.parent(e),i={v:e};return s.isUndefined(n)||(i.value=n),s.isUndefined(r)||(i.parent=r),i})}function o(t){return s.map(t.edges(),function(e){var n=t.edge(e),r={v:e.v,w:e.w};return s.isUndefined(e.name)||(r.name=e.name),s.isUndefined(n)||(r.value=n),r})}function a(t){var e=new u(t.options).setGraph(t.value);return s.each(t.nodes,function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)}),s.each(t.edges,function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)}),e}var s=t("./lodash"),u=t("./graph");e.exports={write:r,read:a}},{"./graph":48,"./lodash":51}],51:[function(t,e,n){var r;if("function"==typeof t)try{r=t("lodash")}catch(t){}r||(r=window._),e.exports=r},{lodash:53}],52:[function(t,e,n){e.exports="1.0.7"},{}],53:[function(t,e,n){(function(t){(function(){function r(t,e){if(t!==e){var n=null===t,r=t===C,i=t===t,o=null===e,a=e===C,s=e===e;if(t>e&&!o||!i||n&&!a&&s||r&&s)return 1;if(t<e&&!n||!s||o&&!r&&i||a&&i)return-1}return 0}function i(t,e,n){for(var r=t.length,i=n?r:-1;n?i--:++i<r;)if(e(t[i],i,t))return i;return-1}function o(t,e,n){if(e!==e)return y(t,n);for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function a(t){return"function"==typeof t||!1}function s(t){return null==t?"":t+""}function u(t,e){for(var n=-1,r=t.length;++n<r&&e.indexOf(t.charAt(n))>-1;);return n}function l(t,e){for(var n=t.length;n--&&e.indexOf(t.charAt(n))>-1;);return n}function c(t,e){return r(t.criteria,e.criteria)||t.index-e.index}function h(t,e,n){for(var i=-1,o=t.criteria,a=e.criteria,s=o.length,u=n.length;++i<s;){var l=r(o[i],a[i]);if(l){if(i>=u)return l;var c=n[i];return l*("asc"===c||c===!0?1:-1)}}return t.index-e.index}function f(t){return zt[t]}function d(t){return Ut[t]}function p(t,e,n){return e?t=Vt[t]:n&&(t=Xt[t]),"\\"+t}function g(t){return"\\"+Xt[t]}function y(t,e,n){for(var r=t.length,i=e+(n?0:-1);n?i--:++i<r;){var o=t[i];if(o!==o)return i}return-1}function v(t){return!!t&&"object"==typeof t}function m(t){return t<=160&&t>=9&&t<=13||32==t||160==t||5760==t||6158==t||t>=8192&&(t<=8202||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function b(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;)t[n]===e&&(t[n]=z,o[++i]=n);return o}function x(t,e){for(var n,r=-1,i=t.length,o=-1,a=[];++r<i;){var s=t[r],u=e?e(s,r,t):s;r&&n===u||(n=u,a[++o]=s)}return a}function w(t){for(var e=-1,n=t.length;++e<n&&m(t.charCodeAt(e)););return e}function _(t){for(var e=t.length;e--&&m(t.charCodeAt(e)););return e}function k(t){return Yt[t]}function A(t){function e(t){if(v(t)&&!Ms(t)&&!(t instanceof Z)){if(t instanceof m)return t;if(ea.call(t,"__chain__")&&ea.call(t,"__wrapped__"))return dr(t)}return new m(t)}function n(){}function m(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}function Z(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ta,this.__views__=[]}function et(){var t=new Z(this.__wrapped__);return t.__actions__=te(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=te(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=te(this.__views__),t}function rt(){if(this.__filtered__){var t=new Z(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function zt(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ms(t),r=e<0,i=n?t.length:0,o=Yn(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,h=c.length,f=0,d=ka(u,this.__takeCount__);if(!n||i<W||i==u&&d==u)return nn(r&&n?t.reverse():t,this.__actions__);var p=[];t:for(;u--&&f<d;){l+=e;for(var g=-1,y=t[l];++g<h;){var v=c[g],m=v.iteratee,b=v.type,x=m(y);if(b==$)y=x;else if(!x){if(b==H)continue t;break t}}p[f++]=y}return p}function Ut(){this.__data__={}}function Yt(t){return this.has(t)&&delete this.__data__[t]}function Gt(t){return"__proto__"==t?C:this.__data__[t]}function Vt(t){return"__proto__"!=t&&ea.call(this.__data__,t)}function Xt(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this}function Kt(t){var e=t?t.length:0;for(this.data={hash:va(null),set:new ha};e--;)this.push(t[e])}function Zt(t,e){var n=t.data,r="string"==typeof e||Oi(e)?n.set.has(e):n.hash[e];return r?0:-1}function Jt(t){var e=this.data;"string"==typeof t||Oi(t)?e.set.add(t):e.hash[t]=!0}function Qt(t,e){for(var n=-1,r=t.length,i=-1,o=e.length,a=Ho(r+o);++n<r;)a[n]=t[n];for(;++i<o;)a[n++]=e[i];return a}function te(t,e){var n=-1,r=t.length;for(e||(e=Ho(r));++n<r;)e[n]=t[n];return e}function ee(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function ie(t,e){for(var n=t.length;n--&&e(t[n],n,t)!==!1;);return t}function oe(t,e){for(var n=-1,r=t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function ae(t,e,n,r){for(var i=-1,o=t.length,a=r,s=a;++i<o;){var u=t[i],l=+e(u);n(l,a)&&(a=l,s=u)}return s}function se(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[++i]=a)}return o}function ue(t,e){for(var n=-1,r=t.length,i=Ho(r);++n<r;)i[n]=e(t[n],n,t);return i}function le(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function ce(t,e,n,r){var i=-1,o=t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function he(t,e,n,r){var i=t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function fe(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function de(t,e){for(var n=t.length,r=0;n--;)r+=+e(t[n])||0;return r}function pe(t,e){return t===C?e:t}function ge(t,e,n,r){return t!==C&&ea.call(r,n)?t:e}function ye(t,e,n){for(var r=-1,i=Ws(e),o=i.length;++r<o;){var a=i[r],s=t[a],u=n(s,e[a],a,t,e);(u===u?u===s:s!==s)&&(s!==C||a in t)||(t[a]=u)}return t}function ve(t,e){return null==e?t:be(e,Ws(e),t)}function me(t,e){for(var n=-1,r=null==t,i=!r&&Zn(t),o=i?t.length:0,a=e.length,s=Ho(a);++n<a;){var u=e[n];i?s[n]=Jn(u,o)?t[u]:C:s[n]=r?C:t[u]}return s}function be(t,e,n){n||(n={});for(var r=-1,i=e.length;++r<i;){var o=e[r];n[o]=t[o]}return n}function xe(t,e,n){var r=typeof t;return"function"==r?e===C?t:an(t,e,n):null==t?To:"object"==r?je(t):e===C?Oo(t):We(t,e)}function we(t,e,n,r,i,o,a){var s;if(n&&(s=i?n(t,r,i):n(t)),s!==C)return s;if(!Oi(t))return t;var u=Ms(t);if(u){if(s=Gn(t),!e)return te(t,s)}else{var l=ra.call(t),c=l==K;if(l!=Q&&l!=U&&(!c||i))return qt[l]?Xn(t,l,e):i?t:{};if(s=Vn(c?{}:t),!e)return ve(s,t)}o||(o=[]),a||(a=[]);for(var h=o.length;h--;)if(o[h]==t)return a[h];return o.push(t),a.push(s),(u?ee:Le)(t,function(r,i){s[i]=we(r,e,n,i,t,o,a)}),s}function _e(t,e,n){if("function"!=typeof t)throw new Ko(q);return fa(function(){t.apply(C,n)},e)}function ke(t,e){var n=t?t.length:0,r=[];if(!n)return r;var i=-1,a=qn(),s=a==o,u=s&&e.length>=W?gn(e):null,l=e.length;u&&(a=Zt,s=!1,e=u);t:for(;++i<n;){var c=t[i];if(s&&c===c){for(var h=l;h--;)if(e[h]===c)continue t;r.push(c)}else a(e,c,0)<0&&r.push(c)}return r}function Ae(t,e){var n=!0;return Ba(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Ce(t,e,n,r){var i=r,o=i;return Ba(t,function(t,a,s){var u=+e(t,a,s);(n(u,i)||u===r&&u===o)&&(i=u,o=t)}),o}function Se(t,e,n,r){var i=t.length;for(n=null==n?0:+n||0,n<0&&(n=-n>i?0:i+n),r=r===C||r>i?i:+r||0,r<0&&(r+=i),i=n>r?0:r>>>0,n>>>=0;n<i;)t[n++]=e;return t}function Ee(t,e){var n=[];return Ba(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function Te(t,e,n,r){var i;return n(t,function(t,n,o){if(e(t,n,o))return i=r?n:t,!1}),i}function Me(t,e,n,r){r||(r=[]);for(var i=-1,o=t.length;++i<o;){var a=t[i];v(a)&&Zn(a)&&(n||Ms(a)||Ci(a))?e?Me(a,e,n,r):le(r,a):n||(r[r.length]=a)}return r}function De(t,e){return Ra(t,e,to)}function Le(t,e){return Ra(t,e,Ws)}function Fe(t,e){return ja(t,e,Ws)}function Ne(t,e){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var a=e[n];Ni(t[a])&&(o[++i]=a)}return o}function Oe(t,e,n){if(null!=t){n!==C&&n in hr(t)&&(e=[n]);for(var r=0,i=e.length;null!=t&&r<i;)t=t[e[r++]];return r&&r==i?t:C}}function Ie(t,e,n,r,i,o){return t===e||(null==t||null==e||!Oi(t)&&!v(e)?t!==t&&e!==e:Be(t,e,Ie,n,r,i,o))}function Be(t,e,n,r,i,o,a){var s=Ms(t),u=Ms(e),l=Y,c=Y;s||(l=ra.call(t),l==U?l=Q:l!=Q&&(s=qi(t))),u||(c=ra.call(e),c==U?c=Q:c!=Q&&(u=qi(e)));var h=l==Q,f=c==Q,d=l==c;if(d&&!s&&!h)return jn(t,e,l);if(!i){var p=h&&ea.call(t,"__wrapped__"),g=f&&ea.call(e,"__wrapped__");if(p||g)return n(p?t.value():t,g?e.value():e,r,i,o,a)}if(!d)return!1;o||(o=[]),a||(a=[]);for(var y=o.length;y--;)if(o[y]==t)return a[y]==e;o.push(t),a.push(e);var v=(s?Rn:Wn)(t,e,n,r,i,o,a);return o.pop(),a.pop(),v}function Pe(t,e,n){var r=e.length,i=r,o=!n;if(null==t)return!i;for(t=hr(t);r--;){var a=e[r];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<i;){a=e[r];var s=a[0],u=t[s],l=a[1];if(o&&a[2]){if(u===C&&!(s in t))return!1}else{var c=n?n(u,l,s):C;if(!(c===C?Ie(l,u,n,!0):c))return!1}}return!0}function Re(t,e){var n=-1,r=Zn(t)?Ho(t.length):[];return Ba(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function je(t){var e=zn(t);if(1==e.length&&e[0][2]){var n=e[0][0],r=e[0][1];return function(t){return null!=t&&t[n]===r&&(r!==C||n in hr(t))}}return function(t){return Pe(t,e)}}function We(t,e){var n=Ms(t),r=tr(t)&&rr(e),i=t+"";return t=fr(t),function(o){if(null==o)return!1;var a=i;if(o=hr(o),(n||!r)&&!(a in o)){if(o=1==t.length?o:Oe(o,Ve(t,0,-1)),null==o)return!1;a=Sr(t),o=hr(o)}return o[a]===e?e!==C||a in o:Ie(e,o[a],C,!0)}}function He(t,e,n,r,i){if(!Oi(t))return t;var o=Zn(e)&&(Ms(e)||qi(e)),a=o?C:Ws(e);return ee(a||e,function(s,u){if(a&&(u=s,s=e[u]),v(s))r||(r=[]),i||(i=[]),$e(t,e,u,He,n,r,i);else{var l=t[u],c=n?n(l,s,u,t,e):C,h=c===C;h&&(c=s),c===C&&(!o||u in t)||!h&&(c===c?c===l:l!==l)||(t[u]=c)}}),t}function $e(t,e,n,r,i,o,a){for(var s=o.length,u=e[n];s--;)if(o[s]==u)return void(t[n]=a[s]);var l=t[n],c=i?i(l,u,n,t,e):C,h=c===C;h&&(c=u,Zn(u)&&(Ms(u)||qi(u))?c=Ms(l)?l:Zn(l)?te(l):[]:Wi(u)||Ci(u)?c=Ci(l)?Vi(l):Wi(l)?l:{}:h=!1),o.push(u),a.push(c),h?t[n]=r(c,u,i,o,a):(c===c?c!==l:l===l)&&(t[n]=c)}function qe(t){return function(e){return null==e?C:e[t]}}function ze(t){var e=t+"";return t=fr(t),function(n){return Oe(n,t,e)}}function Ue(t,e){for(var n=t?e.length:0;n--;){var r=e[n];if(r!=i&&Jn(r)){var i=r;da.call(t,r,1)}}return t}function Ye(t,e){return t+ma(Sa()*(e-t+1))}function Ge(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function Ve(t,e,n){var r=-1,i=t.length;e=null==e?0:+e||0,e<0&&(e=-e>i?0:i+e),n=n===C||n>i?i:+n||0,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Ho(i);++r<i;)o[r]=t[r+e];return o}function Xe(t,e){var n;return Ba(t,function(t,r,i){return n=e(t,r,i),!n}),!!n}function Ke(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function Ze(t,e,n){var r=Hn(),i=-1;e=ue(e,function(t){return r(t)});var o=Re(t,function(t){var n=ue(e,function(e){return e(t)});return{criteria:n,index:++i,value:t}});return Ke(o,function(t,e){return h(t,e,n)})}function Je(t,e){var n=0;return Ba(t,function(t,r,i){n+=+e(t,r,i)||0}),n}function Qe(t,e){var n=-1,r=qn(),i=t.length,a=r==o,s=a&&i>=W,u=s?gn():null,l=[];u?(r=Zt,a=!1):(s=!1,u=e?[]:l);t:for(;++n<i;){var c=t[n],h=e?e(c,n,t):c;if(a&&c===c){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),l.push(c)}else r(u,h,0)<0&&((e||s)&&u.push(h),l.push(c))}return l}function tn(t,e){for(var n=-1,r=e.length,i=Ho(r);++n<r;)i[n]=t[e[n]];return i}function en(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Ve(t,r?0:o,r?o+1:i):Ve(t,r?o+1:0,r?i:o)}function nn(t,e){var n=t;n instanceof Z&&(n=n.value());for(var r=-1,i=e.length;++r<i;){var o=e[r];n=o.func.apply(o.thisArg,le([n],o.args))}return n}function rn(t,e,n){var r=0,i=t?t.length:r;if("number"==typeof e&&e===e&&i<=La){for(;r<i;){var o=r+i>>>1,a=t[o];(n?a<=e:a<e)&&null!==a?r=o+1:i=o}return i}return on(t,e,To,n)}function on(t,e,n,r){e=n(e);for(var i=0,o=t?t.length:0,a=e!==e,s=null===e,u=e===C;i<o;){var l=ma((i+o)/2),c=n(t[l]),h=c!==C,f=c===c;if(a)var d=f||r;else d=s?f&&h&&(r||null!=c):u?f&&(r||h):null!=c&&(r?c<=e:c<e);d?i=l+1:o=l}return ka(o,Da)}function an(t,e,n){if("function"!=typeof t)return To;if(e===C)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)};case 5:return function(n,r,i,o,a){return t.call(e,n,r,i,o,a)}}return function(){return t.apply(e,arguments)}}function sn(t){var e=new aa(t.byteLength),n=new pa(e);return n.set(new pa(t)),e}function un(t,e,n){for(var r=n.length,i=-1,o=_a(t.length-r,0),a=-1,s=e.length,u=Ho(s+o);++a<s;)u[a]=e[a];for(;++i<r;)u[n[i]]=t[i];for(;o--;)u[a++]=t[i++];return u}function ln(t,e,n){for(var r=-1,i=n.length,o=-1,a=_a(t.length-i,0),s=-1,u=e.length,l=Ho(a+u);++o<a;)l[o]=t[o];for(var c=o;++s<u;)l[c+s]=e[s];for(;++r<i;)l[c+n[r]]=t[o++];return l}function cn(t,e){return function(n,r,i){var o=e?e():{};if(r=Hn(r,i,3),Ms(n))for(var a=-1,s=n.length;++a<s;){var u=n[a];t(o,u,r(u,a,n),n)}else Ba(n,function(e,n,i){t(o,e,r(e,n,i),i)});return o}}function hn(t){return vi(function(e,n){var r=-1,i=null==e?0:n.length,o=i>2?n[i-2]:C,a=i>2?n[2]:C,s=i>1?n[i-1]:C;for("function"==typeof o?(o=an(o,s,5),i-=2):(o="function"==typeof s?s:C,i-=o?1:0),a&&Qn(n[0],n[1],a)&&(o=i<3?C:o,i=1);++r<i;){
var u=n[r];u&&t(e,u,o)}return e})}function fn(t,e){return function(n,r){var i=n?$a(n):0;if(!nr(i))return t(n,r);for(var o=e?i:-1,a=hr(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function dn(t){return function(e,n,r){for(var i=hr(e),o=r(e),a=o.length,s=t?a:-1;t?s--:++s<a;){var u=o[s];if(n(i[u],u,i)===!1)break}return e}}function pn(t,e){function n(){var i=this&&this!==ne&&this instanceof n?r:t;return i.apply(e,arguments)}var r=vn(t);return n}function gn(t){return va&&ha?new Kt(t):null}function yn(t){return function(e){for(var n=-1,r=Co(co(e)),i=r.length,o="";++n<i;)o=t(o,r[n],n);return o}}function vn(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Ia(t.prototype),r=t.apply(n,e);return Oi(r)?r:n}}function mn(t){function e(n,r,i){i&&Qn(n,r,i)&&(r=C);var o=Pn(n,t,C,C,C,C,C,r);return o.placeholder=e.placeholder,o}return e}function bn(t,e){return vi(function(n){var r=n[0];return null==r?r:(n.push(e),t.apply(C,n))})}function xn(t,e){return function(n,r,i){if(i&&Qn(n,r,i)&&(r=C),r=Hn(r,i,3),1==r.length){n=Ms(n)?n:cr(n);var o=ae(n,r,t,e);if(!n.length||o!==e)return o}return Ce(n,r,t,e)}}function wn(t,e){return function(n,r,o){if(r=Hn(r,o,3),Ms(n)){var a=i(n,r,e);return a>-1?n[a]:C}return Te(n,r,t)}}function _n(t){return function(e,n,r){return e&&e.length?(n=Hn(n,r,3),i(e,n,t)):-1}}function kn(t){return function(e,n,r){return n=Hn(n,r,3),Te(e,n,t,!0)}}function An(t){return function(){for(var e,n=arguments.length,r=t?n:-1,i=0,o=Ho(n);t?r--:++r<n;){var a=o[i++]=arguments[r];if("function"!=typeof a)throw new Ko(q);!e&&m.prototype.thru&&"wrapper"==$n(a)&&(e=new m([],(!0)))}for(r=e?-1:n;++r<n;){a=o[r];var s=$n(a),u="wrapper"==s?Ha(a):C;e=u&&er(u[0])&&u[1]==(O|D|F|I)&&!u[4].length&&1==u[9]?e[$n(u[0])].apply(e,u[3]):1==a.length&&er(a)?e[s]():e.thru(a)}return function(){var t=arguments,r=t[0];if(e&&1==t.length&&Ms(r)&&r.length>=W)return e.plant(r).value();for(var i=0,a=n?o[i].apply(this,t):r;++i<n;)a=o[i].call(this,a);return a}}}function Cn(t,e){return function(n,r,i){return"function"==typeof r&&i===C&&Ms(n)?t(n,r):e(n,an(r,i,3))}}function Sn(t){return function(e,n,r){return"function"==typeof n&&r===C||(n=an(n,r,3)),t(e,n,to)}}function En(t){return function(e,n,r){return"function"==typeof n&&r===C||(n=an(n,r,3)),t(e,n)}}function Tn(t){return function(e,n,r){var i={};return n=Hn(n,r,3),Le(e,function(e,r,o){var a=n(e,r,o);r=t?a:r,e=t?e:a,i[r]=e}),i}}function Mn(t){return function(e,n,r){return e=s(e),(t?e:"")+Nn(e,n,r)+(t?"":e)}}function Dn(t){var e=vi(function(n,r){var i=b(r,e.placeholder);return Pn(n,t,C,r,i)});return e}function Ln(t,e){return function(n,r,i,o){var a=arguments.length<3;return"function"==typeof r&&o===C&&Ms(n)?t(n,r,i,a):Ge(n,Hn(r,o,4),i,a,e)}}function Fn(t,e,n,r,i,o,a,s,u,l){function c(){for(var m=arguments.length,x=m,w=Ho(m);x--;)w[x]=arguments[x];if(r&&(w=un(w,r,i)),o&&(w=ln(w,o,a)),p||y){var _=c.placeholder,k=b(w,_);if(m-=k.length,m<l){var A=s?te(s):C,S=_a(l-m,0),M=p?k:C,D=p?C:k,L=p?w:C,O=p?C:w;e|=p?F:N,e&=~(p?N:F),g||(e&=~(E|T));var I=[t,e,n,L,M,O,D,A,u,S],B=Fn.apply(C,I);return er(t)&&qa(B,I),B.placeholder=_,B}}var P=f?n:this,R=d?P[t]:t;return s&&(w=ur(w,s)),h&&u<w.length&&(w.length=u),this&&this!==ne&&this instanceof c&&(R=v||vn(t)),R.apply(P,w)}var h=e&O,f=e&E,d=e&T,p=e&D,g=e&M,y=e&L,v=d?C:vn(t);return c}function Nn(t,e,n){var r=t.length;if(e=+e,r>=e||!xa(e))return"";var i=e-r;return n=null==n?" ":n+"",vo(n,ya(i/n.length)).slice(0,i)}function On(t,e,n,r){function i(){for(var e=-1,s=arguments.length,u=-1,l=r.length,c=Ho(l+s);++u<l;)c[u]=r[u];for(;s--;)c[u++]=arguments[++e];var h=this&&this!==ne&&this instanceof i?a:t;return h.apply(o?n:this,c)}var o=e&E,a=vn(t);return i}function In(t){var e=Uo[t];return function(t,n){return n=n===C?0:+n||0,n?(n=la(10,n),e(t*n)/n):e(t)}}function Bn(t){return function(e,n,r,i){var o=Hn(r);return null==r&&o===xe?rn(e,n,t):on(e,n,o(r,i,1),t)}}function Pn(t,e,n,r,i,o,a,s){var u=e&T;if(!u&&"function"!=typeof t)throw new Ko(q);var l=r?r.length:0;if(l||(e&=~(F|N),r=i=C),l-=i?i.length:0,e&N){var c=r,h=i;r=i=C}var f=u?C:Ha(t),d=[t,e,n,r,i,c,h,o,a,s];if(f&&(ir(d,f),e=d[1],s=d[9]),d[9]=null==s?u?0:t.length:_a(s-l,0)||0,e==E)var p=pn(d[0],d[2]);else p=e!=F&&e!=(E|F)||d[4].length?Fn.apply(C,d):On.apply(C,d);var g=f?Wa:qa;return g(p,d)}function Rn(t,e,n,r,i,o,a){var s=-1,u=t.length,l=e.length;if(u!=l&&!(i&&l>u))return!1;for(;++s<u;){var c=t[s],h=e[s],f=r?r(i?h:c,i?c:h,s):C;if(f!==C){if(f)continue;return!1}if(i){if(!fe(e,function(t){return c===t||n(c,t,r,i,o,a)}))return!1}else if(c!==h&&!n(c,h,r,i,o,a))return!1}return!0}function jn(t,e,n){switch(n){case G:case V:return+t==+e;case X:return t.name==e.name&&t.message==e.message;case J:return t!=+t?e!=+e:t==+e;case tt:case nt:return t==e+""}return!1}function Wn(t,e,n,r,i,o,a){var s=Ws(t),u=s.length,l=Ws(e),c=l.length;if(u!=c&&!i)return!1;for(var h=u;h--;){var f=s[h];if(!(i?f in e:ea.call(e,f)))return!1}for(var d=i;++h<u;){f=s[h];var p=t[f],g=e[f],y=r?r(i?g:p,i?p:g,f):C;if(!(y===C?n(p,g,r,i,o,a):y))return!1;d||(d="constructor"==f)}if(!d){var v=t.constructor,m=e.constructor;if(v!=m&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof m&&m instanceof m))return!1}return!0}function Hn(t,n,r){var i=e.callback||So;return i=i===So?xe:i,r?i(t,n,r):i}function $n(t){for(var e=t.name,n=Oa[e],r=n?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function qn(t,n,r){var i=e.indexOf||Ar;return i=i===Ar?o:i,t?i(t,n,r):i}function zn(t){for(var e=eo(t),n=e.length;n--;)e[n][2]=rr(e[n][1]);return e}function Un(t,e){var n=null==t?C:t[e];return Pi(n)?n:C}function Yn(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=ka(e,t+a);break;case"takeRight":t=_a(t,e-a)}}return{start:t,end:e}}function Gn(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&ea.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Vn(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=Go),new e}function Xn(t,e,n){var r=t.constructor;switch(e){case it:return sn(t);case G:case V:return new r((+t));case ot:case at:case st:case ut:case lt:case ct:case ht:case ft:case dt:var i=t.buffer;return new r(n?sn(i):i,t.byteOffset,t.length);case J:case nt:return new r(t);case tt:var o=new r(t.source,Ft.exec(t));o.lastIndex=t.lastIndex}return o}function Kn(t,e,n){null==t||tr(e,t)||(e=fr(e),t=1==e.length?t:Oe(t,Ve(e,0,-1)),e=Sr(e));var r=null==t?t:t[e];return null==r?C:r.apply(t,n)}function Zn(t){return null!=t&&nr($a(t))}function Jn(t,e){return t="number"==typeof t||It.test(t)?+t:-1,e=null==e?Fa:e,t>-1&&t%1==0&&t<e}function Qn(t,e,n){if(!Oi(n))return!1;var r=typeof e;if("number"==r?Zn(n)&&Jn(e,n.length):"string"==r&&e in n){var i=n[e];return t===t?t===i:i!==i}return!1}function tr(t,e){var n=typeof t;if("string"==n&&Ct.test(t)||"number"==n)return!0;if(Ms(t))return!1;var r=!At.test(t);return r||null!=e&&t in hr(e)}function er(t){var n=$n(t);if(!(n in Z.prototype))return!1;var r=e[n];if(t===r)return!0;var i=Ha(r);return!!i&&t===i[0]}function nr(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Fa}function rr(t){return t===t&&!Oi(t)}function ir(t,e){var n=t[1],r=e[1],i=n|r,o=i<O,a=r==O&&n==D||r==O&&n==I&&t[7].length<=e[8]||r==(O|I)&&n==D;if(!o&&!a)return t;r&E&&(t[2]=e[2],i|=n&E?0:M);var s=e[3];if(s){var u=t[3];t[3]=u?un(u,s,e[4]):te(s),t[4]=u?b(t[3],z):te(e[4])}return s=e[5],s&&(u=t[5],t[5]=u?ln(u,s,e[6]):te(s),t[6]=u?b(t[5],z):te(e[6])),s=e[7],s&&(t[7]=te(s)),r&O&&(t[8]=null==t[8]?e[8]:ka(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function or(t,e){return t===C?e:Ds(t,e,or)}function ar(t,e){t=hr(t);for(var n=-1,r=e.length,i={};++n<r;){var o=e[n];o in t&&(i[o]=t[o])}return i}function sr(t,e){var n={};return De(t,function(t,r,i){e(t,r,i)&&(n[r]=t)}),n}function ur(t,e){for(var n=t.length,r=ka(e.length,n),i=te(t);r--;){var o=e[r];t[r]=Jn(o,n)?i[o]:C}return t}function lr(t){for(var e=to(t),n=e.length,r=n&&t.length,i=!!r&&nr(r)&&(Ms(t)||Ci(t)),o=-1,a=[];++o<n;){var s=e[o];(i&&Jn(s,r)||ea.call(t,s))&&a.push(s)}return a}function cr(t){return null==t?[]:Zn(t)?Oi(t)?t:Go(t):oo(t)}function hr(t){return Oi(t)?t:Go(t)}function fr(t){if(Ms(t))return t;var e=[];return s(t).replace(St,function(t,n,r,i){e.push(r?i.replace(Dt,"$1"):n||t)}),e}function dr(t){return t instanceof Z?t.clone():new m(t.__wrapped__,t.__chain__,te(t.__actions__))}function pr(t,e,n){e=(n?Qn(t,e,n):null==e)?1:_a(ma(e)||1,1);for(var r=0,i=t?t.length:0,o=-1,a=Ho(ya(i/e));r<i;)a[++o]=Ve(t,r,r+=e);return a}function gr(t){for(var e=-1,n=t?t.length:0,r=-1,i=[];++e<n;){var o=t[e];o&&(i[++r]=o)}return i}function yr(t,e,n){var r=t?t.length:0;return r?((n?Qn(t,e,n):null==e)&&(e=1),Ve(t,e<0?0:e)):[]}function vr(t,e,n){var r=t?t.length:0;return r?((n?Qn(t,e,n):null==e)&&(e=1),e=r-(+e||0),Ve(t,0,e<0?0:e)):[]}function mr(t,e,n){return t&&t.length?en(t,Hn(e,n,3),!0,!0):[]}function br(t,e,n){return t&&t.length?en(t,Hn(e,n,3),!0):[]}function xr(t,e,n,r){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&Qn(t,e,n)&&(n=0,r=i),Se(t,e,n,r)):[]}function wr(t){return t?t[0]:C}function _r(t,e,n){var r=t?t.length:0;return n&&Qn(t,e,n)&&(e=!1),r?Me(t,e):[]}function kr(t){var e=t?t.length:0;return e?Me(t,!0):[]}function Ar(t,e,n){var r=t?t.length:0;if(!r)return-1;if("number"==typeof n)n=n<0?_a(r+n,0):n;else if(n){var i=rn(t,e);return i<r&&(e===e?e===t[i]:t[i]!==t[i])?i:-1}return o(t,e,n||0)}function Cr(t){return vr(t,1)}function Sr(t){var e=t?t.length:0;return e?t[e-1]:C}function Er(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(n<0?_a(r+n,0):ka(n||0,r-1))+1;else if(n){i=rn(t,e,!0)-1;var o=t[i];return(e===e?e===o:o!==o)?i:-1}if(e!==e)return y(t,i,!0);for(;i--;)if(t[i]===e)return i;return-1}function Tr(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var n=0,r=qn(),i=t.length;++n<i;)for(var o=0,a=t[n];(o=r(e,a,o))>-1;)da.call(e,o,1);return e}function Mr(t,e,n){var r=[];if(!t||!t.length)return r;var i=-1,o=[],a=t.length;for(e=Hn(e,n,3);++i<a;){var s=t[i];e(s,i,t)&&(r.push(s),o.push(i))}return Ue(t,o),r}function Dr(t){return yr(t,1)}function Lr(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&Qn(t,e,n)&&(e=0,n=r),Ve(t,e,n)):[]}function Fr(t,e,n){var r=t?t.length:0;return r?((n?Qn(t,e,n):null==e)&&(e=1),Ve(t,0,e<0?0:e)):[]}function Nr(t,e,n){var r=t?t.length:0;return r?((n?Qn(t,e,n):null==e)&&(e=1),e=r-(+e||0),Ve(t,e<0?0:e)):[]}function Or(t,e,n){return t&&t.length?en(t,Hn(e,n,3),!1,!0):[]}function Ir(t,e,n){return t&&t.length?en(t,Hn(e,n,3)):[]}function Br(t,e,n,r){var i=t?t.length:0;if(!i)return[];null!=e&&"boolean"!=typeof e&&(r=n,n=Qn(t,e,r)?C:e,e=!1);var a=Hn();return null==n&&a===xe||(n=a(n,r,3)),e&&qn()==o?x(t,n):Qe(t,n)}function Pr(t){if(!t||!t.length)return[];var e=-1,n=0;t=se(t,function(t){if(Zn(t))return n=_a(t.length,n),!0});for(var r=Ho(n);++e<n;)r[e]=ue(t,qe(e));return r}function Rr(t,e,n){var r=t?t.length:0;if(!r)return[];var i=Pr(t);return null==e?i:(e=an(e,n,4),ue(i,function(t){return ce(t,e,C,!0)}))}function jr(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(Zn(n))var r=r?le(ke(r,n),ke(n,r)):n}return r?Qe(r):[]}function Wr(t,e){var n=-1,r=t?t.length:0,i={};for(!r||e||Ms(t[0])||(e=[]);++n<r;){var o=t[n];e?i[o]=e[n]:o&&(i[o[0]]=o[1])}return i}function Hr(t){var n=e(t);return n.__chain__=!0,n}function $r(t,e,n){return e.call(n,t),t}function qr(t,e,n){return e.call(n,t)}function zr(){return Hr(this)}function Ur(){return new m(this.value(),this.__chain__)}function Yr(t){for(var e,r=this;r instanceof n;){var i=dr(r);e?o.__wrapped__=i:e=i;var o=i;r=r.__wrapped__}return o.__wrapped__=t,e}function Gr(){var t=this.__wrapped__,e=function(t){return n&&n.__dir__<0?t:t.reverse()};if(t instanceof Z){var n=t;return this.__actions__.length&&(n=new Z(this)),n=n.reverse(),n.__actions__.push({func:qr,args:[e],thisArg:C}),new m(n,this.__chain__)}return this.thru(e)}function Vr(){return this.value()+""}function Xr(){return nn(this.__wrapped__,this.__actions__)}function Kr(t,e,n){var r=Ms(t)?oe:Ae;return n&&Qn(t,e,n)&&(e=C),"function"==typeof e&&n===C||(e=Hn(e,n,3)),r(t,e)}function Zr(t,e,n){var r=Ms(t)?se:Ee;return e=Hn(e,n,3),r(t,e)}function Jr(t,e){return is(t,je(e))}function Qr(t,e,n,r){var i=t?$a(t):0;return nr(i)||(t=oo(t),i=t.length),n="number"!=typeof n||r&&Qn(e,n,r)?0:n<0?_a(i+n,0):n||0,"string"==typeof t||!Ms(t)&&$i(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&qn(t,e,n)>-1}function ti(t,e,n){var r=Ms(t)?ue:Re;return e=Hn(e,n,3),r(t,e)}function ei(t,e){return ti(t,Oo(e))}function ni(t,e,n){var r=Ms(t)?se:Ee;return e=Hn(e,n,3),r(t,function(t,n,r){return!e(t,n,r)})}function ri(t,e,n){if(n?Qn(t,e,n):null==e){t=cr(t);var r=t.length;return r>0?t[Ye(0,r-1)]:C}var i=-1,o=Gi(t),r=o.length,a=r-1;for(e=ka(e<0?0:+e||0,r);++i<e;){var s=Ye(i,a),u=o[s];o[s]=o[i],o[i]=u}return o.length=e,o}function ii(t){return ri(t,Ta)}function oi(t){var e=t?$a(t):0;return nr(e)?e:Ws(t).length}function ai(t,e,n){var r=Ms(t)?fe:Xe;return n&&Qn(t,e,n)&&(e=C),"function"==typeof e&&n===C||(e=Hn(e,n,3)),r(t,e)}function si(t,e,n){if(null==t)return[];n&&Qn(t,e,n)&&(e=C);var r=-1;e=Hn(e,n,3);var i=Re(t,function(t,n,i){return{criteria:e(t,n,i),index:++r,value:t}});return Ke(i,c)}function ui(t,e,n,r){return null==t?[]:(r&&Qn(e,n,r)&&(n=C),Ms(e)||(e=null==e?[]:[e]),Ms(n)||(n=null==n?[]:[n]),Ze(t,e,n))}function li(t,e){return Zr(t,je(e))}function ci(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new Ko(q);var n=t;t=e,e=n}return t=xa(t=+t)?t:0,function(){if(--t<1)return e.apply(this,arguments)}}function hi(t,e,n){return n&&Qn(t,e,n)&&(e=C),e=t&&null==e?t.length:_a(+e||0,0),Pn(t,O,C,C,C,C,e)}function fi(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new Ko(q);var r=t;t=e,e=r}return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=C),n}}function di(t,e,n){function r(){d&&sa(d),l&&sa(l),g=0,l=d=p=C}function i(e,n){n&&sa(n),l=d=p=C,e&&(g=gs(),c=t.apply(f,u),d||l||(u=f=C))}function o(){var t=e-(gs()-h);t<=0||t>e?i(p,l):d=fa(o,t)}function a(){i(v,d)}function s(){if(u=arguments,h=gs(),f=this,p=v&&(d||!m),y===!1)var n=m&&!d;else{l||m||(g=h);var r=y-(h-g),i=r<=0||r>y;i?(l&&(l=sa(l)),g=h,c=t.apply(f,u)):l||(l=fa(a,r))}return i&&d?d=sa(d):d||e===y||(d=fa(o,e)),n&&(i=!0,c=t.apply(f,u)),!i||d||l||(u=f=C),c}var u,l,c,h,f,d,p,g=0,y=!1,v=!0;if("function"!=typeof t)throw new Ko(q);if(e=e<0?0:+e||0,n===!0){var m=!0;v=!1}else Oi(n)&&(m=!!n.leading,y="maxWait"in n&&_a(+n.maxWait||0,e),v="trailing"in n?!!n.trailing:v);return s.cancel=r,s}function pi(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new Ko(q);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new pi.Cache,n}function gi(t){if("function"!=typeof t)throw new Ko(q);return function(){return!t.apply(this,arguments)}}function yi(t){return fi(2,t)}function vi(t,e){if("function"!=typeof t)throw new Ko(q);return e=_a(e===C?t.length-1:+e||0,0),function(){for(var n=arguments,r=-1,i=_a(n.length-e,0),o=Ho(i);++r<i;)o[r]=n[e+r];switch(e){case 0:return t.call(this,o);case 1:return t.call(this,n[0],o);case 2:return t.call(this,n[0],n[1],o)}var a=Ho(e+1);for(r=-1;++r<e;)a[r]=n[r];return a[e]=o,t.apply(this,a)}}function mi(t){if("function"!=typeof t)throw new Ko(q);return function(e){return t.apply(this,e)}}function bi(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Ko(q);return n===!1?r=!1:Oi(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),di(t,e,{leading:r,maxWait:+e,trailing:i})}function xi(t,e){return e=null==e?To:e,Pn(e,F,C,[t],[])}function wi(t,e,n,r){return e&&"boolean"!=typeof e&&Qn(t,e,n)?e=!1:"function"==typeof e&&(r=n,n=e,e=!1),"function"==typeof n?we(t,e,an(n,r,1)):we(t,e)}function _i(t,e,n){return"function"==typeof e?we(t,!0,an(e,n,1)):we(t,!0)}function ki(t,e){return t>e}function Ai(t,e){return t>=e}function Ci(t){return v(t)&&Zn(t)&&ea.call(t,"callee")&&!ca.call(t,"callee")}function Si(t){return t===!0||t===!1||v(t)&&ra.call(t)==G}function Ei(t){return v(t)&&ra.call(t)==V}function Ti(t){return!!t&&1===t.nodeType&&v(t)&&!Wi(t)}function Mi(t){return null==t||(Zn(t)&&(Ms(t)||$i(t)||Ci(t)||v(t)&&Ni(t.splice))?!t.length:!Ws(t).length)}function Di(t,e,n,r){n="function"==typeof n?an(n,r,3):C;var i=n?n(t,e):C;return i===C?Ie(t,e,n):!!i}function Li(t){return v(t)&&"string"==typeof t.message&&ra.call(t)==X}function Fi(t){return"number"==typeof t&&xa(t)}function Ni(t){return Oi(t)&&ra.call(t)==K}function Oi(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Ii(t,e,n,r){return n="function"==typeof n?an(n,r,3):C,Pe(t,zn(e),n)}function Bi(t){return ji(t)&&t!=+t}function Pi(t){return null!=t&&(Ni(t)?oa.test(ta.call(t)):v(t)&&Ot.test(t))}function Ri(t){return null===t}function ji(t){return"number"==typeof t||v(t)&&ra.call(t)==J}function Wi(t){var e;if(!v(t)||ra.call(t)!=Q||Ci(t)||!ea.call(t,"constructor")&&(e=t.constructor,"function"==typeof e&&!(e instanceof e)))return!1;var n;return De(t,function(t,e){n=e}),n===C||ea.call(t,n)}function Hi(t){return Oi(t)&&ra.call(t)==tt}function $i(t){return"string"==typeof t||v(t)&&ra.call(t)==nt}function qi(t){return v(t)&&nr(t.length)&&!!$t[ra.call(t)]}function zi(t){return t===C}function Ui(t,e){return t<e}function Yi(t,e){return t<=e}function Gi(t){var e=t?$a(t):0;return nr(e)?e?te(t):[]:oo(t)}function Vi(t){return be(t,to(t))}function Xi(t,e,n){var r=Ia(t);return n&&Qn(t,e,n)&&(e=C),e?ve(r,e):r}function Ki(t){return Ne(t,to(t))}function Zi(t,e,n){var r=null==t?C:Oe(t,fr(e),e+"");return r===C?n:r}function Ji(t,e){if(null==t)return!1;var n=ea.call(t,e);if(!n&&!tr(e)){if(e=fr(e),t=1==e.length?t:Oe(t,Ve(e,0,-1)),null==t)return!1;e=Sr(e),n=ea.call(t,e)}return n||nr(t.length)&&Jn(e,t.length)&&(Ms(t)||Ci(t))}function Qi(t,e,n){n&&Qn(t,e,n)&&(e=C);for(var r=-1,i=Ws(t),o=i.length,a={};++r<o;){var s=i[r],u=t[s];e?ea.call(a,u)?a[u].push(s):a[u]=[s]:a[u]=s}return a}function to(t){if(null==t)return[];Oi(t)||(t=Go(t));var e=t.length;e=e&&nr(e)&&(Ms(t)||Ci(t))&&e||0;for(var n=t.constructor,r=-1,i="function"==typeof n&&n.prototype===t,o=Ho(e),a=e>0;++r<e;)o[r]=r+"";for(var s in t)a&&Jn(s,e)||"constructor"==s&&(i||!ea.call(t,s))||o.push(s);return o}function eo(t){t=hr(t);for(var e=-1,n=Ws(t),r=n.length,i=Ho(r);++e<r;){var o=n[e];i[e]=[o,t[o]]}return i}function no(t,e,n){var r=null==t?C:t[e];return r===C&&(null==t||tr(e,t)||(e=fr(e),t=1==e.length?t:Oe(t,Ve(e,0,-1)),r=null==t?C:t[Sr(e)]),r=r===C?n:r),Ni(r)?r.call(t):r}function ro(t,e,n){if(null==t)return t;var r=e+"";e=null!=t[r]||tr(e,t)?[r]:fr(e);for(var i=-1,o=e.length,a=o-1,s=t;null!=s&&++i<o;){var u=e[i];Oi(s)&&(i==a?s[u]=n:null==s[u]&&(s[u]=Jn(e[i+1])?[]:{})),s=s[u]}return t}function io(t,e,n,r){var i=Ms(t)||qi(t);if(e=Hn(e,r,4),null==n)if(i||Oi(t)){var o=t.constructor;n=i?Ms(t)?new o:[]:Ia(Ni(o)?o.prototype:C)}else n={};return(i?ee:Le)(t,function(t,r,i){return e(n,t,r,i)}),n}function oo(t){return tn(t,Ws(t))}function ao(t){return tn(t,to(t))}function so(t,e,n){return e=+e||0,n===C?(n=e,e=0):n=+n||0,t>=ka(e,n)&&t<_a(e,n)}function uo(t,e,n){n&&Qn(t,e,n)&&(e=n=C);var r=null==t,i=null==e;if(null==n&&(i&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,i=!0)),r&&i&&(e=1,i=!1),t=+t||0,i?(e=t,t=0):e=+e||0,n||t%1||e%1){var o=Sa();return ka(t+o*(e-t+ua("1e-"+((o+"").length-1))),e)}return Ye(t,e)}function lo(t){return t=s(t),t&&t.charAt(0).toUpperCase()+t.slice(1)}function co(t){return t=s(t),t&&t.replace(Bt,f).replace(Mt,"")}function ho(t,e,n){t=s(t),e+="";var r=t.length;return n=n===C?r:ka(n<0?0:+n||0,r),n-=e.length,n>=0&&t.indexOf(e,n)==n}function fo(t){return t=s(t),t&&xt.test(t)?t.replace(mt,d):t}function po(t){return t=s(t),t&&Tt.test(t)?t.replace(Et,p):t||"(?:)"}function go(t,e,n){t=s(t),e=+e;var r=t.length;if(r>=e||!xa(e))return t;var i=(e-r)/2,o=ma(i),a=ya(i);return n=Nn("",a,n),n.slice(0,o)+t+n}function yo(t,e,n){return(n?Qn(t,e,n):null==e)?e=0:e&&(e=+e),t=xo(t),Ca(t,e||(Nt.test(t)?16:10))}function vo(t,e){var n="";if(t=s(t),e=+e,e<1||!t||!xa(e))return n;do e%2&&(n+=t),e=ma(e/2),t+=t;while(e);return n}function mo(t,e,n){return t=s(t),n=null==n?0:ka(n<0?0:+n||0,t.length),t.lastIndexOf(e,n)==n}function bo(t,n,r){var i=e.templateSettings;r&&Qn(t,n,r)&&(n=r=C),t=s(t),n=ye(ve({},r||n),i,ge);var o,a,u=ye(ve({},n.imports),i.imports,ge),l=Ws(u),c=tn(u,l),h=0,f=n.interpolate||Pt,d="__p += '",p=Vo((n.escape||Pt).source+"|"+f.source+"|"+(f===kt?Lt:Pt).source+"|"+(n.evaluate||Pt).source+"|$","g"),y="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Ht+"]")+"\n";t.replace(p,function(e,n,r,i,s,u){return r||(r=i),d+=t.slice(h,u).replace(Rt,g),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),h=u+e.length,e}),d+="';\n";var v=n.variable;v||(d="with (obj) {\n"+d+"\n}\n"),d=(a?d.replace(pt,""):d).replace(gt,"$1").replace(yt,"$1;"),d="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Zs(function(){return zo(l,y+"return "+d).apply(C,c)});if(m.source=d,Li(m))throw m;return m}function xo(t,e,n){var r=t;return(t=s(t))?(n?Qn(r,e,n):null==e)?t.slice(w(t),_(t)+1):(e+="",t.slice(u(t,e),l(t,e)+1)):t}function wo(t,e,n){var r=t;return t=s(t),t?(n?Qn(r,e,n):null==e)?t.slice(w(t)):t.slice(u(t,e+"")):t}function _o(t,e,n){var r=t;return t=s(t),t?(n?Qn(r,e,n):null==e)?t.slice(0,_(t)+1):t.slice(0,l(t,e+"")+1):t}function ko(t,e,n){n&&Qn(t,e,n)&&(e=C);var r=B,i=P;if(null!=e)if(Oi(e)){var o="separator"in e?e.separator:o;r="length"in e?+e.length||0:r,i="omission"in e?s(e.omission):i}else r=+e||0;if(t=s(t),r>=t.length)return t;var a=r-i.length;if(a<1)return i;var u=t.slice(0,a);if(null==o)return u+i;if(Hi(o)){if(t.slice(a).search(o)){var l,c,h=t.slice(0,a);for(o.global||(o=Vo(o.source,(Ft.exec(o)||"")+"g")),o.lastIndex=0;l=o.exec(h);)c=l.index;u=u.slice(0,null==c?a:c)}}else if(t.indexOf(o,a)!=a){var f=u.lastIndexOf(o);f>-1&&(u=u.slice(0,f))}return u+i}function Ao(t){return t=s(t),t&&bt.test(t)?t.replace(vt,k):t}function Co(t,e,n){return n&&Qn(t,e,n)&&(e=C),t=s(t),t.match(e||jt)||[]}function So(t,e,n){return n&&Qn(t,e,n)&&(e=C),v(t)?Mo(t):xe(t,e)}function Eo(t){return function(){return t}}function To(t){return t}function Mo(t){return je(we(t,!0))}function Do(t,e){return We(t,we(e,!0))}function Lo(t,e,n){if(null==n){var r=Oi(e),i=r?Ws(e):C,o=i&&i.length?Ne(e,i):C;(o?o.length:r)||(o=!1,n=e,e=t,t=this)}o||(o=Ne(e,Ws(e)));var a=!0,s=-1,u=Ni(t),l=o.length;n===!1?a=!1:Oi(n)&&"chain"in n&&(a=n.chain);for(;++s<l;){var c=o[s],h=e[c];t[c]=h,u&&(t.prototype[c]=function(e){return function(){var n=this.__chain__;if(a||n){var r=t(this.__wrapped__),i=r.__actions__=te(this.__actions__);return i.push({func:e,args:arguments,thisArg:t}),r.__chain__=n,r}return e.apply(t,le([this.value()],arguments))}}(h))}return t}function Fo(){return ne._=ia,this}function No(){}function Oo(t){return tr(t)?qe(t):ze(t)}function Io(t){return function(e){return Oe(t,fr(e),e+"")}}function Bo(t,e,n){n&&Qn(t,e,n)&&(e=n=C),t=+t||0,n=null==n?1:+n||0,null==e?(e=t,t=0):e=+e||0;for(var r=-1,i=_a(ya((e-t)/(n||1)),0),o=Ho(i);++r<i;)o[r]=t,t+=n;return o}function Po(t,e,n){if(t=ma(t),t<1||!xa(t))return[];var r=-1,i=Ho(ka(t,Ma));for(e=an(e,n,1);++r<t;)r<Ma?i[r]=e(r):e(r);return i}function Ro(t){var e=++na;return s(t)+e}function jo(t,e){return(+t||0)+(+e||0)}function Wo(t,e,n){return n&&Qn(t,e,n)&&(e=C),e=Hn(e,n,3),1==e.length?de(Ms(t)?t:cr(t),e):Je(t,e)}t=t?re.defaults(ne.Object(),t,re.pick(ne,Wt)):ne;var Ho=t.Array,$o=t.Date,qo=t.Error,zo=t.Function,Uo=t.Math,Yo=t.Number,Go=t.Object,Vo=t.RegExp,Xo=t.String,Ko=t.TypeError,Zo=Ho.prototype,Jo=Go.prototype,Qo=Xo.prototype,ta=zo.prototype.toString,ea=Jo.hasOwnProperty,na=0,ra=Jo.toString,ia=ne._,oa=Vo("^"+ta.call(ea).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),aa=t.ArrayBuffer,sa=t.clearTimeout,ua=t.parseFloat,la=Uo.pow,ca=Jo.propertyIsEnumerable,ha=Un(t,"Set"),fa=t.setTimeout,da=Zo.splice,pa=t.Uint8Array,ga=Un(t,"WeakMap"),ya=Uo.ceil,va=Un(Go,"create"),ma=Uo.floor,ba=Un(Ho,"isArray"),xa=t.isFinite,wa=Un(Go,"keys"),_a=Uo.max,ka=Uo.min,Aa=Un($o,"now"),Ca=t.parseInt,Sa=Uo.random,Ea=Yo.NEGATIVE_INFINITY,Ta=Yo.POSITIVE_INFINITY,Ma=4294967295,Da=Ma-1,La=Ma>>>1,Fa=9007199254740991,Na=ga&&new ga,Oa={};e.support={},e.templateSettings={escape:wt,evaluate:_t,interpolate:kt,variable:"",imports:{_:e}};var Ia=function(){function t(){}return function(e){if(Oi(e)){t.prototype=e;var n=new t;t.prototype=C}return n||{}}}(),Ba=fn(Le),Pa=fn(Fe,!0),Ra=dn(),ja=dn(!0),Wa=Na?function(t,e){return Na.set(t,e),t}:To,Ha=Na?function(t){return Na.get(t)}:No,$a=qe("length"),qa=function(){var t=0,e=0;return function(n,r){var i=gs(),o=j-(i-e);if(e=i,o>0){if(++t>=R)return n}else t=0;return Wa(n,r)}}(),za=vi(function(t,e){return v(t)&&Zn(t)?ke(t,Me(e,!1,!0)):[]}),Ua=_n(),Ya=_n(!0),Ga=vi(function(t){for(var e=t.length,n=e,r=Ho(h),i=qn(),a=i==o,s=[];n--;){var u=t[n]=Zn(u=t[n])?u:[];r[n]=a&&u.length>=120?gn(n&&u):null}var l=t[0],c=-1,h=l?l.length:0,f=r[0];t:for(;++c<h;)if(u=l[c],(f?Zt(f,u):i(s,u,0))<0){for(var n=e;--n;){var d=r[n];if((d?Zt(d,u):i(t[n],u,0))<0)continue t}f&&f.push(u),s.push(u)}return s}),Va=vi(function(t,e){e=Me(e);var n=me(t,e);return Ue(t,e.sort(r)),n}),Xa=Bn(),Ka=Bn(!0),Za=vi(function(t){return Qe(Me(t,!1,!0))}),Ja=vi(function(t,e){return Zn(t)?ke(t,e):[]}),Qa=vi(Pr),ts=vi(function(t){var e=t.length,n=e>2?t[e-2]:C,r=e>1?t[e-1]:C;return e>2&&"function"==typeof n?e-=2:(n=e>1&&"function"==typeof r?(--e,r):C,r=C),t.length=e,Rr(t,n,r)}),es=vi(function(t){return t=Me(t),this.thru(function(e){return Qt(Ms(e)?e:[hr(e)],t)})}),ns=vi(function(t,e){return me(t,Me(e))}),rs=cn(function(t,e,n){ea.call(t,n)?++t[n]:t[n]=1}),is=wn(Ba),os=wn(Pa,!0),as=Cn(ee,Ba),ss=Cn(ie,Pa),us=cn(function(t,e,n){ea.call(t,n)?t[n].push(e):t[n]=[e]}),ls=cn(function(t,e,n){t[n]=e}),cs=vi(function(t,e,n){var r=-1,i="function"==typeof e,o=tr(e),a=Zn(t)?Ho(t.length):[];return Ba(t,function(t){var s=i?e:o&&null!=t?t[e]:C;a[++r]=s?s.apply(t,n):Kn(t,e,n)}),a}),hs=cn(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),fs=Ln(ce,Ba),ds=Ln(he,Pa),ps=vi(function(t,e){if(null==t)return[];var n=e[2];return n&&Qn(e[0],e[1],n)&&(e.length=1),Ze(t,Me(e),[])}),gs=Aa||function(){return(new $o).getTime()},ys=vi(function(t,e,n){var r=E;if(n.length){var i=b(n,ys.placeholder);r|=F}return Pn(t,r,e,n,i)}),vs=vi(function(t,e){e=e.length?Me(e):Ki(t);for(var n=-1,r=e.length;++n<r;){var i=e[n];t[i]=Pn(t[i],E,t)}return t}),ms=vi(function(t,e,n){var r=E|T;if(n.length){var i=b(n,ms.placeholder);r|=F}return Pn(e,r,t,n,i)}),bs=mn(D),xs=mn(L),ws=vi(function(t,e){return _e(t,1,e)}),_s=vi(function(t,e,n){return _e(t,e,n)}),ks=An(),As=An(!0),Cs=vi(function(t,e){if(e=Me(e),"function"!=typeof t||!oe(e,a))throw new Ko(q);var n=e.length;return vi(function(r){for(var i=ka(r.length,n);i--;)r[i]=e[i](r[i]);return t.apply(this,r)})}),Ss=Dn(F),Es=Dn(N),Ts=vi(function(t,e){return Pn(t,I,C,C,C,Me(e))}),Ms=ba||function(t){return v(t)&&nr(t.length)&&ra.call(t)==Y},Ds=hn(He),Ls=hn(function(t,e,n){return n?ye(t,e,n):ve(t,e)}),Fs=bn(Ls,pe),Ns=bn(Ds,or),Os=kn(Le),Is=kn(Fe),Bs=Sn(Ra),Ps=Sn(ja),Rs=En(Le),js=En(Fe),Ws=wa?function(t){var e=null==t?C:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&Zn(t)?lr(t):Oi(t)?wa(t):[]}:lr,Hs=Tn(!0),$s=Tn(),qs=vi(function(t,e){if(null==t)return{};if("function"!=typeof e[0]){var e=ue(Me(e),Xo);return ar(t,ke(to(t),e))}var n=an(e[0],e[1],3);return sr(t,function(t,e,r){return!n(t,e,r)})}),zs=vi(function(t,e){return null==t?{}:"function"==typeof e[0]?sr(t,an(e[0],e[1],3)):ar(t,Me(e))}),Us=yn(function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)}),Ys=yn(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Gs=Mn(),Vs=Mn(!0),Xs=yn(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Ks=yn(function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}),Zs=vi(function(t,e){try{return t.apply(C,e)}catch(t){return Li(t)?t:new qo(t)}}),Js=vi(function(t,e){return function(n){return Kn(n,t,e)}}),Qs=vi(function(t,e){return function(n){return Kn(t,n,e)}}),tu=In("ceil"),eu=In("floor"),nu=xn(ki,Ea),ru=xn(Ui,Ta),iu=In("round");return e.prototype=n.prototype,m.prototype=Ia(n.prototype),m.prototype.constructor=m,Z.prototype=Ia(n.prototype),Z.prototype.constructor=Z,Ut.prototype.delete=Yt,Ut.prototype.get=Gt,Ut.prototype.has=Vt,Ut.prototype.set=Xt,Kt.prototype.push=Jt,pi.Cache=Ut,e.after=ci,e.ary=hi,e.assign=Ls,e.at=ns,e.before=fi,e.bind=ys,e.bindAll=vs,e.bindKey=ms,e.callback=So,e.chain=Hr,e.chunk=pr,e.compact=gr,e.constant=Eo,e.countBy=rs,e.create=Xi,e.curry=bs,e.curryRight=xs,e.debounce=di,e.defaults=Fs,e.defaultsDeep=Ns,e.defer=ws,e.delay=_s,e.difference=za,e.drop=yr,e.dropRight=vr,e.dropRightWhile=mr,e.dropWhile=br,e.fill=xr,e.filter=Zr,e.flatten=_r,e.flattenDeep=kr,e.flow=ks,e.flowRight=As,e.forEach=as,e.forEachRight=ss,e.forIn=Bs,e.forInRight=Ps,e.forOwn=Rs,e.forOwnRight=js,e.functions=Ki,e.groupBy=us,e.indexBy=ls,e.initial=Cr,e.intersection=Ga,e.invert=Qi,e.invoke=cs,e.keys=Ws,e.keysIn=to,e.map=ti,e.mapKeys=Hs,e.mapValues=$s,e.matches=Mo,e.matchesProperty=Do,e.memoize=pi,e.merge=Ds,e.method=Js,e.methodOf=Qs,e.mixin=Lo,e.modArgs=Cs,e.negate=gi,e.omit=qs,e.once=yi,e.pairs=eo,e.partial=Ss,e.partialRight=Es,e.partition=hs,e.pick=zs,e.pluck=ei,e.property=Oo,e.propertyOf=Io,e.pull=Tr,e.pullAt=Va,e.range=Bo,e.rearg=Ts,e.reject=ni,e.remove=Mr,e.rest=Dr,e.restParam=vi,e.set=ro,e.shuffle=ii,e.slice=Lr,e.sortBy=si,e.sortByAll=ps,e.sortByOrder=ui,e.spread=mi,e.take=Fr,e.takeRight=Nr,e.takeRightWhile=Or,e.takeWhile=Ir,e.tap=$r,e.throttle=bi,e.thru=qr,e.times=Po,e.toArray=Gi,e.toPlainObject=Vi,e.transform=io,e.union=Za,e.uniq=Br,e.unzip=Pr,e.unzipWith=Rr,e.values=oo,e.valuesIn=ao,e.where=li,e.without=Ja,e.wrap=xi,e.xor=jr,e.zip=Qa,e.zipObject=Wr,e.zipWith=ts,e.backflow=As,e.collect=ti,e.compose=As,e.each=as,e.eachRight=ss,e.extend=Ls,e.iteratee=So,e.methods=Ki,e.object=Wr,e.select=Zr,e.tail=Dr,e.unique=Br,Lo(e,e),e.add=jo,e.attempt=Zs,e.camelCase=Us,e.capitalize=lo,e.ceil=tu,e.clone=wi,e.cloneDeep=_i,e.deburr=co,e.endsWith=ho,e.escape=fo,e.escapeRegExp=po,e.every=Kr,e.find=is,e.findIndex=Ua,e.findKey=Os,e.findLast=os,e.findLastIndex=Ya,e.findLastKey=Is,e.findWhere=Jr,e.first=wr,e.floor=eu,e.get=Zi,e.gt=ki,e.gte=Ai,e.has=Ji,e.identity=To,e.includes=Qr,e.indexOf=Ar,e.inRange=so,e.isArguments=Ci,e.isArray=Ms,e.isBoolean=Si,e.isDate=Ei,e.isElement=Ti,e.isEmpty=Mi,e.isEqual=Di,e.isError=Li,e.isFinite=Fi,e.isFunction=Ni,e.isMatch=Ii,e.isNaN=Bi,e.isNative=Pi,e.isNull=Ri,e.isNumber=ji,e.isObject=Oi,e.isPlainObject=Wi,e.isRegExp=Hi,e.isString=$i,e.isTypedArray=qi,e.isUndefined=zi,e.kebabCase=Ys,e.last=Sr,e.lastIndexOf=Er,e.lt=Ui,e.lte=Yi,e.max=nu,e.min=ru,e.noConflict=Fo,e.noop=No,e.now=gs,e.pad=go,e.padLeft=Gs,e.padRight=Vs,e.parseInt=yo,e.random=uo,e.reduce=fs,e.reduceRight=ds,e.repeat=vo,e.result=no,e.round=iu,e.runInContext=A,e.size=oi,e.snakeCase=Xs,e.some=ai,e.sortedIndex=Xa,e.sortedLastIndex=Ka,e.startCase=Ks,e.startsWith=mo,e.sum=Wo,e.template=bo,e.trim=xo,e.trimLeft=wo,e.trimRight=_o,e.trunc=ko,e.unescape=Ao,e.uniqueId=Ro,e.words=Co,e.all=Kr,e.any=ai,e.contains=Qr,e.eq=Di,e.detect=is,e.foldl=fs,e.foldr=ds,e.head=wr,e.include=Qr,e.inject=fs,Lo(e,function(){var t={};return Le(e,function(n,r){e.prototype[r]||(t[r]=n)}),t}(),!1),e.sample=ri,e.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return ri(e,t)}):ri(this.value())},e.VERSION=S,ee(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){
e[t].placeholder=e}),ee(["drop","take"],function(t,e){Z.prototype[t]=function(n){var r=this.__filtered__;if(r&&!e)return new Z(this);n=null==n?1:_a(ma(n)||0,0);var i=this.clone();return r?i.__takeCount__=ka(i.__takeCount__,n):i.__views__.push({size:n,type:t+(i.__dir__<0?"Right":"")}),i},Z.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),ee(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n!=$;Z.prototype[t]=function(t,e){var i=this.clone();return i.__iteratees__.push({iteratee:Hn(t,e,1),type:n}),i.__filtered__=i.__filtered__||r,i}}),ee(["first","last"],function(t,e){var n="take"+(e?"Right":"");Z.prototype[t]=function(){return this[n](1).value()[0]}}),ee(["initial","rest"],function(t,e){var n="drop"+(e?"":"Right");Z.prototype[t]=function(){return this.__filtered__?new Z(this):this[n](1)}}),ee(["pluck","where"],function(t,e){var n=e?"filter":"map",r=e?je:Oo;Z.prototype[t]=function(t){return this[n](r(t))}}),Z.prototype.compact=function(){return this.filter(To)},Z.prototype.reject=function(t,e){return t=Hn(t,e,1),this.filter(function(e){return!t(e)})},Z.prototype.slice=function(t,e){t=null==t?0:+t||0;var n=this;return n.__filtered__&&(t>0||e<0)?new Z(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==C&&(e=+e||0,n=e<0?n.dropRight(-e):n.take(e-t)),n)},Z.prototype.takeRightWhile=function(t,e){return this.reverse().takeWhile(t,e).reverse()},Z.prototype.toArray=function(){return this.take(Ta)},Le(Z.prototype,function(t,n){var r=/^(?:filter|map|reject)|While$/.test(n),i=/^(?:first|last)$/.test(n),o=e[i?"take"+("last"==n?"Right":""):n];o&&(e.prototype[n]=function(){var e=i?[1]:arguments,n=this.__chain__,a=this.__wrapped__,s=!!this.__actions__.length,u=a instanceof Z,l=e[0],c=u||Ms(a);c&&r&&"function"==typeof l&&1!=l.length&&(u=c=!1);var h=function(t){return i&&n?o(t,1)[0]:o.apply(C,le([t],e))},f={func:qr,args:[h],thisArg:C},d=u&&!s;if(i&&!n)return d?(a=a.clone(),a.__actions__.push(f),t.call(a)):o.call(C,this.value())[0];if(!i&&c){a=d?a:new Z(this);var p=t.apply(a,e);return p.__actions__.push(f),new m(p,n)}return this.thru(h)})}),ee(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var n=(/^(?:replace|split)$/.test(t)?Qo:Zo)[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;return i&&!this.__chain__?n.apply(this.value(),t):this[r](function(e){return n.apply(e,t)})}}),Le(Z.prototype,function(t,n){var r=e[n];if(r){var i=r.name,o=Oa[i]||(Oa[i]=[]);o.push({name:n,func:r})}}),Oa[Fn(C,T).name]=[{name:"wrapper",func:C}],Z.prototype.clone=et,Z.prototype.reverse=rt,Z.prototype.value=zt,e.prototype.chain=zr,e.prototype.commit=Ur,e.prototype.concat=es,e.prototype.plant=Yr,e.prototype.reverse=Gr,e.prototype.toString=Vr,e.prototype.run=e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=Xr,e.prototype.collect=e.prototype.map,e.prototype.head=e.prototype.first,e.prototype.select=e.prototype.filter,e.prototype.tail=e.prototype.rest,e}var C,S="3.10.1",E=1,T=2,M=4,D=8,L=16,F=32,N=64,O=128,I=256,B=30,P="...",R=150,j=16,W=200,H=1,$=2,q="Expected a function",z="__lodash_placeholder__",U="[object Arguments]",Y="[object Array]",G="[object Boolean]",V="[object Date]",X="[object Error]",K="[object Function]",Z="[object Map]",J="[object Number]",Q="[object Object]",tt="[object RegExp]",et="[object Set]",nt="[object String]",rt="[object WeakMap]",it="[object ArrayBuffer]",ot="[object Float32Array]",at="[object Float64Array]",st="[object Int8Array]",ut="[object Int16Array]",lt="[object Int32Array]",ct="[object Uint8Array]",ht="[object Uint8ClampedArray]",ft="[object Uint16Array]",dt="[object Uint32Array]",pt=/\b__p \+= '';/g,gt=/\b(__p \+=) '' \+/g,yt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,vt=/&(?:amp|lt|gt|quot|#39|#96);/g,mt=/[&<>"'`]/g,bt=RegExp(vt.source),xt=RegExp(mt.source),wt=/<%-([\s\S]+?)%>/g,_t=/<%([\s\S]+?)%>/g,kt=/<%=([\s\S]+?)%>/g,At=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Ct=/^\w*$/,St=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Et=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Tt=RegExp(Et.source),Mt=/[\u0300-\u036f\ufe20-\ufe23]/g,Dt=/\\(\\)?/g,Lt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ft=/\w*$/,Nt=/^0[xX]/,Ot=/^\[object .+?Constructor\]$/,It=/^\d+$/,Bt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Pt=/($^)/,Rt=/['\n\r\u2028\u2029\\]/g,jt=function(){var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",e="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"+(?="+t+e+")|"+t+"?"+e+"|"+t+"+|[0-9]+","g")}(),Wt=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Ht=-1,$t={};$t[ot]=$t[at]=$t[st]=$t[ut]=$t[lt]=$t[ct]=$t[ht]=$t[ft]=$t[dt]=!0,$t[U]=$t[Y]=$t[it]=$t[G]=$t[V]=$t[X]=$t[K]=$t[Z]=$t[J]=$t[Q]=$t[tt]=$t[et]=$t[nt]=$t[rt]=!1;var qt={};qt[U]=qt[Y]=qt[it]=qt[G]=qt[V]=qt[ot]=qt[at]=qt[st]=qt[ut]=qt[lt]=qt[J]=qt[Q]=qt[tt]=qt[nt]=qt[ct]=qt[ht]=qt[ft]=qt[dt]=!0,qt[X]=qt[K]=qt[Z]=qt[et]=qt[rt]=!1;var zt={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Ut={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Yt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Gt={function:!0,object:!0},Vt={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Xt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Kt=Gt[typeof n]&&n&&!n.nodeType&&n,Zt=Gt[typeof e]&&e&&!e.nodeType&&e,Jt=Kt&&Zt&&"object"==typeof t&&t&&t.Object&&t,Qt=Gt[typeof self]&&self&&self.Object&&self,te=Gt[typeof window]&&window&&window.Object&&window,ee=Zt&&Zt.exports===Kt&&Kt,ne=Jt||te!==(this&&this.window)&&te||Qt||this,re=A();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(ne._=re,define(function(){return re})):Kt&&Zt?ee?(Zt.exports=re)._=re:Kt._=re:ne._=re}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],54:[function(t,e,n){e.exports={graphlib:t("./lib/graphlib"),layout:t("./lib/layout"),debug:t("./lib/debug"),util:{time:t("./lib/util").time,notime:t("./lib/util").notime},version:t("./lib/version")}},{"./lib/debug":59,"./lib/graphlib":60,"./lib/layout":62,"./lib/util":82,"./lib/version":83}],55:[function(t,e,n){"use strict";function r(t){function e(t){return function(e){return t.edge(e).weight}}var n="greedy"===t.graph().acyclicer?s(t,e(t)):i(t);a.each(n,function(e){var n=t.edge(e);t.removeEdge(e),n.forwardName=e.name,n.reversed=!0,t.setEdge(e.w,e.v,n,a.uniqueId("rev"))})}function i(t){function e(o){a.has(i,o)||(i[o]=!0,r[o]=!0,a.each(t.outEdges(o),function(t){a.has(r,t.w)?n.push(t):e(t.w)}),delete r[o])}var n=[],r={},i={};return a.each(t.nodes(),e),n}function o(t){a.each(t.edges(),function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}})}var a=t("./lodash"),s=t("./greedy-fas");e.exports={run:r,undo:o}},{"./greedy-fas":61,"./lodash":63}],56:[function(t,e,n){function r(t){function e(n){var r=t.children(n),a=t.node(n);if(r.length&&o.each(r,e),o.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var s=a.minRank,u=a.maxRank+1;s<u;++s)i(t,"borderLeft","_bl",n,a,s),i(t,"borderRight","_br",n,a,s)}}o.each(t.children(),e)}function i(t,e,n,r,i,o){var s={width:0,height:0,rank:o,borderType:e},u=i[e][o-1],l=a.addDummyNode(t,"border",s,n);i[e][o]=l,t.setParent(l,r),u&&t.setEdge(u,l,{weight:1})}var o=t("./lodash"),a=t("./util");e.exports=r},{"./lodash":63,"./util":82}],57:[function(t,e,n){"use strict";function r(t){var e=t.graph().rankdir.toLowerCase();"lr"!==e&&"rl"!==e||o(t)}function i(t){var e=t.graph().rankdir.toLowerCase();"bt"!==e&&"rl"!==e||s(t),"lr"!==e&&"rl"!==e||(l(t),o(t))}function o(t){h.each(t.nodes(),function(e){a(t.node(e))}),h.each(t.edges(),function(e){a(t.edge(e))})}function a(t){var e=t.width;t.width=t.height,t.height=e}function s(t){h.each(t.nodes(),function(e){u(t.node(e))}),h.each(t.edges(),function(e){var n=t.edge(e);h.each(n.points,u),h.has(n,"y")&&u(n)})}function u(t){t.y=-t.y}function l(t){h.each(t.nodes(),function(e){c(t.node(e))}),h.each(t.edges(),function(e){var n=t.edge(e);h.each(n.points,c),h.has(n,"x")&&c(n)})}function c(t){var e=t.x;t.x=t.y,t.y=e}var h=t("./lodash");e.exports={adjust:r,undo:i}},{"./lodash":63}],58:[function(t,e,n){function r(){var t={};t._next=t._prev=t,this._sentinel=t}function i(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function o(t,e){if("_next"!==t&&"_prev"!==t)return e}e.exports=r,r.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return i(e),e},r.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&i(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e},r.prototype.toString=function(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,o)),n=n._prev;return"["+t.join(", ")+"]"}},{}],59:[function(t,e,n){function r(t){var e=o.buildLayerMatrix(t),n=new a({compound:!0,multigraph:!0}).setGraph({});return i.each(t.nodes(),function(e){n.setNode(e,{label:e}),n.setParent(e,"layer"+t.node(e).rank)}),i.each(t.edges(),function(t){n.setEdge(t.v,t.w,{},t.name)}),i.each(e,function(t,e){var r="layer"+e;n.setNode(r,{rank:"same"}),i.reduce(t,function(t,e){return n.setEdge(t,e,{style:"invis"}),e})}),n}var i=t("./lodash"),o=t("./util"),a=t("./graphlib").Graph;e.exports={debugOrdering:r}},{"./graphlib":60,"./lodash":63,"./util":82}],60:[function(t,e,n){var r;if("function"==typeof t)try{r=t("graphlib")}catch(t){}r||(r=window.graphlib),e.exports=r},{graphlib:84}],61:[function(t,e,n){function r(t,e){if(t.nodeCount()<=1)return[];var n=a(t,e||h),r=i(n.graph,n.buckets,n.zeroIdx);return u.flatten(u.map(r,function(e){return t.outEdges(e.v,e.w)}),!0)}function i(t,e,n){for(var r,i=[],a=e[e.length-1],s=e[0];t.nodeCount();){for(;r=s.dequeue();)o(t,e,n,r);for(;r=a.dequeue();)o(t,e,n,r);if(t.nodeCount())for(var u=e.length-2;u>0;--u)if(r=e[u].dequeue()){i=i.concat(o(t,e,n,r,!0));break}}return i}function o(t,e,n,r,i){var o=i?[]:void 0;return u.each(t.inEdges(r.v),function(r){var a=t.edge(r),u=t.node(r.v);i&&o.push({v:r.v,w:r.w}),u.out-=a,s(e,n,u)}),u.each(t.outEdges(r.v),function(r){var i=t.edge(r),o=r.w,a=t.node(o);a.in-=i,s(e,n,a)}),t.removeNode(r.v),o}function a(t,e){var n=new l,r=0,i=0;u.each(t.nodes(),function(t){n.setNode(t,{v:t,in:0,out:0})}),u.each(t.edges(),function(t){var o=n.edge(t.v,t.w)||0,a=e(t),s=o+a;n.setEdge(t.v,t.w,s),i=Math.max(i,n.node(t.v).out+=a),r=Math.max(r,n.node(t.w).in+=a)});var o=u.range(i+r+3).map(function(){return new c}),a=r+1;return u.each(n.nodes(),function(t){s(o,a,n.node(t))}),{graph:n,buckets:o,zeroIdx:a}}function s(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}var u=t("./lodash"),l=t("./graphlib").Graph,c=t("./data/list");e.exports=r;var h=u.constant(1)},{"./data/list":58,"./graphlib":60,"./lodash":63}],62:[function(t,e,n){"use strict";function r(t,e){var n=e&&e.debugTiming?N.time:N.notime;n("layout",function(){var e=n("  buildLayoutGraph",function(){return a(t)});n("  runLayout",function(){i(e,n)}),n("  updateInputGraph",function(){o(t,e)})})}function i(t,e){e("    makeSpaceForEdgeLabels",function(){s(t)}),e("    removeSelfEdges",function(){y(t)}),e("    acyclic",function(){_.run(t)}),e("    nestingGraph.run",function(){T.run(t)}),e("    rank",function(){A(N.asNonCompoundGraph(t))}),e("    injectEdgeLabelProxies",function(){u(t)}),e("    removeEmptyRanks",function(){E(t)}),e("    nestingGraph.cleanup",function(){T.cleanup(t)}),e("    normalizeRanks",function(){C(t)}),e("    assignRankMinMax",function(){l(t)}),e("    removeEdgeLabelProxies",function(){c(t)}),e("    normalize.run",function(){k.run(t)}),e("    parentDummyChains",function(){S(t)}),e("    addBorderSegments",function(){M(t)}),e("    order",function(){L(t)}),e("    insertSelfEdges",function(){v(t)}),e("    adjustCoordinateSystem",function(){D.adjust(t)}),e("    position",function(){F(t)}),e("    positionSelfEdges",function(){m(t)}),e("    removeBorderNodes",function(){g(t)}),e("    normalize.undo",function(){k.undo(t)}),e("    fixupEdgeLabelCoords",function(){d(t)}),e("    undoCoordinateSystem",function(){D.undo(t)}),e("    translateGraph",function(){h(t)}),e("    assignNodeIntersects",function(){f(t)}),e("    reversePoints",function(){p(t)}),e("    acyclic.undo",function(){_.undo(t)})}function o(t,e){w.each(t.nodes(),function(n){var r=t.node(n),i=e.node(n);r&&(r.x=i.x,r.y=i.y,e.children(n).length&&(r.width=i.width,r.height=i.height))}),w.each(t.edges(),function(n){var r=t.edge(n),i=e.edge(n);r.points=i.points,w.has(i,"x")&&(r.x=i.x,r.y=i.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}function a(t){var e=new O({multigraph:!0,compound:!0}),n=x(t.graph());return e.setGraph(w.merge({},B,b(n,I),w.pick(n,P))),w.each(t.nodes(),function(n){var r=x(t.node(n));e.setNode(n,w.defaults(b(r,R),j)),e.setParent(n,t.parent(n))}),w.each(t.edges(),function(n){var r=x(t.edge(n));e.setEdge(n,w.merge({},H,b(r,W),w.pick(r,$)))}),e}function s(t){var e=t.graph();e.ranksep/=2,w.each(t.edges(),function(n){var r=t.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function u(t){w.each(t.edges(),function(e){var n=t.edge(e);if(n.width&&n.height){var r=t.node(e.v),i=t.node(e.w),o={rank:(i.rank-r.rank)/2+r.rank,e:e};N.addDummyNode(t,"edge-proxy",o,"_ep")}})}function l(t){var e=0;w.each(t.nodes(),function(n){var r=t.node(n);r.borderTop&&(r.minRank=t.node(r.borderTop).rank,r.maxRank=t.node(r.borderBottom).rank,e=w.max(e,r.maxRank))}),t.graph().maxRank=e}function c(t){w.each(t.nodes(),function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})}function h(t){function e(t){var e=t.x,a=t.y,s=t.width,u=t.height;n=Math.min(n,e-s/2),r=Math.max(r,e+s/2),i=Math.min(i,a-u/2),o=Math.max(o,a+u/2)}var n=Number.POSITIVE_INFINITY,r=0,i=Number.POSITIVE_INFINITY,o=0,a=t.graph(),s=a.marginx||0,u=a.marginy||0;w.each(t.nodes(),function(n){e(t.node(n))}),w.each(t.edges(),function(n){var r=t.edge(n);w.has(r,"x")&&e(r)}),n-=s,i-=u,w.each(t.nodes(),function(e){var r=t.node(e);r.x-=n,r.y-=i}),w.each(t.edges(),function(e){var r=t.edge(e);w.each(r.points,function(t){t.x-=n,t.y-=i}),w.has(r,"x")&&(r.x-=n),w.has(r,"y")&&(r.y-=i)}),a.width=r-n+s,a.height=o-i+u}function f(t){w.each(t.edges(),function(e){var n,r,i=t.edge(e),o=t.node(e.v),a=t.node(e.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=a,r=o),i.points.unshift(N.intersectRect(o,n)),i.points.push(N.intersectRect(a,r))})}function d(t){w.each(t.edges(),function(e){var n=t.edge(e);if(w.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})}function p(t){w.each(t.edges(),function(e){var n=t.edge(e);n.reversed&&n.points.reverse()})}function g(t){w.each(t.nodes(),function(e){if(t.children(e).length){var n=t.node(e),r=t.node(n.borderTop),i=t.node(n.borderBottom),o=t.node(w.last(n.borderLeft)),a=t.node(w.last(n.borderRight));n.width=Math.abs(a.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),w.each(t.nodes(),function(e){"border"===t.node(e).dummy&&t.removeNode(e)})}function y(t){w.each(t.edges(),function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdge(e)}})}function v(t){var e=N.buildLayerMatrix(t);w.each(e,function(e){var n=0;w.each(e,function(e,r){var i=t.node(e);i.order=r+n,w.each(i.selfEdges,function(e){N.addDummyNode(t,"selfedge",{width:e.label.width,height:e.label.height,rank:i.rank,order:r+ ++n,e:e.e,label:e.label},"_se")}),delete i.selfEdges})})}function m(t){w.each(t.nodes(),function(e){var n=t.node(e);if("selfedge"===n.dummy){var r=t.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{x:i+a,y:o},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}})}function b(t,e){return w.mapValues(w.pick(t,e),Number)}function x(t){var e={};return w.each(t,function(t,n){e[n.toLowerCase()]=t}),e}var w=t("./lodash"),_=t("./acyclic"),k=t("./normalize"),A=t("./rank"),C=t("./util").normalizeRanks,S=t("./parent-dummy-chains"),E=t("./util").removeEmptyRanks,T=t("./nesting-graph"),M=t("./add-border-segments"),D=t("./coordinate-system"),L=t("./order"),F=t("./position"),N=t("./util"),O=t("./graphlib").Graph;e.exports=r;var I=["nodesep","edgesep","ranksep","marginx","marginy"],B={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},P=["acyclicer","ranker","rankdir","align"],R=["width","height"],j={width:0,height:0},W=["minlen","weight","width","height","labeloffset"],H={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},$=["labelpos"]},{"./acyclic":55,"./add-border-segments":56,"./coordinate-system":57,"./graphlib":60,"./lodash":63,"./nesting-graph":64,"./normalize":65,"./order":70,"./parent-dummy-chains":75,"./position":77,"./rank":79,"./util":82}],63:[function(t,e,n){e.exports=t(51)},{"/Users/knut/source/mermaid/node_modules/dagre-d3/node_modules/graphlib/lib/lodash.js":51,lodash:104}],64:[function(t,e,n){function r(t){var e=l.addDummyNode(t,"root",{},"_root"),n=o(t),r=u.max(n)-1,s=2*r+1;t.graph().nestingRoot=e,u.each(t.edges(),function(e){t.edge(e).minlen*=s});var c=a(t)+1;u.each(t.children(),function(o){i(t,e,s,c,r,n,o)}),t.graph().nodeRankFactor=s}function i(t,e,n,r,o,a,s){var c=t.children(s);if(!c.length)return void(s!==e&&t.setEdge(e,s,{weight:0,minlen:n}));var h=l.addBorderNode(t,"_bt"),f=l.addBorderNode(t,"_bb"),d=t.node(s);t.setParent(h,s),d.borderTop=h,t.setParent(f,s),d.borderBottom=f,u.each(c,function(u){i(t,e,n,r,o,a,u);var l=t.node(u),c=l.borderTop?l.borderTop:u,d=l.borderBottom?l.borderBottom:u,p=l.borderTop?r:2*r,g=c!==d?1:o-a[s]+1;t.setEdge(h,c,{weight:p,minlen:g,nestingEdge:!0}),t.setEdge(d,f,{weight:p,minlen:g,nestingEdge:!0})}),t.parent(s)||t.setEdge(e,h,{weight:0,minlen:o+a[s]})}function o(t){function e(r,i){var o=t.children(r);o&&o.length&&u.each(o,function(t){e(t,i+1)}),n[r]=i}var n={};return u.each(t.children(),function(t){e(t,1)}),n}function a(t){return u.reduce(t.edges(),function(e,n){return e+t.edge(n).weight},0)}function s(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,u.each(t.edges(),function(e){var n=t.edge(e);n.nestingEdge&&t.removeEdge(e)})}var u=t("./lodash"),l=t("./util");e.exports={run:r,cleanup:s}},{"./lodash":63,"./util":82}],65:[function(t,e,n){"use strict";function r(t){t.graph().dummyChains=[],a.each(t.edges(),function(e){i(t,e)})}function i(t,e){var n=e.v,r=t.node(n).rank,i=e.w,o=t.node(i).rank,a=e.name,u=t.edge(e),l=u.labelRank;if(o!==r+1){t.removeEdge(e);var c,h,f;for(f=0,++r;r<o;++f,++r)u.points=[],h={width:0,height:0,edgeLabel:u,edgeObj:e,rank:r},c=s.addDummyNode(t,"edge",h,"_d"),r===l&&(h.width=u.width,h.height=u.height,h.dummy="edge-label",h.labelpos=u.labelpos),t.setEdge(n,c,{weight:u.weight},a),0===f&&t.graph().dummyChains.push(c),n=c;t.setEdge(n,i,{weight:u.weight},a)}}function o(t){a.each(t.graph().dummyChains,function(e){var n,r=t.node(e),i=r.edgeLabel;for(t.setEdge(r.edgeObj,i);r.dummy;)n=t.successors(e)[0],t.removeNode(e),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),e=n,r=t.node(e)})}var a=t("./lodash"),s=t("./util");e.exports={run:r,undo:o}},{"./lodash":63,"./util":82}],66:[function(t,e,n){function r(t,e,n){var r,o={};i.each(n,function(n){for(var i,a,s=t.parent(n);s;){if(i=t.parent(s),i?(a=o[i],o[i]=s):(a=r,r=s),a&&a!==s)return void e.setEdge(a,s);s=i}})}var i=t("../lodash");e.exports=r},{"../lodash":63}],67:[function(t,e,n){function r(t,e){return i.map(e,function(e){var n=t.inEdges(e);if(n.length){var r=i.reduce(n,function(e,n){var r=t.edge(n),i=t.node(n.v);return{sum:e.sum+r.weight*i.order,weight:e.weight+r.weight}},{sum:0,weight:0});return{v:e,barycenter:r.sum/r.weight,weight:r.weight}}return{v:e}})}var i=t("../lodash");e.exports=r},{"../lodash":63}],68:[function(t,e,n){function r(t,e,n){var r=i(t),s=new a({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(e){return t.node(e)});return o.each(t.nodes(),function(i){var a=t.node(i),u=t.parent(i);(a.rank===e||a.minRank<=e&&e<=a.maxRank)&&(s.setNode(i),s.setParent(i,u||r),o.each(t[n](i),function(e){var n=e.v===i?e.w:e.v,r=s.edge(n,i),a=o.isUndefined(r)?0:r.weight;s.setEdge(n,i,{weight:t.edge(e).weight+a})}),o.has(a,"minRank")&&s.setNode(i,{borderLeft:a.borderLeft[e],borderRight:a.borderRight[e]}))}),s}function i(t){for(var e;t.hasNode(e=o.uniqueId("_root")););return e}var o=t("../lodash"),a=t("../graphlib").Graph;e.exports=r},{"../graphlib":60,"../lodash":63}],69:[function(t,e,n){"use strict";function r(t,e){for(var n=0,r=1;r<e.length;++r)n+=i(t,e[r-1],e[r]);return n}function i(t,e,n){for(var r=o.zipObject(n,o.map(n,function(t,e){return e})),i=o.flatten(o.map(e,function(e){return o.chain(t.outEdges(e)).map(function(e){return{pos:r[e.w],weight:t.edge(e).weight}}).sortBy("pos").value()}),!0),a=1;a<n.length;)a<<=1;var s=2*a-1;a-=1;var u=o.map(new Array(s),function(){return 0}),l=0;return o.each(i.forEach(function(t){var e=t.pos+a;u[e]+=t.weight;for(var n=0;e>0;)e%2&&(n+=u[e+1]),e=e-1>>1,u[e]+=t.weight;l+=t.weight*n})),l}var o=t("../lodash");e.exports=r},{"../lodash":63}],70:[function(t,e,n){"use strict";function r(t){var e=p.maxRank(t),n=i(t,s.range(1,e+1),"inEdges"),r=i(t,s.range(e-1,-1,-1),"outEdges"),c=u(t);a(t,c);for(var h,f=Number.POSITIVE_INFINITY,d=0,g=0;g<4;++d,++g){o(d%2?n:r,d%4>=2),c=p.buildLayerMatrix(t);var y=l(t,c);y<f&&(g=0,h=s.cloneDeep(c),f=y)}a(t,h)}function i(t,e,n){return s.map(e,function(e){return h(t,e,n)})}function o(t,e){var n=new d;s.each(t,function(t){var r=t.graph().root,i=c(t,r,n,e);s.each(i.vs,function(e,n){t.node(e).order=n}),f(t,n,i.vs)})}function a(t,e){s.each(e,function(e){s.each(e,function(e,n){t.node(e).order=n})})}var s=t("../lodash"),u=t("./init-order"),l=t("./cross-count"),c=t("./sort-subgraph"),h=t("./build-layer-graph"),f=t("./add-subgraph-constraints"),d=t("../graphlib").Graph,p=t("../util");e.exports=r},{"../graphlib":60,"../lodash":63,"../util":82,"./add-subgraph-constraints":66,"./build-layer-graph":68,"./cross-count":69,"./init-order":71,"./sort-subgraph":73}],71:[function(t,e,n){"use strict";function r(t){function e(r){if(!i.has(n,r)){n[r]=!0;var o=t.node(r);a[o.rank].push(r),i.each(t.successors(r),e)}}var n={},r=i.filter(t.nodes(),function(e){return!t.children(e).length}),o=i.max(i.map(r,function(e){return t.node(e).rank})),a=i.map(i.range(o+1),function(){return[]}),s=i.sortBy(r,function(e){return t.node(e).rank});return i.each(s,e),a}var i=t("../lodash");e.exports=r},{"../lodash":63}],72:[function(t,e,n){"use strict";function r(t,e){var n={};a.each(t,function(t,e){var r=n[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};a.isUndefined(t.barycenter)||(r.barycenter=t.barycenter,r.weight=t.weight)}),a.each(e.edges(),function(t){var e=n[t.v],r=n[t.w];a.isUndefined(e)||a.isUndefined(r)||(r.indegree++,e.out.push(n[t.w]))});var r=a.filter(n,function(t){return!t.indegree});return i(r)}function i(t){function e(t){return function(e){e.merged||(a.isUndefined(e.barycenter)||a.isUndefined(t.barycenter)||e.barycenter>=t.barycenter)&&o(t,e)}}function n(e){return function(n){n.in.push(e),0===--n.indegree&&t.push(n)}}for(var r=[];t.length;){var i=t.pop();r.push(i),a.each(i.in.reverse(),e(i)),a.each(i.out,n(i))}return a.chain(r).filter(function(t){return!t.merged}).map(function(t){return a.pick(t,["vs","i","barycenter","weight"])}).value()}function o(t,e){var n=0,r=0;t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=n/r,t.weight=r,t.i=Math.min(e.i,t.i),e.merged=!0}var a=t("../lodash");e.exports=r},{"../lodash":63}],73:[function(t,e,n){function r(t,e,n,c){var h=t.children(e),f=t.node(e),d=f?f.borderLeft:void 0,p=f?f.borderRight:void 0,g={};d&&(h=a.filter(h,function(t){return t!==d&&t!==p}));var y=s(t,h);a.each(y,function(e){if(t.children(e.v).length){var i=r(t,e.v,n,c);g[e.v]=i,a.has(i,"barycenter")&&o(e,i)}});var v=u(y,n);i(v,g);var m=l(v,c);if(d&&(m.vs=a.flatten([d,m.vs,p],!0),t.predecessors(d).length)){var b=t.node(t.predecessors(d)[0]),x=t.node(t.predecessors(p)[0]);a.has(m,"barycenter")||(m.barycenter=0,m.weight=0),m.barycenter=(m.barycenter*m.weight+b.order+x.order)/(m.weight+2),m.weight+=2}return m}function i(t,e){a.each(t,function(t){t.vs=a.flatten(t.vs.map(function(t){return e[t]?e[t].vs:t}),!0)})}function o(t,e){a.isUndefined(t.barycenter)?(t.barycenter=e.barycenter,t.weight=e.weight):(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight)}var a=t("../lodash"),s=t("./barycenter"),u=t("./resolve-conflicts"),l=t("./sort");e.exports=r},{"../lodash":63,"./barycenter":67,"./resolve-conflicts":72,"./sort":74}],74:[function(t,e,n){function r(t,e){var n=s.partition(t,function(t){return a.has(t,"barycenter")}),r=n.lhs,u=a.sortBy(n.rhs,function(t){return-t.i}),l=[],c=0,h=0,f=0;r.sort(o(!!e)),f=i(l,u,f),a.each(r,function(t){f+=t.vs.length,l.push(t.vs),c+=t.barycenter*t.weight,h+=t.weight,f=i(l,u,f)});var d={vs:a.flatten(l,!0)};return h&&(d.barycenter=c/h,d.weight=h),d}function i(t,e,n){for(var r;e.length&&(r=a.last(e)).i<=n;)e.pop(),t.push(r.vs),n++;return n}function o(t){return function(e,n){return e.barycenter<n.barycenter?-1:e.barycenter>n.barycenter?1:t?n.i-e.i:e.i-n.i}}var a=t("../lodash"),s=t("../util");e.exports=r},{"../lodash":63,"../util":82}],75:[function(t,e,n){function r(t){var e=o(t);a.each(t.graph().dummyChains,function(n){for(var r=t.node(n),o=r.edgeObj,a=i(t,e,o.v,o.w),s=a.path,u=a.lca,l=0,c=s[l],h=!0;n!==o.w;){if(r=t.node(n),h){for(;(c=s[l])!==u&&t.node(c).maxRank<r.rank;)l++;c===u&&(h=!1)}if(!h){for(;l<s.length-1&&t.node(c=s[l+1]).minRank<=r.rank;)l++;c=s[l]}t.setParent(n,c),n=t.successors(n)[0]}})}function i(t,e,n,r){var i,o,a=[],s=[],u=Math.min(e[n].low,e[r].low),l=Math.max(e[n].lim,e[r].lim);i=n;do i=t.parent(i),a.push(i);while(i&&(e[i].low>u||l>e[i].lim));for(o=i,i=r;(i=t.parent(i))!==o;)s.push(i);return{path:a.concat(s.reverse()),lca:o}}function o(t){function e(i){var o=r;a.each(t.children(i),e),n[i]={low:o,lim:r++}}var n={},r=0;return a.each(t.children(),e),n}var a=t("./lodash");e.exports=r},{"./lodash":63}],76:[function(t,e,n){"use strict";function r(t,e){function n(e,n){var i=0,s=0,u=e.length,l=v.last(n);return v.each(n,function(e,c){var h=o(t,e),f=h?t.node(h).order:u;(h||e===l)&&(v.each(n.slice(s,c+1),function(e){v.each(t.predecessors(e),function(n){var o=t.node(n),s=o.order;!(s<i||f<s)||o.dummy&&t.node(e).dummy||a(r,n,e)})}),s=c+1,i=f)}),n}var r={};return v.reduce(e,n),r}function i(t,e){function n(e,n,r,o,s){var u;v.each(v.range(n,r),function(n){u=e[n],t.node(u).dummy&&v.each(t.predecessors(u),function(e){var n=t.node(e);n.dummy&&(n.order<o||n.order>s)&&a(i,e,u)})})}function r(e,r){var i,o=-1,a=0;return v.each(r,function(s,u){if("border"===t.node(s).dummy){var l=t.predecessors(s);l.length&&(i=t.node(l[0]).order,n(r,a,u,o,i),a=u,o=i)}n(r,a,r.length,i,e.length)}),r}var i={};return v.reduce(e,r),i}function o(t,e){if(t.node(e).dummy)return v.find(t.predecessors(e),function(e){return t.node(e).dummy})}function a(t,e,n){if(e>n){var r=e;e=n,n=r}var i=t[e];i||(t[e]=i={}),i[n]=!0}function s(t,e,n){if(e>n){var r=e;e=n,n=r}return v.has(t[e],n)}function u(t,e,n,r){var i={},o={},a={};return v.each(e,function(t){v.each(t,function(t,e){i[t]=t,o[t]=t,a[t]=e})}),v.each(e,function(t){var e=-1;v.each(t,function(t){var u=r(t);if(u.length){u=v.sortBy(u,function(t){return a[t]});for(var l=(u.length-1)/2,c=Math.floor(l),h=Math.ceil(l);c<=h;++c){var f=u[c];o[t]===t&&e<a[f]&&!s(n,t,f)&&(o[f]=t,o[t]=i[t]=i[f],e=a[f])}}})}),{root:i,align:o}}function l(t,e,n,r,i){function o(t){v.has(l,t)||(l[t]=!0,s[t]=v.reduce(u.inEdges(t),function(t,e){return o(e.v),Math.max(t,s[e.v]+u.edge(e))},0))}function a(e){if(2!==l[e]){l[e]++;var n=t.node(e),r=v.reduce(u.outEdges(e),function(t,e){return a(e.w),Math.min(t,s[e.w]-u.edge(e))},Number.POSITIVE_INFINITY);r!==Number.POSITIVE_INFINITY&&n.borderType!==h&&(s[e]=Math.max(s[e],r))}}var s={},u=c(t,e,n,i),l={};v.each(u.nodes(),o);var h=i?"borderLeft":"borderRight";return v.each(u.nodes(),a),v.each(r,function(t){s[t]=s[n[t]]}),s}function c(t,e,n,r){var i=new m,o=t.graph(),a=g(o.nodesep,o.edgesep,r);return v.each(e,function(e){var r;v.each(e,function(e){var o=n[e];if(i.setNode(o),r){var s=n[r],u=i.edge(s,o);i.setEdge(s,o,Math.max(a(t,e,r),u||0))}r=e})}),i}function h(t,e){return v.min(e,function(e){var n=v.min(e,function(e,n){return e-y(t,n)/2}),r=v.max(e,function(e,n){return e+y(t,n)/2});return r-n})}function f(t,e){var n=v.min(e),r=v.max(e);v.each(["u","d"],function(i){v.each(["l","r"],function(o){var a,s=i+o,u=t[s];u!==e&&(a="l"===o?n-v.min(u):r-v.max(u),a&&(t[s]=v.mapValues(u,function(t){return t+a})))})})}function d(t,e){return v.mapValues(t.ul,function(n,r){if(e)return t[e.toLowerCase()][r];var i=v.sortBy(v.pluck(t,r));return(i[1]+i[2])/2})}function p(t){var e,n=b.buildLayerMatrix(t),o=v.merge(r(t,n),i(t,n)),a={};v.each(["u","d"],function(r){e="u"===r?n:v.values(n).reverse(),v.each(["l","r"],function(n){"r"===n&&(e=v.map(e,function(t){return v.values(t).reverse()}));var i=v.bind("u"===r?t.predecessors:t.successors,t),s=u(t,e,o,i),c=l(t,e,s.root,s.align,"r"===n);"r"===n&&(c=v.mapValues(c,function(t){return-t})),a[r+n]=c})});var s=h(t,a);return f(a,s),d(a,t.graph().align)}function g(t,e,n){return function(r,i,o){var a,s=r.node(i),u=r.node(o),l=0;if(l+=s.width/2,v.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":a=-s.width/2;break;case"r":a=s.width/2}if(a&&(l+=n?a:-a),a=0,l+=(s.dummy?e:t)/2,l+=(u.dummy?e:t)/2,l+=u.width/2,v.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":a=u.width/2;break;case"r":a=-u.width/2}return a&&(l+=n?a:-a),a=0,l}}function y(t,e){return t.node(e).width}var v=t("../lodash"),m=t("../graphlib").Graph,b=t("../util");e.exports={positionX:p,findType1Conflicts:r,findType2Conflicts:i,addConflict:a,hasConflict:s,verticalAlignment:u,horizontalCompaction:l,alignCoordinates:f,findSmallestWidthAlignment:h,balance:d}},{"../graphlib":60,"../lodash":63,"../util":82}],77:[function(t,e,n){"use strict";function r(t){t=a.asNonCompoundGraph(t),i(t),o.each(s(t),function(e,n){t.node(n).x=e})}function i(t){var e=a.buildLayerMatrix(t),n=t.graph().ranksep,r=0;o.each(e,function(e){var i=o.max(o.map(e,function(e){return t.node(e).height}));o.each(e,function(e){t.node(e).y=r+i/2}),r+=i+n})}var o=t("../lodash"),a=t("../util"),s=t("./bk").positionX;e.exports=r},{"../lodash":63,"../util":82,"./bk":76}],78:[function(t,e,n){"use strict";function r(t){var e=new u({directed:!1}),n=t.nodes()[0],r=t.nodeCount();e.setNode(n,{});for(var s,c;i(e,t)<r;)s=o(e,t),c=e.hasNode(s.v)?l(t,s):-l(t,s),a(e,t,c);return e}function i(t,e){function n(r){s.each(e.nodeEdges(r),function(i){var o=i.v,a=r===o?i.w:o;t.hasNode(a)||l(e,i)||(t.setNode(a,{}),t.setEdge(r,a,{}),n(a))})}return s.each(t.nodes(),n),t.nodeCount()}function o(t,e){return s.min(e.edges(),function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return l(e,n);
})}function a(t,e,n){s.each(t.nodes(),function(t){e.node(t).rank+=n})}var s=t("../lodash"),u=t("../graphlib").Graph,l=t("./util").slack;e.exports=r},{"../graphlib":60,"../lodash":63,"./util":81}],79:[function(t,e,n){"use strict";function r(t){switch(t.graph().ranker){case"network-simplex":o(t);break;case"tight-tree":i(t);break;case"longest-path":c(t);break;default:o(t)}}function i(t){s(t),u(t)}function o(t){l(t)}var a=t("./util"),s=a.longestPath,u=t("./feasible-tree"),l=t("./network-simplex");e.exports=r;var c=s},{"./feasible-tree":78,"./network-simplex":80,"./util":81}],80:[function(t,e,n){"use strict";function r(t){t=w(t),m(t);var e=y(t);s(e),i(e,t);for(var n,r;n=l(e);)r=c(e,t,n),h(e,t,n,r)}function i(t,e){var n=x(t,t.nodes());n=n.slice(0,n.length-1),g.each(n,function(n){o(t,e,n)})}function o(t,e,n){var r=t.node(n),i=r.parent;t.edge(n,i).cutvalue=a(t,e,n)}function a(t,e,n){var r=t.node(n),i=r.parent,o=!0,a=e.edge(n,i),s=0;return a||(o=!1,a=e.edge(i,n)),s=a.weight,g.each(e.nodeEdges(n),function(r){var a=r.v===n,u=a?r.w:r.v;if(u!==i){var l=a===o,c=e.edge(r).weight;if(s+=l?c:-c,d(t,n,u)){var h=t.edge(n,u).cutvalue;s+=l?-h:h}}}),s}function s(t,e){arguments.length<2&&(e=t.nodes()[0]),u(t,{},1,e)}function u(t,e,n,r,i){var o=n,a=t.node(r);return e[r]=!0,g.each(t.neighbors(r),function(i){g.has(e,i)||(n=u(t,e,n,i,r))}),a.low=o,a.lim=n++,i?a.parent=i:delete a.parent,n}function l(t){return g.find(t.edges(),function(e){return t.edge(e).cutvalue<0})}function c(t,e,n){var r=n.v,i=n.w;e.hasEdge(r,i)||(r=n.w,i=n.v);var o=t.node(r),a=t.node(i),s=o,u=!1;o.lim>a.lim&&(s=a,u=!0);var l=g.filter(e.edges(),function(e){return u===p(t,t.node(e.v),s)&&u!==p(t,t.node(e.w),s)});return g.min(l,function(t){return v(e,t)})}function h(t,e,n,r){var o=n.v,a=n.w;t.removeEdge(o,a),t.setEdge(r.v,r.w,{}),s(t),i(t,e),f(t,e)}function f(t,e){var n=g.find(t.nodes(),function(t){return!e.node(t).parent}),r=b(t,n);r=r.slice(1),g.each(r,function(n){var r=t.node(n).parent,i=e.edge(n,r),o=!1;i||(i=e.edge(r,n),o=!0),e.node(n).rank=e.node(r).rank+(o?i.minlen:-i.minlen)})}function d(t,e,n){return t.hasEdge(e,n)}function p(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}var g=t("../lodash"),y=t("./feasible-tree"),v=t("./util").slack,m=t("./util").longestPath,b=t("../graphlib").alg.preorder,x=t("../graphlib").alg.postorder,w=t("../util").simplify;e.exports=r,r.initLowLimValues=s,r.initCutValues=i,r.calcCutValue=a,r.leaveEdge=l,r.enterEdge=c,r.exchangeEdges=h},{"../graphlib":60,"../lodash":63,"../util":82,"./feasible-tree":78,"./util":81}],81:[function(t,e,n){"use strict";function r(t){function e(r){var i=t.node(r);if(o.has(n,r))return i.rank;n[r]=!0;var a=o.min(o.map(t.outEdges(r),function(n){return e(n.w)-t.edge(n).minlen}));return a===Number.POSITIVE_INFINITY&&(a=0),i.rank=a}var n={};o.each(t.sources(),e)}function i(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}var o=t("../lodash");e.exports={longestPath:r,slack:i}},{"../lodash":63}],82:[function(t,e,n){"use strict";function r(t,e,n,r){var i;do i=v.uniqueId(r);while(t.hasNode(i));return n.dummy=e,t.setNode(i,n),i}function i(t){var e=(new m).setGraph(t.graph());return v.each(t.nodes(),function(n){e.setNode(n,t.node(n))}),v.each(t.edges(),function(n){var r=e.edge(n.v,n.w)||{weight:0,minlen:1},i=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),e}function o(t){var e=new m({multigraph:t.isMultigraph()}).setGraph(t.graph());return v.each(t.nodes(),function(n){t.children(n).length||e.setNode(n,t.node(n))}),v.each(t.edges(),function(n){e.setEdge(n,t.edge(n))}),e}function a(t){var e=v.map(t.nodes(),function(e){var n={};return v.each(t.outEdges(e),function(e){n[e.w]=(n[e.w]||0)+t.edge(e).weight}),n});return v.zipObject(t.nodes(),e)}function s(t){var e=v.map(t.nodes(),function(e){var n={};return v.each(t.inEdges(e),function(e){n[e.v]=(n[e.v]||0)+t.edge(e).weight}),n});return v.zipObject(t.nodes(),e)}function u(t,e){var n=t.x,r=t.y,i=e.x-n,o=e.y-r,a=t.width/2,s=t.height/2;if(!i&&!o)throw new Error("Not possible to find intersection inside of the rectangle");var u,l;return Math.abs(o)*a>Math.abs(i)*s?(o<0&&(s=-s),u=s*i/o,l=s):(i<0&&(a=-a),u=a,l=a*o/i),{x:n+u,y:r+l}}function l(t){var e=v.map(v.range(d(t)+1),function(){return[]});return v.each(t.nodes(),function(n){var r=t.node(n),i=r.rank;v.isUndefined(i)||(e[i][r.order]=n)}),e}function c(t){var e=v.min(v.map(t.nodes(),function(e){return t.node(e).rank}));v.each(t.nodes(),function(n){var r=t.node(n);v.has(r,"rank")&&(r.rank-=e)})}function h(t){var e=v.min(v.map(t.nodes(),function(e){return t.node(e).rank})),n=[];v.each(t.nodes(),function(r){var i=t.node(r).rank-e;n[i]||(n[i]=[]),n[i].push(r)});var r=0,i=t.graph().nodeRankFactor;v.each(n,function(e,n){v.isUndefined(e)&&n%i!==0?--r:r&&v.each(e,function(e){t.node(e).rank+=r})})}function f(t,e,n,i){var o={width:0,height:0};return arguments.length>=4&&(o.rank=n,o.order=i),r(t,"border",o,e)}function d(t){return v.max(v.map(t.nodes(),function(e){var n=t.node(e).rank;if(!v.isUndefined(n))return n}))}function p(t,e){var n={lhs:[],rhs:[]};return v.each(t,function(t){e(t)?n.lhs.push(t):n.rhs.push(t)}),n}function g(t,e){var n=v.now();try{return e()}finally{console.log(t+" time: "+(v.now()-n)+"ms")}}function y(t,e){return e()}var v=t("./lodash"),m=t("./graphlib").Graph;e.exports={addDummyNode:r,simplify:i,asNonCompoundGraph:o,successorWeights:a,predecessorWeights:s,intersectRect:u,buildLayerMatrix:l,normalizeRanks:c,removeEmptyRanks:h,addBorderNode:f,maxRank:d,partition:p,time:g,notime:y}},{"./graphlib":60,"./lodash":63}],83:[function(t,e,n){e.exports="0.7.4"},{}],84:[function(t,e,n){e.exports=t(33)},{"./lib":100,"./lib/alg":91,"./lib/json":101,"/Users/knut/source/mermaid/node_modules/dagre-d3/node_modules/graphlib/index.js":33}],85:[function(t,e,n){e.exports=t(34)},{"../lodash":102,"/Users/knut/source/mermaid/node_modules/dagre-d3/node_modules/graphlib/lib/alg/components.js":34}],86:[function(t,e,n){e.exports=t(35)},{"../lodash":102,"/Users/knut/source/mermaid/node_modules/dagre-d3/node_modules/graphlib/lib/alg/dfs.js":35}],87:[function(t,e,n){e.exports=t(36)},{"../lodash":102,"./dijkstra":88,"/Users/knut/source/mermaid/node_modules/dagre-d3/node_modules/graphlib/lib/alg/dijkstra-all.js":36}],88:[function(t,e,n){e.exports=t(37)},{"../data/priority-queue":98,"../lodash":102,"/Users/knut/source/mermaid/node_modules/dagre-d3/node_modules/graphlib/lib/alg/dijkstra.js":37}],89:[function(t,e,n){e.exports=t(38)},{"../lodash":102,"./tarjan":96,"/Users/knut/source/mermaid/node_modules/dagre-d3/node_modules/graphlib/lib/alg/find-cycles.js":38}],90:[function(t,e,n){e.exports=t(39)},{"../lodash":102,"/Users/knut/source/mermaid/node_modules/dagre-d3/node_modules/graphlib/lib/alg/floyd-warshall.js":39}],91:[function(t,e,n){e.exports=t(40)},{"./components":85,"./dijkstra":88,"./dijkstra-all":87,"./find-cycles":89,"./floyd-warshall":90,"./is-acyclic":92,"./postorder":93,"./preorder":94,"./prim":95,"./tarjan":96,"./topsort":97,"/Users/knut/source/mermaid/node_modules/dagre-d3/node_modules/graphlib/lib/alg/index.js":40}],92:[function(t,e,n){e.exports=t(41)},{"./topsort":97,"/Users/knut/source/mermaid/node_modules/dagre-d3/node_modules/graphlib/lib/alg/is-acyclic.js":41}],93:[function(t,e,n){e.exports=t(42)},{"./dfs":86,"/Users/knut/source/mermaid/node_modules/dagre-d3/node_modules/graphlib/lib/alg/postorder.js":42}],94:[function(t,e,n){e.exports=t(43)},{"./dfs":86,"/Users/knut/source/mermaid/node_modules/dagre-d3/node_modules/graphlib/lib/alg/preorder.js":43}],95:[function(t,e,n){e.exports=t(44)},{"../data/priority-queue":98,"../graph":99,"../lodash":102,"/Users/knut/source/mermaid/node_modules/dagre-d3/node_modules/graphlib/lib/alg/prim.js":44}],96:[function(t,e,n){e.exports=t(45)},{"../lodash":102,"/Users/knut/source/mermaid/node_modules/dagre-d3/node_modules/graphlib/lib/alg/tarjan.js":45}],97:[function(t,e,n){e.exports=t(46)},{"../lodash":102,"/Users/knut/source/mermaid/node_modules/dagre-d3/node_modules/graphlib/lib/alg/topsort.js":46}],98:[function(t,e,n){e.exports=t(47)},{"../lodash":102,"/Users/knut/source/mermaid/node_modules/dagre-d3/node_modules/graphlib/lib/data/priority-queue.js":47}],99:[function(t,e,n){e.exports=t(48)},{"./lodash":102,"/Users/knut/source/mermaid/node_modules/dagre-d3/node_modules/graphlib/lib/graph.js":48}],100:[function(t,e,n){e.exports=t(49)},{"./graph":99,"./version":103,"/Users/knut/source/mermaid/node_modules/dagre-d3/node_modules/graphlib/lib/index.js":49}],101:[function(t,e,n){e.exports=t(50)},{"./graph":99,"./lodash":102,"/Users/knut/source/mermaid/node_modules/dagre-d3/node_modules/graphlib/lib/json.js":50}],102:[function(t,e,n){e.exports=t(51)},{"/Users/knut/source/mermaid/node_modules/dagre-d3/node_modules/graphlib/lib/lodash.js":51,lodash:104}],103:[function(t,e,n){e.exports=t(52)},{"/Users/knut/source/mermaid/node_modules/dagre-d3/node_modules/graphlib/lib/version.js":52}],104:[function(t,e,n){e.exports=t(53)},{"/Users/knut/source/mermaid/node_modules/dagre-d3/node_modules/lodash/index.js":53}],105:[function(t,e,n){(function(t){(function(){function r(t,e){return t.set(e[0],e[1]),t}function i(t,e){return t.add(e),t}function o(t,e,n){var r=n.length;switch(r){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function a(t,e,n,r){for(var i=-1,o=t?t.length:0;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function s(t,e){for(var n=-1,r=t?t.length:0;++n<r&&e(t[n],n,t)!==!1;);return t}function u(t,e){for(var n=t?t.length:0;n--&&e(t[n],n,t)!==!1;);return t}function l(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(!e(t[n],n,t))return!1;return!0}function c(t,e){for(var n=-1,r=t?t.length:0,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function h(t,e){var n=t?t.length:0;return!!n&&x(t,e,0)>-1}function f(t,e,n){for(var r=-1,i=t?t.length:0;++r<i;)if(n(e,t[r]))return!0;return!1}function d(t,e){for(var n=-1,r=t?t.length:0,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function p(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function g(t,e,n,r){var i=-1,o=t?t.length:0;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function y(t,e,n,r){var i=t?t.length:0;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function v(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}function m(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function b(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function x(t,e,n){if(e!==e)return j(t,n);for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function w(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function _(t,e){var n=t?t.length:0;return n?C(t,e)/n:At}function k(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function A(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function C(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==K&&(n=n===K?o:n+o)}return n}function S(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function E(t,e){return d(e,function(e){return[e,t[e]]})}function T(t){return function(e){return t(e)}}function M(t,e){return d(e,function(e){return t[e]})}function D(t,e){return t.has(e)}function L(t,e){for(var n=-1,r=t.length;++n<r&&x(e,t[n],0)>-1;);return n}function F(t,e){for(var n=t.length;n--&&x(e,t[n],0)>-1;);return n}function N(t){return t&&t.Object===Object?t:null}function O(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&r++;return r}function I(t){return En[t]}function B(t){return Tn[t]}function P(t){return"\\"+Dn[t]}function R(t,e){return null==t?K:t[e]}function j(t,e,n){for(var r=t.length,i=e+(n?1:-1);n?i--:++i<r;){var o=t[i];if(o!==o)return i}return-1}function W(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function H(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function $(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function q(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==et||(t[n]=et,o[i++]=n)}return o}function z(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function U(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function Y(t){if(!t||!wn.test(t))return t.length;for(var e=bn.lastIndex=0;bn.test(t);)e++;return e}function G(t){return t.match(bn)}function V(t){return Mn[t]}function X(t){function e(t){if(ms(t)&&!yh(t)&&!(t instanceof Ne)){if(t instanceof N)return t;if(Ml.call(t,"__wrapped__"))return ho(t)}return new N(t)}function n(){}function N(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=K}function Ne(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ct,this.__views__=[]}function Oe(){var t=new Ne(this.__wrapped__);return t.__actions__=ni(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ni(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ni(this.__views__),t}function Ie(){if(this.__filtered__){var t=new Ne(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Be(){var t=this.__wrapped__.value(),e=this.__dir__,n=yh(t),r=e<0,i=n?t.length:0,o=$i(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,h=c.length,f=0,d=Ql(u,this.__takeCount__);if(!n||i<J||i==u&&d==u)return Pr(t,this.__actions__);var p=[];t:for(;u--&&f<d;){l+=e;for(var g=-1,y=t[l];++g<h;){var v=c[g],m=v.iteratee,b=v.type,x=m(y);if(b==bt)y=x;else if(!x){if(b==mt)continue t;break t}}p[f++]=y}return p}function Pe(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Re(){this.__data__=cc?cc(null):{}}function je(t){return this.has(t)&&delete this.__data__[t]}function We(t){var e=this.__data__;if(cc){var n=e[t];return n===tt?K:n}return Ml.call(e,t)?e[t]:K}function He(t){var e=this.__data__;return cc?e[t]!==K:Ml.call(e,t)}function $e(t,e){var n=this.__data__;return n[t]=cc&&e===K?tt:e,this}function qe(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function ze(){this.__data__=[]}function Ue(t){var e=this.__data__,n=pn(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():zl.call(e,n,1),!0}function Ye(t){var e=this.__data__,n=pn(e,t);return n<0?K:e[n][1]}function Ge(t){return pn(this.__data__,t)>-1}function Ve(t,e){var n=this.__data__,r=pn(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}function Xe(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ke(){this.__data__={hash:new Pe,map:new(ac||qe),string:new Pe}}function Ze(t){return Bi(this,t).delete(t)}function Je(t){return Bi(this,t).get(t)}function Qe(t){return Bi(this,t).has(t)}function tn(t,e){return Bi(this,t).set(t,e),this}function en(t){var e=-1,n=t?t.length:0;for(this.__data__=new Xe;++e<n;)this.add(t[e])}function nn(t){return this.__data__.set(t,tt),this}function rn(t){return this.__data__.has(t)}function on(t){this.__data__=new qe(t)}function an(){this.__data__=new qe}function sn(t){return this.__data__.delete(t)}function un(t){return this.__data__.get(t)}function ln(t){return this.__data__.has(t)}function cn(t,e){var n=this.__data__;return n instanceof qe&&n.__data__.length==J&&(n=this.__data__=new Xe(n.__data__)),n.set(t,e),this}function hn(t,e,n,r){return t===K||es(t,Al[n])&&!Ml.call(r,n)?e:t}function fn(t,e,n){(n===K||es(t[e],n))&&("number"!=typeof e||n!==K||e in t)||(t[e]=n)}function dn(t,e,n){var r=t[e];Ml.call(t,e)&&es(r,n)&&(n!==K||e in t)||(t[e]=n)}function pn(t,e){for(var n=t.length;n--;)if(es(t[n][0],e))return n;return-1}function gn(t,e,n,r){return _c(t,function(t,i,o){e(r,t,n(t),o)}),r}function yn(t,e){return t&&ri(e,ru(e),t)}function bn(t,e){for(var n=-1,r=null==t,i=e.length,o=Array(i);++n<i;)o[n]=r?K:tu(t,e[n]);return o}function En(t,e,n){return t===t&&(n!==K&&(t=t<=n?t:n),e!==K&&(t=t>=e?t:e)),t}function Tn(t,e,n,r,i,o,a){var u;if(r&&(u=o?r(t,i,o,a):r(t)),u!==K)return u;if(!vs(t))return t;var l=yh(t);if(l){if(u=zi(t),!e)return ni(t,u)}else{var c=Hi(t),h=c==Nt||c==Ot;if(vh(t))return zr(t,e);if(c==Pt||c==Tt||h&&!o){if(W(t))return o?t:{};if(u=Ui(h?{}:t),!e)return ii(t,yn(u,t))}else{if(!Sn[c])return o?t:{};u=Yi(t,c,Tn,e)}}a||(a=new on);var f=a.get(t);if(f)return f;if(a.set(t,u),!l)var d=n?Li(t):ru(t);return s(d||t,function(i,o){d&&(o=i,i=t[o]),dn(u,o,Tn(i,e,n,r,o,t,a))}),u}function Mn(t){var e=ru(t),n=e.length;return function(r){if(null==r)return!n;for(var i=n;i--;){var o=e[i],a=t[o],s=r[o];if(s===K&&!(o in Object(r))||!a(s))return!1}return!0}}function Dn(t){return vs(t)?$l(t):{}}function Nn(t,e,n){if("function"!=typeof t)throw new _l(Q);return Ul(function(){t.apply(K,n)},e)}function On(t,e,n,r){var i=-1,o=h,a=!0,s=t.length,u=[],l=e.length;if(!s)return u;n&&(e=d(e,T(n))),r?(o=f,a=!1):e.length>=J&&(o=D,a=!1,e=new en(e));t:for(;++i<s;){var c=t[i],p=n?n(c):c;if(c=r||0!==c?c:0,a&&p===p){for(var g=l;g--;)if(e[g]===p)continue t;u.push(c)}else o(e,p,r)||u.push(c)}return u}function Bn(t,e){var n=!0;return _c(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Pn(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(s===K?a===a&&!Fs(a):n(a,s)))var s=a,u=o}return u}function Rn(t,e,n,r){var i=t.length;for(n=js(n),n<0&&(n=-n>i?0:i+n),r=r===K||r>i?i:js(r),r<0&&(r+=i),r=n>r?0:Ws(r);n<r;)t[n++]=e;return t}function Hn(t,e){var n=[];return _c(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function $n(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=Vi),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?$n(s,e-1,n,r,i):p(i,s):r||(i[i.length]=s)}return i}function qn(t,e){return t&&Ac(t,e,ru)}function zn(t,e){return t&&Cc(t,e,ru)}function Un(t,e){return c(e,function(e){return ps(t[e])})}function Yn(t,e){e=Ji(e,t)?[e]:$r(e);for(var n=0,r=e.length;null!=t&&n<r;)t=t[lo(e[n++])];return n&&n==r?t:K}function Gn(t,e,n){var r=e(t);return yh(t)?r:p(r,n(t))}function Vn(t,e){return t>e}function Xn(t,e){return null!=t&&(Ml.call(t,e)||"object"==typeof t&&e in t&&null===ji(t))}function Kn(t,e){return null!=t&&e in Object(t)}function Zn(t,e,n){return t>=Ql(e,n)&&t<Jl(e,n)}function Jn(t,e,n){for(var r=n?f:h,i=t[0].length,o=t.length,a=o,s=Array(o),u=1/0,l=[];a--;){var c=t[a];a&&e&&(c=d(c,T(e))),u=Ql(c.length,u),s[a]=!n&&(e||i>=120&&c.length>=120)?new en(a&&c):K}c=t[0];var p=-1,g=s[0];t:for(;++p<i&&l.length<u;){var y=c[p],v=e?e(y):y;if(y=n||0!==y?y:0,!(g?D(g,v):r(l,v,n))){for(a=o;--a;){var m=s[a];if(!(m?D(m,v):r(t[a],v,n)))continue t}g&&g.push(v),l.push(y)}}return l}function Qn(t,e,n,r){return qn(t,function(t,i,o){e(r,n(t),i,o)}),r}function tr(t,e,n){Ji(e,t)||(e=$r(e),t=so(t,e),e=Lo(e));var r=null==t?t:t[lo(e)];return null==r?K:o(r,t,n)}function er(t,e,n,r,i){return t===e||(null==t||null==e||!vs(t)&&!ms(e)?t!==t&&e!==e:nr(t,e,er,n,r,i))}function nr(t,e,n,r,i,o){var a=yh(t),s=yh(e),u=Mt,l=Mt;a||(u=Hi(t),u=u==Tt?Pt:u),s||(l=Hi(e),l=l==Tt?Pt:l);var c=u==Pt&&!W(t),h=l==Pt&&!W(e),f=u==l;if(f&&!c)return o||(o=new on),a||Ns(t)?Ti(t,e,n,r,i,o):Mi(t,e,u,n,r,i,o);if(!(i&dt)){var d=c&&Ml.call(t,"__wrapped__"),p=h&&Ml.call(e,"__wrapped__");if(d||p){var g=d?t.value():t,y=p?e.value():e;return o||(o=new on),n(g,y,r,i,o)}}return!!f&&(o||(o=new on),Di(t,e,n,r,i,o))}function rr(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var u=s[0],l=t[u],c=s[1];if(a&&s[2]){if(l===K&&!(u in t))return!1}else{var h=new on;if(r)var f=r(l,c,u,t,e,h);if(!(f===K?er(c,l,r,ft|dt,h):f))return!1}}return!0}function ir(t){if(!vs(t)||eo(t))return!1;var e=ps(t)||W(t)?Ol:Ee;return e.test(co(t))}function or(t){return"function"==typeof t?t:null==t?Yu:"object"==typeof t?yh(t)?hr(t[0],t[1]):cr(t):tl(t)}function ar(t){return Zl(Object(t))}function sr(t){t=null==t?t:Object(t);var e=[];for(var n in t)e.push(n);return e}function ur(t,e){return t<e}function lr(t,e){var n=-1,r=is(t)?Array(t.length):[];return _c(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function cr(t){var e=Pi(t);return 1==e.length&&e[0][2]?io(e[0][0],e[0][1]):function(n){return n===t||rr(n,t,e)}}function hr(t,e){return Ji(t)&&ro(e)?io(lo(t),e):function(n){var r=tu(n,t);return r===K&&r===e?nu(n,t):er(e,r,K,ft|dt)}}function fr(t,e,n,r,i){if(t!==e){if(!yh(e)&&!Ns(e))var o=iu(e);s(o||e,function(a,s){if(o&&(s=a,a=e[s]),vs(a))i||(i=new on),dr(t,e,s,n,fr,r,i);else{var u=r?r(t[s],a,s+"",t,e,i):K;u===K&&(u=a),fn(t,s,u)}})}}function dr(t,e,n,r,i,o,a){var s=t[n],u=e[n],l=a.get(u);if(l)return void fn(t,n,l);var c=o?o(s,u,n+"",t,e,a):K,h=c===K;h&&(c=u,yh(u)||Ns(u)?yh(s)?c=s:os(s)?c=ni(s):(h=!1,c=Tn(u,!0)):Es(u)||ns(u)?ns(s)?c=$s(s):!vs(s)||r&&ps(s)?(h=!1,c=Tn(u,!0)):c=s:h=!1),a.set(u,c),h&&i(c,u,r,o,a),a.delete(u),fn(t,n,c)}function pr(t,e){var n=t.length;if(n)return e+=e<0?n:0,Ki(e,n)?t[e]:K}function gr(t,e,n){var r=-1;e=d(e.length?e:[Yu],T(Ii()));var i=lr(t,function(t,n,i){var o=d(e,function(e){return e(t)});return{criteria:o,index:++r,value:t}});return A(i,function(t,e){return Qr(t,e,n)})}function yr(t,e){return t=Object(t),g(e,function(e,n){return n in t&&(e[n]=t[n]),e},{})}function vr(t,e){for(var n=-1,r=Fi(t),i=r.length,o={};++n<i;){var a=r[n],s=t[a];e(s,a)&&(o[a]=s)}return o}function mr(t){return function(e){return null==e?K:e[t]}}function br(t){return function(e){return Yn(e,t)}}function xr(t,e,n,r){var i=r?w:x,o=-1,a=e.length,s=t;for(t===e&&(e=ni(e)),n&&(s=d(t,T(n)));++o<a;)for(var u=0,l=e[o],c=n?n(l):l;(u=i(s,c,u,r))>-1;)s!==t&&zl.call(s,u,1),zl.call(t,u,1);return t}function wr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;if(Ki(i))zl.call(t,i,1);else if(Ji(i,t))delete t[lo(i)];else{var a=$r(i),s=so(t,a);null!=s&&delete s[lo(Lo(a))]}}}return t}function _r(t,e){return t+Gl(ec()*(e-t+1))}function kr(t,e,n,r){for(var i=-1,o=Jl(Yl((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}function Ar(t,e){var n="";if(!t||e<1||e>_t)return n;do e%2&&(n+=t),e=Gl(e/2),e&&(t+=t);while(e);return n}function Cr(t,e,n,r){e=Ji(e,t)?[e]:$r(e);for(var i=-1,o=e.length,a=o-1,s=t;null!=s&&++i<o;){var u=lo(e[i]);if(vs(s)){var l=n;if(i!=a){var c=s[u];l=r?r(c,u,s):K,l===K&&(l=null==c?Ki(e[i+1])?[]:{}:c)}dn(s,u,l)}s=s[u]}return t}function Sr(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}function Er(t,e){var n;return _c(t,function(t,r,i){return n=e(t,r,i),!n}),!!n}function Tr(t,e,n){var r=0,i=t?t.length:r;if("number"==typeof e&&e===e&&i<=Et){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Fs(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return Mr(t,e,Yu,n)}function Mr(t,e,n,r){e=n(e);for(var i=0,o=t?t.length:0,a=e!==e,s=null===e,u=Fs(e),l=e===K;i<o;){var c=Gl((i+o)/2),h=n(t[c]),f=h!==K,d=null===h,p=h===h,g=Fs(h);if(a)var y=r||p;else y=l?p&&(r||f):s?p&&f&&(r||!d):u?p&&f&&!d&&(r||!g):!d&&!g&&(r?h<=e:h<e);y?i=c+1:o=c}return Ql(o,St)}function Dr(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!es(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function Lr(t){return"number"==typeof t?t:Fs(t)?At:+t}function Fr(t){if("string"==typeof t)return t;if(Fs(t))return wc?wc.call(t):"";var e=t+"";return"0"==e&&1/t==-wt?"-0":e}function Nr(t,e,n){var r=-1,i=h,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=f;else if(o>=J){var l=e?null:Ec(t);if(l)return z(l);a=!1,i=D,u=new en}else u=e?[]:s;t:for(;++r<o;){var c=t[r],d=e?e(c):c;if(c=n||0!==c?c:0,a&&d===d){for(var p=u.length;p--;)if(u[p]===d)continue t;e&&u.push(d),s.push(c)}else i(u,d,n)||(u!==s&&u.push(d),s.push(c))}return s}function Or(t,e){e=Ji(e,t)?[e]:$r(e),t=so(t,e);var n=lo(Lo(e));return!(null!=t&&Xn(t,n))||delete t[n]}function Ir(t,e,n,r){return Cr(t,e,n(Yn(t,e)),r)}function Br(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Sr(t,r?0:o,r?o+1:i):Sr(t,r?o+1:0,r?i:o)}function Pr(t,e){var n=t;return n instanceof Ne&&(n=n.value()),g(e,function(t,e){return e.func.apply(e.thisArg,p([t],e.args))},n)}function Rr(t,e,n){for(var r=-1,i=t.length;++r<i;)var o=o?p(On(o,t[r],e,n),On(t[r],o,e,n)):t[r];return o&&o.length?Nr(o,e,n):[]}function jr(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:K;n(a,t[r],s)}return a}function Wr(t){return os(t)?t:[]}function Hr(t){return"function"==typeof t?t:Yu}function $r(t){return yh(t)?t:Nc(t)}function qr(t,e,n){var r=t.length;return n=n===K?r:n,!e&&n>=r?t:Sr(t,e,n)}function zr(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}function Ur(t){var e=new t.constructor(t.byteLength);return new Rl(e).set(new Rl(t)),e}function Yr(t,e){var n=e?Ur(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Gr(t,e,n){var i=e?n($(t),!0):$(t);return g(i,r,new t.constructor)}function Vr(t){var e=new t.constructor(t.source,ke.exec(t));return e.lastIndex=t.lastIndex,e}function Xr(t,e,n){var r=e?n(z(t),!0):z(t);return g(r,i,new t.constructor)}function Kr(t){return xc?Object(xc.call(t)):{}}function Zr(t,e){var n=e?Ur(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Jr(t,e){if(t!==e){var n=t!==K,r=null===t,i=t===t,o=Fs(t),a=e!==K,s=null===e,u=e===e,l=Fs(e);if(!s&&!l&&!o&&t>e||o&&a&&u&&!s&&!l||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!l&&t<e||l&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function Qr(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var u=Jr(i[r],o[r]);if(u){if(r>=s)return u;var l=n[r];return u*("desc"==l?-1:1)}}return t.index-e.index}function ti(t,e,n,r){for(var i=-1,o=t.length,a=n.length,s=-1,u=e.length,l=Jl(o-a,0),c=Array(u+l),h=!r;++s<u;)c[s]=e[s];for(;++i<a;)(h||i<o)&&(c[n[i]]=t[i]);for(;l--;)c[s++]=t[i++];return c}function ei(t,e,n,r){for(var i=-1,o=t.length,a=-1,s=n.length,u=-1,l=e.length,c=Jl(o-s,0),h=Array(c+l),f=!r;++i<c;)h[i]=t[i];for(var d=i;++u<l;)h[d+u]=e[u];for(;++a<s;)(f||i<o)&&(h[d+n[a]]=t[i++]);return h}function ni(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function ri(t,e,n,r){n||(n={});for(var i=-1,o=e.length;++i<o;){var a=e[i],s=r?r(n[a],t[a],a,n,t):t[a];dn(n,a,s)}return n}function ii(t,e){return ri(t,Wi(t),e)}function oi(t,e){return function(n,r){var i=yh(n)?a:gn,o=e?e():{};return i(n,t,Ii(r),o)}}function ai(t){return Ua(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:K,a=i>2?n[2]:K;for(o=t.length>3&&"function"==typeof o?(i--,o):K,a&&Zi(n[0],n[1],a)&&(o=i<3?K:o,i=1),e=Object(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e})}function si(t,e){return function(n,r){if(null==n)return n;if(!is(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function ui(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(n(o[u],u,o)===!1)break}return e}}function li(t,e,n){function r(){var e=this&&this!==jn&&this instanceof r?o:t;return e.apply(i?n:this,arguments)}var i=e&nt,o=fi(t);return r}function ci(t){return function(e){e=zs(e);var n=wn.test(e)?G(e):K,r=n?n[0]:e.charAt(0),i=n?qr(n,1).join(""):e.slice(1);return r[t]()+i}}function hi(t){return function(e){return g($u(_u(e).replace(vn,"")),t,"")}}function fi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Dn(t.prototype),r=t.apply(n,e);return vs(r)?r:n}}function di(t,e,n){function r(){for(var a=arguments.length,s=Array(a),u=a,l=Oi(r);u--;)s[u]=arguments[u];var c=a<3&&s[0]!==l&&s[a-1]!==l?[]:q(s,l);if(a-=c.length,a<n)return Ai(t,e,yi,r.placeholder,K,s,c,K,K,n-a);var h=this&&this!==jn&&this instanceof r?i:t;return o(h,this,s)}var i=fi(t);return r}function pi(t){return function(e,n,r){var i=Object(e);if(n=Ii(n,3),!is(e))var o=ru(e);var a=t(o||e,function(t,e){return o&&(e=t,t=i[e]),n(t,e,i)},r);return a>-1?e[o?o[a]:a]:K}}function gi(t){return Ua(function(e){e=$n(e,1);var n=e.length,r=n,i=N.prototype.thru;for(t&&e.reverse();r--;){var o=e[r];if("function"!=typeof o)throw new _l(Q);if(i&&!a&&"wrapper"==Ni(o))var a=new N([],(!0))}for(r=a?r:n;++r<n;){o=e[r];var s=Ni(o),u="wrapper"==s?Tc(o):K;a=u&&to(u[0])&&u[1]==(lt|ot|st|ct)&&!u[4].length&&1==u[9]?a[Ni(u[0])].apply(a,u[3]):1==o.length&&to(o)?a[s]():a.thru(o)}return function(){var t=arguments,r=t[0];if(a&&1==t.length&&yh(r)&&r.length>=J)return a.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function yi(t,e,n,r,i,o,a,s,u,l){function c(){for(var v=arguments.length,m=Array(v),b=v;b--;)m[b]=arguments[b];if(p)var x=Oi(c),w=O(m,x);if(r&&(m=ti(m,r,i,p)),o&&(m=ei(m,o,a,p)),v-=w,p&&v<l){var _=q(m,x);return Ai(t,e,yi,c.placeholder,n,m,_,s,u,l-v)}var k=f?n:this,A=d?k[t]:t;return v=m.length,s?m=uo(m,s):g&&v>1&&m.reverse(),h&&u<v&&(m.length=u),this&&this!==jn&&this instanceof c&&(A=y||fi(A)),A.apply(k,m)}var h=e&lt,f=e&nt,d=e&rt,p=e&(ot|at),g=e&ht,y=d?K:fi(t);return c}function vi(t,e){return function(n,r){return Qn(n,t,e(r),{})}}function mi(t){return function(e,n){var r;if(e===K&&n===K)return 0;if(e!==K&&(r=e),n!==K){if(r===K)return n;"string"==typeof e||"string"==typeof n?(e=Fr(e),n=Fr(n)):(e=Lr(e),n=Lr(n)),r=t(e,n)}return r}}function bi(t){return Ua(function(e){return e=1==e.length&&yh(e[0])?d(e[0],T(Ii())):d($n(e,1,Xi),T(Ii())),Ua(function(n){var r=this;return t(e,function(t){return o(t,r,n)})})})}function xi(t,e){e=e===K?" ":Fr(e);var n=e.length;if(n<2)return n?Ar(e,t):e;var r=Ar(e,Yl(t/Y(e)));return wn.test(e)?qr(G(r),0,t).join(""):r.slice(0,t)}function wi(t,e,n,r){function i(){for(var e=-1,u=arguments.length,l=-1,c=r.length,h=Array(c+u),f=this&&this!==jn&&this instanceof i?s:t;++l<c;)h[l]=r[l];for(;u--;)h[l++]=arguments[++e];return o(f,a?n:this,h)}var a=e&nt,s=fi(t);return i}function _i(t){return function(e,n,r){return r&&"number"!=typeof r&&Zi(e,n,r)&&(n=r=K),e=Hs(e),e=e===e?e:0,n===K?(n=e,e=0):n=Hs(n)||0,r=r===K?e<n?1:-1:Hs(r)||0,kr(e,n,r,t)}}function ki(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Hs(e),n=Hs(n)),t(e,n)}}function Ai(t,e,n,r,i,o,a,s,u,l){var c=e&ot,h=c?a:K,f=c?K:a,d=c?o:K,p=c?K:o;e|=c?st:ut,e&=~(c?ut:st),e&it||(e&=~(nt|rt));var g=[t,e,i,d,h,p,f,s,u,l],y=n.apply(K,g);return to(t)&&Fc(y,g),y.placeholder=r,y}function Ci(t){var e=xl[t];return function(t,n){if(t=Hs(t),n=Ql(js(n),292)){var r=(zs(t)+"e").split("e"),i=e(r[0]+"e"+(+r[1]+n));return r=(zs(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}function Si(t){return function(e){var n=Hi(e);return n==It?$(e):n==Wt?U(e):E(e,t(e))}}function Ei(t,e,n,r,i,o,a,s){var u=e&rt;if(!u&&"function"!=typeof t)throw new _l(Q);var l=r?r.length:0;if(l||(e&=~(st|ut),r=i=K),a=a===K?a:Jl(js(a),0),s=s===K?s:js(s),l-=i?i.length:0,e&ut){var c=r,h=i;r=i=K}var f=u?K:Tc(t),d=[t,e,n,r,i,c,h,o,a,s];if(f&&oo(d,f),t=d[0],e=d[1],n=d[2],r=d[3],i=d[4],s=d[9]=null==d[9]?u?0:t.length:Jl(d[9]-l,0),!s&&e&(ot|at)&&(e&=~(ot|at)),e&&e!=nt)p=e==ot||e==at?di(t,e,s):e!=st&&e!=(nt|st)||i.length?yi.apply(K,d):wi(t,e,n,r);else var p=li(t,e,n);var g=f?Sc:Fc;return g(p,d)}function Ti(t,e,n,r,i,o){var a=i&dt,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(t);if(l)return l==e;var c=-1,h=!0,f=i&ft?new en:K;for(o.set(t,e);++c<s;){var d=t[c],p=e[c];if(r)var g=a?r(p,d,c,e,t,o):r(d,p,c,t,e,o);if(g!==K){if(g)continue;h=!1;break}if(f){if(!v(e,function(t,e){if(!f.has(e)&&(d===t||n(d,t,r,i,o)))return f.add(e)})){h=!1;break}}else if(d!==p&&!n(d,p,r,i,o)){h=!1;break}}return o.delete(t),h}function Mi(t,e,n,r,i,o,a){switch(n){case Yt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Ut:return!(t.byteLength!=e.byteLength||!r(new Rl(t),new Rl(e)));case Dt:case Lt:return+t==+e;case Ft:return t.name==e.name&&t.message==e.message;case Bt:return t!=+t?e!=+e:t==+e;case jt:case Ht:return t==e+"";case It:var s=$;case Wt:var u=o&dt;if(s||(s=z),t.size!=e.size&&!u)return!1;
var l=a.get(t);return l?l==e:(o|=ft,a.set(t,e),Ti(s(t),s(e),r,i,o,a));case $t:if(xc)return xc.call(t)==xc.call(e)}return!1}function Di(t,e,n,r,i,o){var a=i&dt,s=ru(t),u=s.length,l=ru(e),c=l.length;if(u!=c&&!a)return!1;for(var h=u;h--;){var f=s[h];if(!(a?f in e:Xn(e,f)))return!1}var d=o.get(t);if(d)return d==e;var p=!0;o.set(t,e);for(var g=a;++h<u;){f=s[h];var y=t[f],v=e[f];if(r)var m=a?r(v,y,f,e,t,o):r(y,v,f,t,e,o);if(!(m===K?y===v||n(y,v,r,i,o):m)){p=!1;break}g||(g="constructor"==f)}if(p&&!g){var b=t.constructor,x=e.constructor;b!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x)&&(p=!1)}return o.delete(t),p}function Li(t){return Gn(t,ru,Wi)}function Fi(t){return Gn(t,iu,Dc)}function Ni(t){for(var e=t.name+"",n=dc[e],r=Ml.call(dc,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Oi(t){var n=Ml.call(e,"placeholder")?e:t;return n.placeholder}function Ii(){var t=e.iteratee||Gu;return t=t===Gu?or:t,arguments.length?t(arguments[0],arguments[1]):t}function Bi(t,e){var n=t.__data__;return Qi(e)?n["string"==typeof e?"string":"hash"]:n.map}function Pi(t){for(var e=ru(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ro(i)]}return e}function Ri(t,e){var n=R(t,e);return ir(n)?n:K}function ji(t){return Vl(Object(t))}function Wi(t){return Wl(Object(t))}function Hi(t){return Fl.call(t)}function $i(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Ql(e,t+a);break;case"takeRight":t=Jl(t,e-a)}}return{start:t,end:e}}function qi(t,e,n){e=Ji(e,t)?[e]:$r(e);for(var r,i=-1,o=e.length;++i<o;){var a=lo(e[i]);if(!(r=null!=t&&n(t,a)))break;t=t[a]}if(r)return r;var o=t?t.length:0;return!!o&&ys(o)&&Ki(a,o)&&(yh(t)||Ls(t)||ns(t))}function zi(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&Ml.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Ui(t){return"function"!=typeof t.constructor||no(t)?{}:Dn(ji(t))}function Yi(t,e,n,r){var i=t.constructor;switch(e){case Ut:return Ur(t);case Dt:case Lt:return new i((+t));case Yt:return Yr(t,r);case Gt:case Vt:case Xt:case Kt:case Zt:case Jt:case Qt:case te:case ee:return Zr(t,r);case It:return Gr(t,r,n);case Bt:case Ht:return new i(t);case jt:return Vr(t);case Wt:return Xr(t,r,n);case $t:return Kr(t)}}function Gi(t){var e=t?t.length:K;return ys(e)&&(yh(t)||Ls(t)||ns(t))?S(e,String):null}function Vi(t){return yh(t)||ns(t)}function Xi(t){return yh(t)&&!(2==t.length&&!ps(t[0]))}function Ki(t,e){return e=null==e?_t:e,!!e&&("number"==typeof t||Me.test(t))&&t>-1&&t%1==0&&t<e}function Zi(t,e,n){if(!vs(n))return!1;var r=typeof e;return!!("number"==r?is(n)&&Ki(e,n.length):"string"==r&&e in n)&&es(n[e],t)}function Ji(t,e){if(yh(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Fs(t))||de.test(t)||!fe.test(t)||null!=e&&t in Object(e)}function Qi(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function to(t){var n=Ni(t),r=e[n];if("function"!=typeof r||!(n in Ne.prototype))return!1;if(t===r)return!0;var i=Tc(r);return!!i&&t===i[0]}function eo(t){return!!El&&El in t}function no(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||Al;return t===n}function ro(t){return t===t&&!vs(t)}function io(t,e){return function(n){return null!=n&&n[t]===e&&(e!==K||t in Object(n))}}function oo(t,e){var n=t[1],r=e[1],i=n|r,o=i<(nt|rt|lt),a=r==lt&&n==ot||r==lt&&n==ct&&t[7].length<=e[8]||r==(lt|ct)&&e[7].length<=e[8]&&n==ot;if(!o&&!a)return t;r&nt&&(t[2]=e[2],i|=n&nt?0:it);var s=e[3];if(s){var u=t[3];t[3]=u?ti(u,s,e[4]):s,t[4]=u?q(t[3],et):e[4]}return s=e[5],s&&(u=t[5],t[5]=u?ei(u,s,e[6]):s,t[6]=u?q(t[5],et):e[6]),s=e[7],s&&(t[7]=s),r&lt&&(t[8]=null==t[8]?e[8]:Ql(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function ao(t,e,n,r,i,o){return vs(t)&&vs(e)&&fr(t,e,K,ao,o.set(e,t)),t}function so(t,e){return 1==e.length?t:Yn(t,Sr(e,0,-1))}function uo(t,e){for(var n=t.length,r=Ql(e.length,n),i=ni(t);r--;){var o=e[r];t[r]=Ki(o,n)?i[o]:K}return t}function lo(t){if("string"==typeof t||Fs(t))return t;var e=t+"";return"0"==e&&1/t==-wt?"-0":e}function co(t){if(null!=t){try{return Tl.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ho(t){if(t instanceof Ne)return t.clone();var e=new N(t.__wrapped__,t.__chain__);return e.__actions__=ni(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function fo(t,e,n){e=(n?Zi(t,e,n):e===K)?1:Jl(js(e),0);var r=t?t.length:0;if(!r||e<1)return[];for(var i=0,o=0,a=Array(Yl(r/e));i<r;)a[o++]=Sr(t,i,i+=e);return a}function po(t){for(var e=-1,n=t?t.length:0,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i}function go(){for(var t=arguments.length,e=Array(t?t-1:0),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return t?p(yh(n)?ni(n):[n],$n(e,1)):[]}function yo(t,e,n){var r=t?t.length:0;return r?(e=n||e===K?1:js(e),Sr(t,e<0?0:e,r)):[]}function vo(t,e,n){var r=t?t.length:0;return r?(e=n||e===K?1:js(e),e=r-e,Sr(t,0,e<0?0:e)):[]}function mo(t,e){return t&&t.length?Br(t,Ii(e,3),!0,!0):[]}function bo(t,e){return t&&t.length?Br(t,Ii(e,3),!0):[]}function xo(t,e,n,r){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&Zi(t,e,n)&&(n=0,r=i),Rn(t,e,n,r)):[]}function wo(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=null==n?0:js(n);return i<0&&(i=Jl(r+i,0)),b(t,Ii(e,3),i)}function _o(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=r-1;return n!==K&&(i=js(n),i=n<0?Jl(r+i,0):Ql(i,r-1)),b(t,Ii(e,3),i,!0)}function ko(t){var e=t?t.length:0;return e?$n(t,1):[]}function Ao(t){var e=t?t.length:0;return e?$n(t,wt):[]}function Co(t,e){var n=t?t.length:0;return n?(e=e===K?1:js(e),$n(t,e)):[]}function So(t){for(var e=-1,n=t?t.length:0,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}function Eo(t){return t&&t.length?t[0]:K}function To(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=null==n?0:js(n);return i<0&&(i=Jl(r+i,0)),x(t,e,i)}function Mo(t){return vo(t,1)}function Do(t,e){return t?Kl.call(t,e):""}function Lo(t){var e=t?t.length:0;return e?t[e-1]:K}function Fo(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=r;if(n!==K&&(i=js(n),i=(i<0?Jl(r+i,0):Ql(i,r-1))+1),e!==e)return j(t,i-1,!0);for(;i--;)if(t[i]===e)return i;return-1}function No(t,e){return t&&t.length?pr(t,js(e)):K}function Oo(t,e){return t&&t.length&&e&&e.length?xr(t,e):t}function Io(t,e,n){return t&&t.length&&e&&e.length?xr(t,e,Ii(n)):t}function Bo(t,e,n){return t&&t.length&&e&&e.length?xr(t,e,K,n):t}function Po(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Ii(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return wr(t,i),n}function Ro(t){return t?rc.call(t):t}function jo(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&Zi(t,e,n)?(e=0,n=r):(e=null==e?0:js(e),n=n===K?r:js(n)),Sr(t,e,n)):[]}function Wo(t,e){return Tr(t,e)}function Ho(t,e,n){return Mr(t,e,Ii(n))}function $o(t,e){var n=t?t.length:0;if(n){var r=Tr(t,e);if(r<n&&es(t[r],e))return r}return-1}function qo(t,e){return Tr(t,e,!0)}function zo(t,e,n){return Mr(t,e,Ii(n),!0)}function Uo(t,e){var n=t?t.length:0;if(n){var r=Tr(t,e,!0)-1;if(es(t[r],e))return r}return-1}function Yo(t){return t&&t.length?Dr(t):[]}function Go(t,e){return t&&t.length?Dr(t,Ii(e)):[]}function Vo(t){return yo(t,1)}function Xo(t,e,n){return t&&t.length?(e=n||e===K?1:js(e),Sr(t,0,e<0?0:e)):[]}function Ko(t,e,n){var r=t?t.length:0;return r?(e=n||e===K?1:js(e),e=r-e,Sr(t,e<0?0:e,r)):[]}function Zo(t,e){return t&&t.length?Br(t,Ii(e,3),!1,!0):[]}function Jo(t,e){return t&&t.length?Br(t,Ii(e,3)):[]}function Qo(t){return t&&t.length?Nr(t):[]}function ta(t,e){return t&&t.length?Nr(t,Ii(e)):[]}function ea(t,e){return t&&t.length?Nr(t,K,e):[]}function na(t){if(!t||!t.length)return[];var e=0;return t=c(t,function(t){if(os(t))return e=Jl(t.length,e),!0}),S(e,function(e){return d(t,mr(e))})}function ra(t,e){if(!t||!t.length)return[];var n=na(t);return null==e?n:d(n,function(t){return o(e,K,t)})}function ia(t,e){return jr(t||[],e||[],dn)}function oa(t,e){return jr(t||[],e||[],Cr)}function aa(t){var n=e(t);return n.__chain__=!0,n}function sa(t,e){return e(t),t}function ua(t,e){return e(t)}function la(){return aa(this)}function ca(){return new N(this.value(),this.__chain__)}function ha(){this.__values__===K&&(this.__values__=Ps(this.value()));var t=this.__index__>=this.__values__.length,e=t?K:this.__values__[this.__index__++];return{done:t,value:e}}function fa(){return this}function da(t){for(var e,r=this;r instanceof n;){var i=ho(r);i.__index__=0,i.__values__=K,e?o.__wrapped__=i:e=i;var o=i;r=r.__wrapped__}return o.__wrapped__=t,e}function pa(){var t=this.__wrapped__;if(t instanceof Ne){var e=t;return this.__actions__.length&&(e=new Ne(this)),e=e.reverse(),e.__actions__.push({func:ua,args:[Ro],thisArg:K}),new N(e,this.__chain__)}return this.thru(Ro)}function ga(){return Pr(this.__wrapped__,this.__actions__)}function ya(t,e,n){var r=yh(t)?l:Bn;return n&&Zi(t,e,n)&&(e=K),r(t,Ii(e,3))}function va(t,e){var n=yh(t)?c:Hn;return n(t,Ii(e,3))}function ma(t,e){return $n(Aa(t,e),1)}function ba(t,e){return $n(Aa(t,e),wt)}function xa(t,e,n){return n=n===K?1:js(n),$n(Aa(t,e),n)}function wa(t,e){var n=yh(t)?s:_c;return n(t,Ii(e,3))}function _a(t,e){var n=yh(t)?u:kc;return n(t,Ii(e,3))}function ka(t,e,n,r){t=is(t)?t:yu(t),n=n&&!r?js(n):0;var i=t.length;return n<0&&(n=Jl(i+n,0)),Ls(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&x(t,e,n)>-1}function Aa(t,e){var n=yh(t)?d:lr;return n(t,Ii(e,3))}function Ca(t,e,n,r){return null==t?[]:(yh(e)||(e=null==e?[]:[e]),n=r?K:n,yh(n)||(n=null==n?[]:[n]),gr(t,e,n))}function Sa(t,e,n){var r=yh(t)?g:k,i=arguments.length<3;return r(t,Ii(e,4),n,i,_c)}function Ea(t,e,n){var r=yh(t)?y:k,i=arguments.length<3;return r(t,Ii(e,4),n,i,kc)}function Ta(t,e){var n=yh(t)?c:Hn;return e=Ii(e,3),n(t,function(t,n,r){return!e(t,n,r)})}function Ma(t){var e=is(t)?t:yu(t),n=e.length;return n>0?e[_r(0,n-1)]:K}function Da(t,e,n){var r=-1,i=Ps(t),o=i.length,a=o-1;for(e=(n?Zi(t,e,n):e===K)?1:En(js(e),0,o);++r<e;){var s=_r(r,a),u=i[s];i[s]=i[r],i[r]=u}return i.length=e,i}function La(t){return Da(t,Ct)}function Fa(t){if(null==t)return 0;if(is(t)){var e=t.length;return e&&Ls(t)?Y(t):e}if(ms(t)){var n=Hi(t);if(n==It||n==Wt)return t.size}return ru(t).length}function Na(t,e,n){var r=yh(t)?v:Er;return n&&Zi(t,e,n)&&(e=K),r(t,Ii(e,3))}function Oa(){return ml.now()}function Ia(t,e){if("function"!=typeof e)throw new _l(Q);return t=js(t),function(){if(--t<1)return e.apply(this,arguments)}}function Ba(t,e,n){return e=n?K:e,e=t&&null==e?t.length:e,Ei(t,lt,K,K,K,K,e)}function Pa(t,e){var n;if("function"!=typeof e)throw new _l(Q);return t=js(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=K),n}}function Ra(t,e,n){e=n?K:e;var r=Ei(t,ot,K,K,K,K,K,e);return r.placeholder=Ra.placeholder,r}function ja(t,e,n){e=n?K:e;var r=Ei(t,at,K,K,K,K,K,e);return r.placeholder=ja.placeholder,r}function Wa(t,e,n){function r(e){var n=f,r=d;return f=d=K,m=e,g=t.apply(r,n)}function i(t){return m=t,y=Ul(s,e),b?r(t):g}function o(t){var n=t-v,r=t-m,i=e-n;return x?Ql(i,p-r):i}function a(t){var n=t-v,r=t-m;return v===K||n>=e||n<0||x&&r>=p}function s(){var t=Oa();return a(t)?u(t):void(y=Ul(s,o(t)))}function u(t){return y=K,w&&f?r(t):(f=d=K,g)}function l(){m=0,f=v=d=y=K}function c(){return y===K?g:u(Oa())}function h(){var t=Oa(),n=a(t);if(f=arguments,d=this,v=t,n){if(y===K)return i(v);if(x)return y=Ul(s,e),r(v)}return y===K&&(y=Ul(s,e)),g}var f,d,p,g,y,v,m=0,b=!1,x=!1,w=!0;if("function"!=typeof t)throw new _l(Q);return e=Hs(e)||0,vs(n)&&(b=!!n.leading,x="maxWait"in n,p=x?Jl(Hs(n.maxWait)||0,e):p,w="trailing"in n?!!n.trailing:w),h.cancel=l,h.flush=c,h}function Ha(t){return Ei(t,ht)}function $a(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new _l(Q);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new($a.Cache||Xe),n}function qa(t){if("function"!=typeof t)throw new _l(Q);return function(){return!t.apply(this,arguments)}}function za(t){return Pa(2,t)}function Ua(t,e){if("function"!=typeof t)throw new _l(Q);return e=Jl(e===K?t.length-1:js(e),0),function(){for(var n=arguments,r=-1,i=Jl(n.length-e,0),a=Array(i);++r<i;)a[r]=n[e+r];switch(e){case 0:return t.call(this,a);case 1:return t.call(this,n[0],a);case 2:return t.call(this,n[0],n[1],a)}var s=Array(e+1);for(r=-1;++r<e;)s[r]=n[r];return s[e]=a,o(t,this,s)}}function Ya(t,e){if("function"!=typeof t)throw new _l(Q);return e=e===K?0:Jl(js(e),0),Ua(function(n){var r=n[e],i=qr(n,0,e);return r&&p(i,r),o(t,this,i)})}function Ga(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new _l(Q);return vs(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Wa(t,e,{leading:r,maxWait:e,trailing:i})}function Va(t){return Ba(t,1)}function Xa(t,e){return e=null==e?Yu:e,hh(e,t)}function Ka(){if(!arguments.length)return[];var t=arguments[0];return yh(t)?t:[t]}function Za(t){return Tn(t,!1,!0)}function Ja(t,e){return Tn(t,!1,!0,e)}function Qa(t){return Tn(t,!0,!0)}function ts(t,e){return Tn(t,!0,!0,e)}function es(t,e){return t===e||t!==t&&e!==e}function ns(t){return os(t)&&Ml.call(t,"callee")&&(!ql.call(t,"callee")||Fl.call(t)==Tt)}function rs(t){return ms(t)&&Fl.call(t)==Ut}function is(t){return null!=t&&ys(Mc(t))&&!ps(t)}function os(t){return ms(t)&&is(t)}function as(t){return t===!0||t===!1||ms(t)&&Fl.call(t)==Dt}function ss(t){return ms(t)&&Fl.call(t)==Lt}function us(t){return!!t&&1===t.nodeType&&ms(t)&&!Es(t)}function ls(t){if(is(t)&&(yh(t)||Ls(t)||ps(t.splice)||ns(t)||vh(t)))return!t.length;if(ms(t)){var e=Hi(t);if(e==It||e==Wt)return!t.size}for(var n in t)if(Ml.call(t,n))return!1;return!(fc&&ru(t).length)}function cs(t,e){return er(t,e)}function hs(t,e,n){n="function"==typeof n?n:K;var r=n?n(t,e):K;return r===K?er(t,e,n):!!r}function fs(t){return!!ms(t)&&(Fl.call(t)==Ft||"string"==typeof t.message&&"string"==typeof t.name)}function ds(t){return"number"==typeof t&&Xl(t)}function ps(t){var e=vs(t)?Fl.call(t):"";return e==Nt||e==Ot}function gs(t){return"number"==typeof t&&t==js(t)}function ys(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=_t}function vs(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function ms(t){return!!t&&"object"==typeof t}function bs(t){return ms(t)&&Hi(t)==It}function xs(t,e){return t===e||rr(t,e,Pi(e))}function ws(t,e,n){return n="function"==typeof n?n:K,rr(t,e,Pi(e),n)}function _s(t){return Ss(t)&&t!=+t}function ks(t){if(Lc(t))throw new bl("This method is not supported with `core-js`. Try https://github.com/es-shims.");return ir(t)}function As(t){return null===t}function Cs(t){return null==t}function Ss(t){return"number"==typeof t||ms(t)&&Fl.call(t)==Bt}function Es(t){if(!ms(t)||Fl.call(t)!=Pt||W(t))return!1;var e=ji(t);if(null===e)return!0;var n=Ml.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Tl.call(n)==Ll}function Ts(t){return vs(t)&&Fl.call(t)==jt}function Ms(t){return gs(t)&&t>=-_t&&t<=_t}function Ds(t){return ms(t)&&Hi(t)==Wt}function Ls(t){return"string"==typeof t||!yh(t)&&ms(t)&&Fl.call(t)==Ht}function Fs(t){return"symbol"==typeof t||ms(t)&&Fl.call(t)==$t}function Ns(t){return ms(t)&&ys(t.length)&&!!Cn[Fl.call(t)]}function Os(t){return t===K}function Is(t){return ms(t)&&Hi(t)==qt}function Bs(t){return ms(t)&&Fl.call(t)==zt}function Ps(t){if(!t)return[];if(is(t))return Ls(t)?G(t):ni(t);if(Hl&&t[Hl])return H(t[Hl]());var e=Hi(t),n=e==It?$:e==Wt?z:yu;return n(t)}function Rs(t){if(!t)return 0===t?t:0;if(t=Hs(t),t===wt||t===-wt){var e=t<0?-1:1;return e*kt}return t===t?t:0}function js(t){var e=Rs(t),n=e%1;return e===e?n?e-n:e:0}function Ws(t){return t?En(js(t),0,Ct):0}function Hs(t){if("number"==typeof t)return t;if(Fs(t))return At;if(vs(t)){var e=ps(t.valueOf)?t.valueOf():t;t=vs(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(ve,"");var n=Se.test(t);return n||Te.test(t)?Fn(t.slice(2),n?2:8):Ce.test(t)?At:+t}function $s(t){return ri(t,iu(t))}function qs(t){return En(js(t),-_t,_t)}function zs(t){return null==t?"":Fr(t)}function Us(t,e){var n=Dn(t);return e?yn(n,e):n}function Ys(t,e){return m(t,Ii(e,3),qn)}function Gs(t,e){return m(t,Ii(e,3),zn)}function Vs(t,e){return null==t?t:Ac(t,Ii(e,3),iu)}function Xs(t,e){return null==t?t:Cc(t,Ii(e,3),iu)}function Ks(t,e){return t&&qn(t,Ii(e,3))}function Zs(t,e){return t&&zn(t,Ii(e,3))}function Js(t){return null==t?[]:Un(t,ru(t))}function Qs(t){return null==t?[]:Un(t,iu(t))}function tu(t,e,n){var r=null==t?K:Yn(t,e);return r===K?n:r}function eu(t,e){return null!=t&&qi(t,e,Xn)}function nu(t,e){return null!=t&&qi(t,e,Kn)}function ru(t){var e=no(t);if(!e&&!is(t))return ar(t);var n=Gi(t),r=!!n,i=n||[],o=i.length;for(var a in t)!Xn(t,a)||r&&("length"==a||Ki(a,o))||e&&"constructor"==a||i.push(a);return i}function iu(t){for(var e=-1,n=no(t),r=sr(t),i=r.length,o=Gi(t),a=!!o,s=o||[],u=s.length;++e<i;){var l=r[e];a&&("length"==l||Ki(l,u))||"constructor"==l&&(n||!Ml.call(t,l))||s.push(l)}return s}function ou(t,e){var n={};return e=Ii(e,3),qn(t,function(t,r,i){n[e(t,r,i)]=t}),n}function au(t,e){var n={};return e=Ii(e,3),qn(t,function(t,r,i){n[r]=e(t,r,i)}),n}function su(t,e){return e=Ii(e),vr(t,function(t,n){return!e(t,n)})}function uu(t,e){return null==t?{}:vr(t,Ii(e))}function lu(t,e,n){e=Ji(e,t)?[e]:$r(e);var r=-1,i=e.length;for(i||(t=K,i=1);++r<i;){var o=null==t?K:t[lo(e[r])];o===K&&(r=i,o=n),t=ps(o)?o.call(t):o}return t}function cu(t,e,n){return null==t?t:Cr(t,e,n)}function hu(t,e,n,r){return r="function"==typeof r?r:K,null==t?t:Cr(t,e,n,r)}function fu(t,e,n){var r=yh(t)||Ns(t);if(e=Ii(e,4),null==n)if(r||vs(t)){var i=t.constructor;n=r?yh(t)?new i:[]:ps(i)?Dn(ji(t)):{}}else n={};return(r?s:qn)(t,function(t,r,i){return e(n,t,r,i)}),n}function du(t,e){return null==t||Or(t,e)}function pu(t,e,n){return null==t?t:Ir(t,e,Hr(n))}function gu(t,e,n,r){return r="function"==typeof r?r:K,null==t?t:Ir(t,e,Hr(n),r)}function yu(t){return t?M(t,ru(t)):[]}function vu(t){return null==t?[]:M(t,iu(t))}function mu(t,e,n){return n===K&&(n=e,e=K),n!==K&&(n=Hs(n),n=n===n?n:0),e!==K&&(e=Hs(e),e=e===e?e:0),En(Hs(t),e,n)}function bu(t,e,n){return e=Hs(e)||0,n===K?(n=e,e=0):n=Hs(n)||0,t=Hs(t),Zn(t,e,n)}function xu(t,e,n){if(n&&"boolean"!=typeof n&&Zi(t,e,n)&&(e=n=K),n===K&&("boolean"==typeof e?(n=e,e=K):"boolean"==typeof t&&(n=t,t=K)),t===K&&e===K?(t=0,e=1):(t=Hs(t)||0,e===K?(e=t,t=0):e=Hs(e)||0),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=ec();return Ql(t+i*(e-t+Ln("1e-"+((i+"").length-1))),e)}return _r(t,e)}function wu(t){return qh(zs(t).toLowerCase())}function _u(t){return t=zs(t),t&&t.replace(De,I).replace(mn,"")}function ku(t,e,n){t=zs(t),e=Fr(e);var r=t.length;return n=n===K?r:En(js(n),0,r),n-=e.length,n>=0&&t.indexOf(e,n)==n}function Au(t){return t=zs(t),t&&ue.test(t)?t.replace(ae,B):t}function Cu(t){return t=zs(t),t&&ye.test(t)?t.replace(ge,"\\$&"):t}function Su(t,e,n){t=zs(t),e=js(e);var r=e?Y(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return xi(Gl(i),n)+t+xi(Yl(i),n)}function Eu(t,e,n){t=zs(t),e=js(e);var r=e?Y(t):0;return e&&r<e?t+xi(e-r,n):t}function Tu(t,e,n){t=zs(t),e=js(e);var r=e?Y(t):0;return e&&r<e?xi(e-r,n)+t:t}function Mu(t,e,n){return n||null==e?e=0:e&&(e=+e),t=zs(t).replace(ve,""),tc(t,e||(Ae.test(t)?16:10))}function Du(t,e,n){return e=(n?Zi(t,e,n):e===K)?1:js(e),Ar(zs(t),e)}function Lu(){var t=arguments,e=zs(t[0]);return t.length<3?e:nc.call(e,t[1],t[2])}function Fu(t,e,n){return n&&"number"!=typeof n&&Zi(t,e,n)&&(e=n=K),(n=n===K?Ct:n>>>0)?(t=zs(t),t&&("string"==typeof e||null!=e&&!Ts(e))&&(e=Fr(e),""==e&&wn.test(t))?qr(G(t),0,n):ic.call(t,e,n)):[]}function Nu(t,e,n){return t=zs(t),n=En(js(n),0,t.length),t.lastIndexOf(Fr(e),n)==n}function Ou(t,n,r){var i=e.templateSettings;r&&Zi(t,n,r)&&(n=K),t=zs(t),n=_h({},n,i,hn);var o,a,s=_h({},n.imports,i.imports,hn),u=ru(s),l=M(s,u),c=0,h=n.interpolate||Le,f="__p += '",d=wl((n.escape||Le).source+"|"+h.source+"|"+(h===he?_e:Le).source+"|"+(n.evaluate||Le).source+"|$","g"),p="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++An+"]")+"\n";t.replace(d,function(e,n,r,i,s,u){return r||(r=i),f+=t.slice(c,u).replace(Fe,P),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+e.length,e}),f+="';\n";var g=n.variable;g||(f="with (obj) {\n"+f+"\n}\n"),f=(a?f.replace(ne,""):f).replace(re,"$1").replace(ie,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var y=zh(function(){return Function(u,p+"return "+f).apply(K,l)});if(y.source=f,fs(y))throw y;return y}function Iu(t){return zs(t).toLowerCase()}function Bu(t){return zs(t).toUpperCase()}function Pu(t,e,n){if(t=zs(t),t&&(n||e===K))return t.replace(ve,"");if(!t||!(e=Fr(e)))return t;var r=G(t),i=G(e),o=L(r,i),a=F(r,i)+1;return qr(r,o,a).join("")}function Ru(t,e,n){if(t=zs(t),t&&(n||e===K))return t.replace(be,"");if(!t||!(e=Fr(e)))return t;var r=G(t),i=F(r,G(e))+1;return qr(r,0,i).join("")}function ju(t,e,n){if(t=zs(t),t&&(n||e===K))return t.replace(me,"");if(!t||!(e=Fr(e)))return t;var r=G(t),i=L(r,G(e));return qr(r,i).join("")}function Wu(t,e){var n=pt,r=gt;if(vs(e)){var i="separator"in e?e.separator:i;n="length"in e?js(e.length):n,r="omission"in e?Fr(e.omission):r}t=zs(t);var o=t.length;if(wn.test(t)){var a=G(t);o=a.length}if(n>=o)return t;var s=n-Y(r);if(s<1)return r;var u=a?qr(a,0,s).join(""):t.slice(0,s);if(i===K)return u+r;if(a&&(s+=u.length-s),Ts(i)){if(t.slice(s).search(i)){var l,c=u;for(i.global||(i=wl(i.source,zs(ke.exec(i))+"g")),i.lastIndex=0;l=i.exec(c);)var h=l.index;u=u.slice(0,h===K?s:h)}}else if(t.indexOf(Fr(i),s)!=s){var f=u.lastIndexOf(i);f>-1&&(u=u.slice(0,f))}return u+r}function Hu(t){return t=zs(t),t&&se.test(t)?t.replace(oe,V):t}function $u(t,e,n){return t=zs(t),e=n?K:e,e===K&&(e=_n.test(t)?xn:xe),t.match(e)||[]}function qu(t){var e=t?t.length:0,n=Ii();return t=e?d(t,function(t){if("function"!=typeof t[1])throw new _l(Q);return[n(t[0]),t[1]]}):[],Ua(function(n){for(var r=-1;++r<e;){var i=t[r];if(o(i[0],this,n))return o(i[1],this,n)}})}function zu(t){return Mn(Tn(t,!0))}function Uu(t){return function(){return t}}function Yu(t){return t}function Gu(t){return or("function"==typeof t?t:Tn(t,!0))}function Vu(t){return cr(Tn(t,!0))}function Xu(t,e){return hr(t,Tn(e,!0))}function Ku(t,e,n){var r=ru(e),i=Un(e,r);null!=n||vs(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Un(e,ru(e)));var o=!(vs(n)&&"chain"in n&&!n.chain),a=ps(t);return s(i,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=ni(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,p([this.value()],arguments))})}),t}function Zu(){return jn._===this&&(jn._=Nl),this}function Ju(){}function Qu(t){return t=js(t),Ua(function(e){return pr(e,t)})}function tl(t){return Ji(t)?mr(lo(t)):br(t)}function el(t){return function(e){return null==t?K:Yn(t,e)}}function nl(){return[]}function rl(){return!1}function il(){return{}}function ol(){return""}function al(){return!0}function sl(t,e){if(t=js(t),t<1||t>_t)return[];var n=Ct,r=Ql(t,Ct);e=Ii(e),t-=Ct;for(var i=S(r,e);++n<t;)e(n);return i}function ul(t){return yh(t)?d(t,lo):Fs(t)?[t]:ni(Nc(t))}function ll(t){var e=++Dl;return zs(t)+e}function cl(t){return t&&t.length?Pn(t,Yu,Vn):K}function hl(t,e){return t&&t.length?Pn(t,Ii(e),Vn):K}function fl(t){return _(t,Yu)}function dl(t,e){return _(t,Ii(e))}function pl(t){return t&&t.length?Pn(t,Yu,ur):K}function gl(t,e){return t&&t.length?Pn(t,Ii(e),ur):K}function yl(t){return t&&t.length?C(t,Yu):0}function vl(t,e){return t&&t.length?C(t,Ii(e)):0}t=t?Wn.defaults({},t,Wn.pick(jn,kn)):jn;var ml=t.Date,bl=t.Error,xl=t.Math,wl=t.RegExp,_l=t.TypeError,kl=t.Array.prototype,Al=t.Object.prototype,Cl=t.String.prototype,Sl=t["__core-js_shared__"],El=function(){var t=/[^.]+$/.exec(Sl&&Sl.keys&&Sl.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Tl=t.Function.prototype.toString,Ml=Al.hasOwnProperty,Dl=0,Ll=Tl.call(Object),Fl=Al.toString,Nl=jn._,Ol=wl("^"+Tl.call(Ml).replace(ge,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Il=In?t.Buffer:K,Bl=t.Reflect,Pl=t.Symbol,Rl=t.Uint8Array,jl=Bl?Bl.enumerate:K,Wl=Object.getOwnPropertySymbols,Hl="symbol"==typeof(Hl=Pl&&Pl.iterator)?Hl:K,$l=Object.create,ql=Al.propertyIsEnumerable,zl=kl.splice,Ul=function(e,n){return t.setTimeout.call(jn,e,n)},Yl=xl.ceil,Gl=xl.floor,Vl=Object.getPrototypeOf,Xl=t.isFinite,Kl=kl.join,Zl=Object.keys,Jl=xl.max,Ql=xl.min,tc=t.parseInt,ec=xl.random,nc=Cl.replace,rc=kl.reverse,ic=Cl.split,oc=Ri(t,"DataView"),ac=Ri(t,"Map"),sc=Ri(t,"Promise"),uc=Ri(t,"Set"),lc=Ri(t,"WeakMap"),cc=Ri(Object,"create"),hc=lc&&new lc,fc=!ql.call({valueOf:1},"valueOf"),dc={},pc=co(oc),gc=co(ac),yc=co(sc),vc=co(uc),mc=co(lc),bc=Pl?Pl.prototype:K,xc=bc?bc.valueOf:K,wc=bc?bc.toString:K;e.templateSettings={escape:le,evaluate:ce,interpolate:he,variable:"",imports:{_:e}},e.prototype=n.prototype,e.prototype.constructor=e,N.prototype=Dn(n.prototype),N.prototype.constructor=N,Ne.prototype=Dn(n.prototype),Ne.prototype.constructor=Ne,Pe.prototype.clear=Re,Pe.prototype.delete=je,Pe.prototype.get=We,Pe.prototype.has=He,Pe.prototype.set=$e,qe.prototype.clear=ze,qe.prototype.delete=Ue,qe.prototype.get=Ye,qe.prototype.has=Ge,qe.prototype.set=Ve,Xe.prototype.clear=Ke,Xe.prototype.delete=Ze,Xe.prototype.get=Je,Xe.prototype.has=Qe,Xe.prototype.set=tn,en.prototype.add=en.prototype.push=nn,en.prototype.has=rn,on.prototype.clear=an,on.prototype.delete=sn,on.prototype.get=un,on.prototype.has=ln,on.prototype.set=cn;var _c=si(qn),kc=si(zn,!0),Ac=ui(),Cc=ui(!0);jl&&!ql.call({valueOf:1},"valueOf")&&(sr=function(t){return H(jl(t))});var Sc=hc?function(t,e){return hc.set(t,e),t}:Yu,Ec=uc&&1/z(new uc([,-0]))[1]==wt?function(t){return new uc(t)}:Ju,Tc=hc?function(t){return hc.get(t)}:Ju,Mc=mr("length");Wl||(Wi=nl);var Dc=Wl?function(t){for(var e=[];t;)p(e,Wi(t)),t=ji(t);return e}:Wi;(oc&&Hi(new oc(new ArrayBuffer(1)))!=Yt||ac&&Hi(new ac)!=It||sc&&Hi(sc.resolve())!=Rt||uc&&Hi(new uc)!=Wt||lc&&Hi(new lc)!=qt)&&(Hi=function(t){var e=Fl.call(t),n=e==Pt?t.constructor:K,r=n?co(n):K;if(r)switch(r){case pc:return Yt;case gc:return It;case yc:return Rt;case vc:return Wt;case mc:return qt}return e});var Lc=Sl?ps:rl,Fc=function(){var t=0,e=0;return function(n,r){var i=Oa(),o=vt-(i-e);if(e=i,o>0){if(++t>=yt)return n}else t=0;return Sc(n,r)}}(),Nc=$a(function(t){var e=[];return zs(t).replace(pe,function(t,n,r,i){e.push(r?i.replace(we,"$1"):n||t)}),e}),Oc=Ua(function(t,e){return os(t)?On(t,$n(e,1,os,!0)):[]}),Ic=Ua(function(t,e){var n=Lo(e);return os(n)&&(n=K),os(t)?On(t,$n(e,1,os,!0),Ii(n)):[]}),Bc=Ua(function(t,e){var n=Lo(e);return os(n)&&(n=K),os(t)?On(t,$n(e,1,os,!0),K,n):[]}),Pc=Ua(function(t){var e=d(t,Wr);return e.length&&e[0]===t[0]?Jn(e):[]}),Rc=Ua(function(t){var e=Lo(t),n=d(t,Wr);return e===Lo(n)?e=K:n.pop(),n.length&&n[0]===t[0]?Jn(n,Ii(e)):[]}),jc=Ua(function(t){var e=Lo(t),n=d(t,Wr);return e===Lo(n)?e=K:n.pop(),n.length&&n[0]===t[0]?Jn(n,K,e):[]}),Wc=Ua(Oo),Hc=Ua(function(t,e){e=$n(e,1);var n=t?t.length:0,r=bn(t,e);return wr(t,d(e,function(t){return Ki(t,n)?+t:t}).sort(Jr)),r}),$c=Ua(function(t){return Nr($n(t,1,os,!0))}),qc=Ua(function(t){var e=Lo(t);return os(e)&&(e=K),Nr($n(t,1,os,!0),Ii(e))}),zc=Ua(function(t){var e=Lo(t);return os(e)&&(e=K),Nr($n(t,1,os,!0),K,e)}),Uc=Ua(function(t,e){return os(t)?On(t,e):[]}),Yc=Ua(function(t){return Rr(c(t,os))}),Gc=Ua(function(t){var e=Lo(t);return os(e)&&(e=K),Rr(c(t,os),Ii(e))}),Vc=Ua(function(t){var e=Lo(t);return os(e)&&(e=K),Rr(c(t,os),K,e)}),Xc=Ua(na),Kc=Ua(function(t){var e=t.length,n=e>1?t[e-1]:K;return n="function"==typeof n?(t.pop(),n):K,ra(t,n)}),Zc=Ua(function(t){t=$n(t,1);var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return bn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Ne&&Ki(n)?(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:ua,args:[i],thisArg:K}),new N(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(K),t})):this.thru(i)}),Jc=oi(function(t,e,n){Ml.call(t,n)?++t[n]:t[n]=1}),Qc=pi(wo),th=pi(_o),eh=oi(function(t,e,n){Ml.call(t,n)?t[n].push(e):t[n]=[e]}),nh=Ua(function(t,e,n){var r=-1,i="function"==typeof e,a=Ji(e),s=is(t)?Array(t.length):[];return _c(t,function(t){var u=i?e:a&&null!=t?t[e]:K;s[++r]=u?o(u,t,n):tr(t,e,n)}),s}),rh=oi(function(t,e,n){t[n]=e}),ih=oi(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),oh=Ua(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Zi(t,e[0],e[1])?e=[]:n>2&&Zi(e[0],e[1],e[2])&&(e=[e[0]]),e=1==e.length&&yh(e[0])?e[0]:$n(e,1,Xi),gr(t,e,[])}),ah=Ua(function(t,e,n){var r=nt;if(n.length){var i=q(n,Oi(ah));r|=st}return Ei(t,r,e,n,i)}),sh=Ua(function(t,e,n){var r=nt|rt;if(n.length){var i=q(n,Oi(sh));r|=st}return Ei(e,r,t,n,i)}),uh=Ua(function(t,e){return Nn(t,1,e)}),lh=Ua(function(t,e,n){return Nn(t,Hs(e)||0,n)});$a.Cache=Xe;var ch=Ua(function(t,e){e=1==e.length&&yh(e[0])?d(e[0],T(Ii())):d($n(e,1,Xi),T(Ii()));var n=e.length;return Ua(function(r){for(var i=-1,a=Ql(r.length,n);++i<a;)r[i]=e[i].call(this,r[i]);return o(t,this,r)})}),hh=Ua(function(t,e){var n=q(e,Oi(hh));return Ei(t,st,K,e,n)}),fh=Ua(function(t,e){var n=q(e,Oi(fh));return Ei(t,ut,K,e,n)}),dh=Ua(function(t,e){return Ei(t,ct,K,K,K,$n(e,1))}),ph=ki(Vn),gh=ki(function(t,e){return t>=e}),yh=Array.isArray,vh=Il?function(t){return t instanceof Il}:rl,mh=ki(ur),bh=ki(function(t,e){return t<=e}),xh=ai(function(t,e){if(fc||no(e)||is(e))return void ri(e,ru(e),t);for(var n in e)Ml.call(e,n)&&dn(t,n,e[n])}),wh=ai(function(t,e){if(fc||no(e)||is(e))return void ri(e,iu(e),t);for(var n in e)dn(t,n,e[n])}),_h=ai(function(t,e,n,r){ri(e,iu(e),t,r)}),kh=ai(function(t,e,n,r){ri(e,ru(e),t,r)}),Ah=Ua(function(t,e){return bn(t,$n(e,1))}),Ch=Ua(function(t){return t.push(K,hn),o(_h,K,t)}),Sh=Ua(function(t){return t.push(K,ao),o(Lh,K,t)}),Eh=vi(function(t,e,n){t[e]=n},Uu(Yu)),Th=vi(function(t,e,n){Ml.call(t,e)?t[e].push(n):t[e]=[n]},Ii),Mh=Ua(tr),Dh=ai(function(t,e,n){fr(t,e,n)}),Lh=ai(function(t,e,n,r){fr(t,e,n,r)}),Fh=Ua(function(t,e){return null==t?{}:(e=d($n(e,1),lo),yr(t,On(Fi(t),e)))}),Nh=Ua(function(t,e){return null==t?{}:yr(t,d($n(e,1),lo))}),Oh=Si(ru),Ih=Si(iu),Bh=hi(function(t,e,n){return e=e.toLowerCase(),t+(n?wu(e):e)}),Ph=hi(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Rh=hi(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),jh=ci("toLowerCase"),Wh=hi(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Hh=hi(function(t,e,n){return t+(n?" ":"")+qh(e)}),$h=hi(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),qh=ci("toUpperCase"),zh=Ua(function(t,e){try{return o(t,K,e)}catch(t){return fs(t)?t:new bl(t)}}),Uh=Ua(function(t,e){return s($n(e,1),function(e){e=lo(e),t[e]=ah(t[e],t)}),t}),Yh=gi(),Gh=gi(!0),Vh=Ua(function(t,e){return function(n){return tr(n,t,e)}}),Xh=Ua(function(t,e){return function(n){return tr(t,n,e)}}),Kh=bi(d),Zh=bi(l),Jh=bi(v),Qh=_i(),tf=_i(!0),ef=mi(function(t,e){return t+e}),nf=Ci("ceil"),rf=mi(function(t,e){return t/e}),of=Ci("floor"),af=mi(function(t,e){return t*e}),sf=Ci("round"),uf=mi(function(t,e){return t-e});return e.after=Ia,e.ary=Ba,e.assign=xh,e.assignIn=wh,e.assignInWith=_h,e.assignWith=kh,e.at=Ah,e.before=Pa,e.bind=ah,e.bindAll=Uh,e.bindKey=sh,e.castArray=Ka,e.chain=aa,e.chunk=fo,e.compact=po,e.concat=go,e.cond=qu,e.conforms=zu,e.constant=Uu,e.countBy=Jc,e.create=Us,e.curry=Ra,e.curryRight=ja,e.debounce=Wa,e.defaults=Ch,e.defaultsDeep=Sh,e.defer=uh,e.delay=lh,e.difference=Oc,e.differenceBy=Ic,e.differenceWith=Bc,e.drop=yo,e.dropRight=vo,e.dropRightWhile=mo,e.dropWhile=bo,e.fill=xo,e.filter=va,e.flatMap=ma,e.flatMapDeep=ba,e.flatMapDepth=xa,e.flatten=ko,e.flattenDeep=Ao,e.flattenDepth=Co,e.flip=Ha,e.flow=Yh,e.flowRight=Gh,e.fromPairs=So,e.functions=Js,e.functionsIn=Qs,e.groupBy=eh,e.initial=Mo,e.intersection=Pc,e.intersectionBy=Rc,
e.intersectionWith=jc,e.invert=Eh,e.invertBy=Th,e.invokeMap=nh,e.iteratee=Gu,e.keyBy=rh,e.keys=ru,e.keysIn=iu,e.map=Aa,e.mapKeys=ou,e.mapValues=au,e.matches=Vu,e.matchesProperty=Xu,e.memoize=$a,e.merge=Dh,e.mergeWith=Lh,e.method=Vh,e.methodOf=Xh,e.mixin=Ku,e.negate=qa,e.nthArg=Qu,e.omit=Fh,e.omitBy=su,e.once=za,e.orderBy=Ca,e.over=Kh,e.overArgs=ch,e.overEvery=Zh,e.overSome=Jh,e.partial=hh,e.partialRight=fh,e.partition=ih,e.pick=Nh,e.pickBy=uu,e.property=tl,e.propertyOf=el,e.pull=Wc,e.pullAll=Oo,e.pullAllBy=Io,e.pullAllWith=Bo,e.pullAt=Hc,e.range=Qh,e.rangeRight=tf,e.rearg=dh,e.reject=Ta,e.remove=Po,e.rest=Ua,e.reverse=Ro,e.sampleSize=Da,e.set=cu,e.setWith=hu,e.shuffle=La,e.slice=jo,e.sortBy=oh,e.sortedUniq=Yo,e.sortedUniqBy=Go,e.split=Fu,e.spread=Ya,e.tail=Vo,e.take=Xo,e.takeRight=Ko,e.takeRightWhile=Zo,e.takeWhile=Jo,e.tap=sa,e.throttle=Ga,e.thru=ua,e.toArray=Ps,e.toPairs=Oh,e.toPairsIn=Ih,e.toPath=ul,e.toPlainObject=$s,e.transform=fu,e.unary=Va,e.union=$c,e.unionBy=qc,e.unionWith=zc,e.uniq=Qo,e.uniqBy=ta,e.uniqWith=ea,e.unset=du,e.unzip=na,e.unzipWith=ra,e.update=pu,e.updateWith=gu,e.values=yu,e.valuesIn=vu,e.without=Uc,e.words=$u,e.wrap=Xa,e.xor=Yc,e.xorBy=Gc,e.xorWith=Vc,e.zip=Xc,e.zipObject=ia,e.zipObjectDeep=oa,e.zipWith=Kc,e.entries=Oh,e.entriesIn=Ih,e.extend=wh,e.extendWith=_h,Ku(e,e),e.add=ef,e.attempt=zh,e.camelCase=Bh,e.capitalize=wu,e.ceil=nf,e.clamp=mu,e.clone=Za,e.cloneDeep=Qa,e.cloneDeepWith=ts,e.cloneWith=Ja,e.deburr=_u,e.divide=rf,e.endsWith=ku,e.eq=es,e.escape=Au,e.escapeRegExp=Cu,e.every=ya,e.find=Qc,e.findIndex=wo,e.findKey=Ys,e.findLast=th,e.findLastIndex=_o,e.findLastKey=Gs,e.floor=of,e.forEach=wa,e.forEachRight=_a,e.forIn=Vs,e.forInRight=Xs,e.forOwn=Ks,e.forOwnRight=Zs,e.get=tu,e.gt=ph,e.gte=gh,e.has=eu,e.hasIn=nu,e.head=Eo,e.identity=Yu,e.includes=ka,e.indexOf=To,e.inRange=bu,e.invoke=Mh,e.isArguments=ns,e.isArray=yh,e.isArrayBuffer=rs,e.isArrayLike=is,e.isArrayLikeObject=os,e.isBoolean=as,e.isBuffer=vh,e.isDate=ss,e.isElement=us,e.isEmpty=ls,e.isEqual=cs,e.isEqualWith=hs,e.isError=fs,e.isFinite=ds,e.isFunction=ps,e.isInteger=gs,e.isLength=ys,e.isMap=bs,e.isMatch=xs,e.isMatchWith=ws,e.isNaN=_s,e.isNative=ks,e.isNil=Cs,e.isNull=As,e.isNumber=Ss,e.isObject=vs,e.isObjectLike=ms,e.isPlainObject=Es,e.isRegExp=Ts,e.isSafeInteger=Ms,e.isSet=Ds,e.isString=Ls,e.isSymbol=Fs,e.isTypedArray=Ns,e.isUndefined=Os,e.isWeakMap=Is,e.isWeakSet=Bs,e.join=Do,e.kebabCase=Ph,e.last=Lo,e.lastIndexOf=Fo,e.lowerCase=Rh,e.lowerFirst=jh,e.lt=mh,e.lte=bh,e.max=cl,e.maxBy=hl,e.mean=fl,e.meanBy=dl,e.min=pl,e.minBy=gl,e.stubArray=nl,e.stubFalse=rl,e.stubObject=il,e.stubString=ol,e.stubTrue=al,e.multiply=af,e.nth=No,e.noConflict=Zu,e.noop=Ju,e.now=Oa,e.pad=Su,e.padEnd=Eu,e.padStart=Tu,e.parseInt=Mu,e.random=xu,e.reduce=Sa,e.reduceRight=Ea,e.repeat=Du,e.replace=Lu,e.result=lu,e.round=sf,e.runInContext=X,e.sample=Ma,e.size=Fa,e.snakeCase=Wh,e.some=Na,e.sortedIndex=Wo,e.sortedIndexBy=Ho,e.sortedIndexOf=$o,e.sortedLastIndex=qo,e.sortedLastIndexBy=zo,e.sortedLastIndexOf=Uo,e.startCase=Hh,e.startsWith=Nu,e.subtract=uf,e.sum=yl,e.sumBy=vl,e.template=Ou,e.times=sl,e.toFinite=Rs,e.toInteger=js,e.toLength=Ws,e.toLower=Iu,e.toNumber=Hs,e.toSafeInteger=qs,e.toString=zs,e.toUpper=Bu,e.trim=Pu,e.trimEnd=Ru,e.trimStart=ju,e.truncate=Wu,e.unescape=Hu,e.uniqueId=ll,e.upperCase=$h,e.upperFirst=qh,e.each=wa,e.eachRight=_a,e.first=Eo,Ku(e,function(){var t={};return qn(e,function(n,r){Ml.call(e.prototype,r)||(t[r]=n)}),t}(),{chain:!1}),e.VERSION=Z,s(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),s(["drop","take"],function(t,e){Ne.prototype[t]=function(n){var r=this.__filtered__;if(r&&!e)return new Ne(this);n=n===K?1:Jl(js(n),0);var i=this.clone();return r?i.__takeCount__=Ql(n,i.__takeCount__):i.__views__.push({size:Ql(n,Ct),type:t+(i.__dir__<0?"Right":"")}),i},Ne.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),s(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==mt||n==xt;Ne.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Ii(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),s(["head","last"],function(t,e){var n="take"+(e?"Right":"");Ne.prototype[t]=function(){return this[n](1).value()[0]}}),s(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");Ne.prototype[t]=function(){return this.__filtered__?new Ne(this):this[n](1)}}),Ne.prototype.compact=function(){return this.filter(Yu)},Ne.prototype.find=function(t){return this.filter(t).head()},Ne.prototype.findLast=function(t){return this.reverse().find(t)},Ne.prototype.invokeMap=Ua(function(t,e){return"function"==typeof t?new Ne(this):this.map(function(n){return tr(n,t,e)})}),Ne.prototype.reject=function(t){return t=Ii(t,3),this.filter(function(e){return!t(e)})},Ne.prototype.slice=function(t,e){t=js(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Ne(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==K&&(e=js(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},Ne.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Ne.prototype.toArray=function(){return this.take(Ct)},qn(Ne.prototype,function(t,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),i=/^(?:head|last)$/.test(n),o=e[i?"take"+("last"==n?"Right":""):n],a=i||/^find/.test(n);o&&(e.prototype[n]=function(){var n=this.__wrapped__,s=i?[1]:arguments,u=n instanceof Ne,l=s[0],c=u||yh(n),h=function(t){var n=o.apply(e,p([t],s));return i&&f?n[0]:n};c&&r&&"function"==typeof l&&1!=l.length&&(u=c=!1);var f=this.__chain__,d=!!this.__actions__.length,g=a&&!f,y=u&&!d;if(!a&&c){n=y?n:new Ne(this);var v=t.apply(n,s);return v.__actions__.push({func:ua,args:[h],thisArg:K}),new N(v,f)}return g&&y?t.apply(this,s):(v=this.thru(h),g?i?v.value()[0]:v.value():v)})}),s(["pop","push","shift","sort","splice","unshift"],function(t){var n=kl[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var e=this.value();return n.apply(yh(e)?e:[],t)}return this[r](function(e){return n.apply(yh(e)?e:[],t)})}}),qn(Ne.prototype,function(t,n){var r=e[n];if(r){var i=r.name+"",o=dc[i]||(dc[i]=[]);o.push({name:n,func:r})}}),dc[yi(K,rt).name]=[{name:"wrapper",func:K}],Ne.prototype.clone=Oe,Ne.prototype.reverse=Ie,Ne.prototype.value=Be,e.prototype.at=Zc,e.prototype.chain=la,e.prototype.commit=ca,e.prototype.next=ha,e.prototype.plant=da,e.prototype.reverse=pa,e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=ga,Hl&&(e.prototype[Hl]=fa),e}var K,Z="4.13.1",J=200,Q="Expected a function",tt="__lodash_hash_undefined__",et="__lodash_placeholder__",nt=1,rt=2,it=4,ot=8,at=16,st=32,ut=64,lt=128,ct=256,ht=512,ft=1,dt=2,pt=30,gt="...",yt=150,vt=16,mt=1,bt=2,xt=3,wt=1/0,_t=9007199254740991,kt=1.7976931348623157e308,At=NaN,Ct=4294967295,St=Ct-1,Et=Ct>>>1,Tt="[object Arguments]",Mt="[object Array]",Dt="[object Boolean]",Lt="[object Date]",Ft="[object Error]",Nt="[object Function]",Ot="[object GeneratorFunction]",It="[object Map]",Bt="[object Number]",Pt="[object Object]",Rt="[object Promise]",jt="[object RegExp]",Wt="[object Set]",Ht="[object String]",$t="[object Symbol]",qt="[object WeakMap]",zt="[object WeakSet]",Ut="[object ArrayBuffer]",Yt="[object DataView]",Gt="[object Float32Array]",Vt="[object Float64Array]",Xt="[object Int8Array]",Kt="[object Int16Array]",Zt="[object Int32Array]",Jt="[object Uint8Array]",Qt="[object Uint8ClampedArray]",te="[object Uint16Array]",ee="[object Uint32Array]",ne=/\b__p \+= '';/g,re=/\b(__p \+=) '' \+/g,ie=/(__e\(.*?\)|\b__t\)) \+\n'';/g,oe=/&(?:amp|lt|gt|quot|#39|#96);/g,ae=/[&<>"'`]/g,se=RegExp(oe.source),ue=RegExp(ae.source),le=/<%-([\s\S]+?)%>/g,ce=/<%([\s\S]+?)%>/g,he=/<%=([\s\S]+?)%>/g,fe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,de=/^\w*$/,pe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(\.|\[\])(?:\4|$))/g,ge=/[\\^$.*+?()[\]{}|]/g,ye=RegExp(ge.source),ve=/^\s+|\s+$/g,me=/^\s+/,be=/\s+$/,xe=/[a-zA-Z0-9]+/g,we=/\\(\\)?/g,_e=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ke=/\w*$/,Ae=/^0x/i,Ce=/^[-+]0x[0-9a-f]+$/i,Se=/^0b[01]+$/i,Ee=/^\[object .+?Constructor\]$/,Te=/^0o[0-7]+$/i,Me=/^(?:0|[1-9]\d*)$/,De=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Le=/($^)/,Fe=/['\n\r\u2028\u2029\\]/g,Ne="\\ud800-\\udfff",Oe="\\u0300-\\u036f\\ufe20-\\ufe23",Ie="\\u20d0-\\u20f0",Be="\\u2700-\\u27bf",Pe="a-z\\xdf-\\xf6\\xf8-\\xff",Re="\\xac\\xb1\\xd7\\xf7",je="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",We="\\u2000-\\u206f",He=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",$e="A-Z\\xc0-\\xd6\\xd8-\\xde",qe="\\ufe0e\\ufe0f",ze=Re+je+We+He,Ue="['’]",Ye="["+Ne+"]",Ge="["+ze+"]",Ve="["+Oe+Ie+"]",Xe="\\d+",Ke="["+Be+"]",Ze="["+Pe+"]",Je="[^"+Ne+ze+Xe+Be+Pe+$e+"]",Qe="\\ud83c[\\udffb-\\udfff]",tn="(?:"+Ve+"|"+Qe+")",en="[^"+Ne+"]",nn="(?:\\ud83c[\\udde6-\\uddff]){2}",rn="[\\ud800-\\udbff][\\udc00-\\udfff]",on="["+$e+"]",an="\\u200d",sn="(?:"+Ze+"|"+Je+")",un="(?:"+on+"|"+Je+")",ln="(?:"+Ue+"(?:d|ll|m|re|s|t|ve))?",cn="(?:"+Ue+"(?:D|LL|M|RE|S|T|VE))?",hn=tn+"?",fn="["+qe+"]?",dn="(?:"+an+"(?:"+[en,nn,rn].join("|")+")"+fn+hn+")*",pn=fn+hn+dn,gn="(?:"+[Ke,nn,rn].join("|")+")"+pn,yn="(?:"+[en+Ve+"?",Ve,nn,rn,Ye].join("|")+")",vn=RegExp(Ue,"g"),mn=RegExp(Ve,"g"),bn=RegExp(Qe+"(?="+Qe+")|"+yn+pn,"g"),xn=RegExp([on+"?"+Ze+"+"+ln+"(?="+[Ge,on,"$"].join("|")+")",un+"+"+cn+"(?="+[Ge,on+sn,"$"].join("|")+")",on+"?"+sn+"+"+ln,on+"+"+cn,Xe,gn].join("|"),"g"),wn=RegExp("["+an+Ne+Oe+Ie+qe+"]"),_n=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,kn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","isFinite","parseInt","setTimeout"],An=-1,Cn={};Cn[Gt]=Cn[Vt]=Cn[Xt]=Cn[Kt]=Cn[Zt]=Cn[Jt]=Cn[Qt]=Cn[te]=Cn[ee]=!0,Cn[Tt]=Cn[Mt]=Cn[Ut]=Cn[Dt]=Cn[Yt]=Cn[Lt]=Cn[Ft]=Cn[Nt]=Cn[It]=Cn[Bt]=Cn[Pt]=Cn[jt]=Cn[Wt]=Cn[Ht]=Cn[qt]=!1;var Sn={};Sn[Tt]=Sn[Mt]=Sn[Ut]=Sn[Yt]=Sn[Dt]=Sn[Lt]=Sn[Gt]=Sn[Vt]=Sn[Xt]=Sn[Kt]=Sn[Zt]=Sn[It]=Sn[Bt]=Sn[Pt]=Sn[jt]=Sn[Wt]=Sn[Ht]=Sn[$t]=Sn[Jt]=Sn[Qt]=Sn[te]=Sn[ee]=!0,Sn[Ft]=Sn[Nt]=Sn[qt]=!1;var En={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Tn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Mn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Dn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ln=parseFloat,Fn=parseInt,Nn="object"==typeof n&&n,On=Nn&&"object"==typeof e&&e,In=On&&On.exports===Nn,Bn=N("object"==typeof t&&t),Pn=N("object"==typeof self&&self),Rn=N("object"==typeof this&&this),jn=Bn||Pn||Rn||Function("return this")(),Wn=X();(Pn||{})._=Wn,"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return Wn}):On?((On.exports=Wn)._=Wn,Nn._=Wn):jn._=Wn}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],106:[function(t,e,n){!function(t,r){"object"==typeof n&&"undefined"!=typeof e?e.exports=r():"function"==typeof define&&define.amd?define(r):t.moment=r()}(this,function(){"use strict";function n(){return ur.apply(null,arguments)}function r(t){ur=t}function i(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function o(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function a(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function u(t,e){for(var n in e)s(e,n)&&(t[n]=e[n]);return s(e,"toString")&&(t.toString=e.toString),s(e,"valueOf")&&(t.valueOf=e.valueOf),t}function l(t,e,n,r){return Pt(t,e,n,r,!0).utc()}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function h(t){return null==t._pf&&(t._pf=c()),t._pf}function f(t){if(null==t._isValid){var e=h(t),n=lr.call(e.parsedDateParts,function(t){return null!=t});t._isValid=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function d(t){var e=l(NaN);return null!=t?u(h(e),t):h(e).userInvalidated=!0,e}function p(t){return void 0===t}function g(t,e){var n,r,i;if(p(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),p(e._i)||(t._i=e._i),p(e._f)||(t._f=e._f),p(e._l)||(t._l=e._l),p(e._strict)||(t._strict=e._strict),p(e._tzm)||(t._tzm=e._tzm),p(e._isUTC)||(t._isUTC=e._isUTC),p(e._offset)||(t._offset=e._offset),p(e._pf)||(t._pf=h(e)),p(e._locale)||(t._locale=e._locale),cr.length>0)for(n in cr)r=cr[n],i=e[r],p(i)||(t[r]=i);return t}function y(t){g(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),hr===!1&&(hr=!0,n.updateOffset(this),hr=!1)}function v(t){return t instanceof y||null!=t&&null!=t._isAMomentObject}function m(t){return t<0?Math.ceil(t):Math.floor(t)}function b(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=m(e)),n}function x(t,e,n){var r,i=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(r=0;r<i;r++)(n&&t[r]!==e[r]||!n&&b(t[r])!==b(e[r]))&&a++;return a+o}function w(t){n.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function _(t,e){var r=!0;return u(function(){return null!=n.deprecationHandler&&n.deprecationHandler(null,t),r&&(w(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),r=!1),e.apply(this,arguments)},e)}function k(t,e){null!=n.deprecationHandler&&n.deprecationHandler(t,e),fr[t]||(w(e),fr[t]=!0)}function A(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function C(t){return"[object Object]"===Object.prototype.toString.call(t)}function S(t){var e,n;for(n in t)e=t[n],A(e)?this[n]=e:this["_"+n]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function E(t,e){var n,r=u({},t);for(n in e)s(e,n)&&(C(t[n])&&C(e[n])?(r[n]={},u(r[n],t[n]),u(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);return r}function T(t){null!=t&&this.set(t)}function M(t){return t?t.toLowerCase().replace("_","-"):t}function D(t){for(var e,n,r,i,o=0;o<t.length;){for(i=M(t[o]).split("-"),e=i.length,n=M(t[o+1]),n=n?n.split("-"):null;e>0;){if(r=L(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&x(i,n,!0)>=e-1)break;e--}o++}return null}function L(n){var r=null;if(!yr[n]&&"undefined"!=typeof e&&e&&e.exports)try{r=pr._abbr,t("./locale/"+n),F(r)}catch(t){}return yr[n]}function F(t,e){var n;return t&&(n=p(e)?I(t):N(t,e),n&&(pr=n)),pr._abbr}function N(t,e){return null!==e?(e.abbr=t,null!=yr[t]?(k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale"),e=E(yr[t]._config,e)):null!=e.parentLocale&&(null!=yr[e.parentLocale]?e=E(yr[e.parentLocale]._config,e):k("parentLocaleUndefined","specified parentLocale is not defined yet")),yr[t]=new T(e),F(t),yr[t]):(delete yr[t],null)}function O(t,e){if(null!=e){var n;null!=yr[t]&&(e=E(yr[t]._config,e)),n=new T(e),n.parentLocale=yr[t],yr[t]=n,F(t)}else null!=yr[t]&&(null!=yr[t].parentLocale?yr[t]=yr[t].parentLocale:null!=yr[t]&&delete yr[t]);return yr[t]}function I(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return pr;if(!i(t)){if(e=L(t))return e;t=[t]}return D(t)}function B(){return dr(yr)}function P(t,e){var n=t.toLowerCase();vr[n]=vr[n+"s"]=vr[e]=t}function R(t){return"string"==typeof t?vr[t]||vr[t.toLowerCase()]:void 0}function j(t){var e,n,r={};for(n in t)s(t,n)&&(e=R(n),e&&(r[e]=t[n]));return r}function W(t,e){return function(r){return null!=r?($(this,t,r),n.updateOffset(this,e),this):H(this,t)}}function H(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function $(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function q(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else if(t=R(t),A(this[t]))return this[t](e);return this}function z(t,e,n){var r=""+Math.abs(t),i=e-r.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function U(t,e,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),t&&(wr[t]=i),e&&(wr[e[0]]=function(){return z(i.apply(this,arguments),e[1],e[2])}),n&&(wr[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function Y(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function G(t){var e,n,r=t.match(mr);for(e=0,n=r.length;e<n;e++)wr[r[e]]?r[e]=wr[r[e]]:r[e]=Y(r[e]);return function(e){var i,o="";for(i=0;i<n;i++)o+=r[i]instanceof Function?r[i].call(e,t):r[i];return o}}function V(t,e){return t.isValid()?(e=X(e,t.localeData()),xr[e]=xr[e]||G(e),xr[e](t)):t.localeData().invalidDate()}function X(t,e){function n(t){return e.longDateFormat(t)||t}var r=5;for(br.lastIndex=0;r>=0&&br.test(t);)t=t.replace(br,n),br.lastIndex=0,r-=1;return t}function K(t,e,n){jr[t]=A(e)?e:function(t,r){return t&&n?n:e}}function Z(t,e){return s(jr,t)?jr[t](e._strict,e._locale):new RegExp(J(t))}function J(t){return Q(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,r,i){return e||n||r||i}))}function Q(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function tt(t,e){var n,r=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(r=function(t,n){n[e]=b(t)}),n=0;n<t.length;n++)Wr[t[n]]=r}function et(t,e){tt(t,function(t,n,r,i){r._w=r._w||{},e(t,r._w,r,i)})}function nt(t,e,n){null!=e&&s(Wr,t)&&Wr[t](e,n._a,n,t)}function rt(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function it(t,e){return i(this._months)?this._months[t.month()]:this._months[Kr.test(e)?"format":"standalone"][t.month()]}function ot(t,e){return i(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Kr.test(e)?"format":"standalone"][t.month()]}function at(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=l([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?(i=gr.call(this._shortMonthsParse,a),i!==-1?i:null):(i=gr.call(this._longMonthsParse,a),i!==-1?i:null):"MMM"===e?(i=gr.call(this._shortMonthsParse,a),i!==-1?i:(i=gr.call(this._longMonthsParse,a),i!==-1?i:null)):(i=gr.call(this._longMonthsParse,a),i!==-1?i:(i=gr.call(this._shortMonthsParse,a),i!==-1?i:null))}function st(t,e,n){var r,i,o;if(this._monthsParseExact)return at.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=l([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function ut(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=b(e);else if(e=t.localeData().monthsParse(e),"number"!=typeof e)return t;return n=Math.min(t.date(),rt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function lt(t){return null!=t?(ut(this,t),n.updateOffset(this,!0),this):H(this,"Month")}function ct(){return rt(this.year(),this.month())}function ht(t){return this._monthsParseExact?(s(this,"_monthsRegex")||dt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex}function ft(t){return this._monthsParseExact?(s(this,"_monthsRegex")||dt.call(this),t?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex}function dt(){function t(t,e){return e.length-t.length}var e,n,r=[],i=[],o=[];for(e=0;e<12;e++)n=l([2e3,e]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(t),i.sort(t),o.sort(t),e=0;e<12;e++)r[e]=Q(r[e]),i[e]=Q(i[e]),o[e]=Q(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function pt(t){var e,n=t._a;return n&&h(t).overflow===-2&&(e=n[$r]<0||n[$r]>11?$r:n[qr]<1||n[qr]>rt(n[Hr],n[$r])?qr:n[zr]<0||n[zr]>24||24===n[zr]&&(0!==n[Ur]||0!==n[Yr]||0!==n[Gr])?zr:n[Ur]<0||n[Ur]>59?Ur:n[Yr]<0||n[Yr]>59?Yr:n[Gr]<0||n[Gr]>999?Gr:-1,h(t)._overflowDayOfYear&&(e<Hr||e>qr)&&(e=qr),h(t)._overflowWeeks&&e===-1&&(e=Vr),h(t)._overflowWeekday&&e===-1&&(e=Xr),h(t).overflow=e),t}function gt(t){var e,n,r,i,o,a,s=t._i,u=ei.exec(s)||ni.exec(s);if(u){for(h(t).iso=!0,e=0,n=ii.length;e<n;e++)if(ii[e][1].exec(u[1])){i=ii[e][0],r=ii[e][2]!==!1;break}if(null==i)return void(t._isValid=!1);if(u[3]){for(e=0,n=oi.length;e<n;e++)if(oi[e][1].exec(u[3])){o=(u[2]||" ")+oi[e][0];break}if(null==o)return void(t._isValid=!1)}if(!r&&null!=o)return void(t._isValid=!1);if(u[4]){if(!ri.exec(u[4]))return void(t._isValid=!1);a="Z"}t._f=i+(o||"")+(a||""),Dt(t)}else t._isValid=!1}function yt(t){var e=ai.exec(t._i);return null!==e?void(t._d=new Date((+e[1]))):(gt(t),void(t._isValid===!1&&(delete t._isValid,n.createFromInputFallback(t))))}function vt(t,e,n,r,i,o,a){var s=new Date(t,e,n,r,i,o,a);return t<100&&t>=0&&isFinite(s.getFullYear())&&s.setFullYear(t),s}function mt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function bt(t){return xt(t)?366:365}function xt(t){return t%4===0&&t%100!==0||t%400===0}function wt(){return xt(this.year())}function _t(t,e,n){var r=7+e-n,i=(7+mt(t,0,r).getUTCDay()-e)%7;return-i+r-1}function kt(t,e,n,r,i){var o,a,s=(7+n-r)%7,u=_t(t,r,i),l=1+7*(e-1)+s+u;return l<=0?(o=t-1,a=bt(o)+l):l>bt(t)?(o=t+1,a=l-bt(t)):(o=t,a=l),{year:o,dayOfYear:a}}function At(t,e,n){var r,i,o=_t(t.year(),e,n),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return a<1?(i=t.year()-1,r=a+Ct(i,e,n)):a>Ct(t.year(),e,n)?(r=a-Ct(t.year(),e,n),i=t.year()+1):(i=t.year(),r=a),{week:r,year:i}}function Ct(t,e,n){var r=_t(t,e,n),i=_t(t+1,e,n);return(bt(t)-r+i)/7}function St(t,e,n){return null!=t?t:null!=e?e:n}function Et(t){var e=new Date(n.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Tt(t){var e,n,r,i,o=[];if(!t._d){for(r=Et(t),t._w&&null==t._a[qr]&&null==t._a[$r]&&Mt(t),t._dayOfYear&&(i=St(t._a[Hr],r[Hr]),t._dayOfYear>bt(i)&&(h(t)._overflowDayOfYear=!0),n=mt(i,0,t._dayOfYear),t._a[$r]=n.getUTCMonth(),t._a[qr]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=o[e]=r[e];for(;e<7;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[zr]&&0===t._a[Ur]&&0===t._a[Yr]&&0===t._a[Gr]&&(t._nextDay=!0,t._a[zr]=0),t._d=(t._useUTC?mt:vt).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[zr]=24)}}function Mt(t){var e,n,r,i,o,a,s,u;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(o=1,a=4,n=St(e.GG,t._a[Hr],At(Rt(),1,4).year),r=St(e.W,1),i=St(e.E,1),(i<1||i>7)&&(u=!0)):(o=t._locale._week.dow,a=t._locale._week.doy,n=St(e.gg,t._a[Hr],At(Rt(),o,a).year),r=St(e.w,1),null!=e.d?(i=e.d,(i<0||i>6)&&(u=!0)):null!=e.e?(i=e.e+o,(e.e<0||e.e>6)&&(u=!0)):i=o),r<1||r>Ct(n,o,a)?h(t)._overflowWeeks=!0:null!=u?h(t)._overflowWeekday=!0:(s=kt(n,r,i,o,a),t._a[Hr]=s.year,t._dayOfYear=s.dayOfYear)}function Dt(t){if(t._f===n.ISO_8601)return void gt(t);t._a=[],h(t).empty=!0;var e,r,i,o,a,s=""+t._i,u=s.length,l=0;for(i=X(t._f,t._locale).match(mr)||[],e=0;e<i.length;e++)o=i[e],r=(s.match(Z(o,t))||[])[0],r&&(a=s.substr(0,s.indexOf(r)),a.length>0&&h(t).unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),l+=r.length),wr[o]?(r?h(t).empty=!1:h(t).unusedTokens.push(o),nt(o,r,t)):t._strict&&!r&&h(t).unusedTokens.push(o);h(t).charsLeftOver=u-l,s.length>0&&h(t).unusedInput.push(s),h(t).bigHour===!0&&t._a[zr]<=12&&t._a[zr]>0&&(h(t).bigHour=void 0),h(t).parsedDateParts=t._a.slice(0),h(t).meridiem=t._meridiem,t._a[zr]=Lt(t._locale,t._a[zr],t._meridiem),Tt(t),pt(t)}function Lt(t,e,n){var r;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(r=t.isPM(n),r&&e<12&&(e+=12),r||12!==e||(e=0),e):e}function Ft(t){var e,n,r,i,o;if(0===t._f.length)return h(t).invalidFormat=!0,void(t._d=new Date(NaN));for(i=0;i<t._f.length;i++)o=0,e=g({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],Dt(e),f(e)&&(o+=h(e).charsLeftOver,o+=10*h(e).unusedTokens.length,h(e).score=o,(null==r||o<r)&&(r=o,n=e));u(t,n||e)}function Nt(t){if(!t._d){var e=j(t._i);t._a=a([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),Tt(t)}}function Ot(t){var e=new y(pt(It(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function It(t){var e=t._i,n=t._f;return t._locale=t._locale||I(t._l),null===e||void 0===n&&""===e?d({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),v(e)?new y(pt(e)):(i(n)?Ft(t):n?Dt(t):o(e)?t._d=e:Bt(t),f(t)||(t._d=null),t))}function Bt(t){var e=t._i;void 0===e?t._d=new Date(n.now()):o(e)?t._d=new Date(e.valueOf()):"string"==typeof e?yt(t):i(e)?(t._a=a(e.slice(0),function(t){return parseInt(t,10)}),Tt(t)):"object"==typeof e?Nt(t):"number"==typeof e?t._d=new Date(e):n.createFromInputFallback(t)}function Pt(t,e,n,r,i){var o={};return"boolean"==typeof n&&(r=n,n=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=t,o._f=e,o._strict=r,Ot(o)}function Rt(t,e,n,r){return Pt(t,e,n,r,!1)}function jt(t,e){var n,r;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return Rt();for(n=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n}function Wt(){var t=[].slice.call(arguments,0);return jt("isBefore",t)}function Ht(){var t=[].slice.call(arguments,0);return jt("isAfter",t)}function $t(t){var e=j(t),n=e.year||0,r=e.quarter||0,i=e.month||0,o=e.week||0,a=e.day||0,s=e.hour||0,u=e.minute||0,l=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*l+6e4*u+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=I(),this._bubble()}function qt(t){return t instanceof $t}function zt(t,e){U(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+z(~~(t/60),2)+e+z(~~t%60,2)})}function Ut(t,e){var n=(e||"").match(t)||[],r=n[n.length-1]||[],i=(r+"").match(hi)||["-",0,0],o=+(60*i[1])+b(i[2]);return"+"===i[0]?o:-o}function Yt(t,e){var r,i;return e._isUTC?(r=e.clone(),i=(v(t)||o(t)?t.valueOf():Rt(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),n.updateOffset(r,!1),r):Rt(t).local()}function Gt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Vt(t,e){var r,i=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=Ut(Br,t):Math.abs(t)<16&&(t=60*t),!this._isUTC&&e&&(r=Gt(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==t&&(!e||this._changeInProgress?he(this,oe(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:Gt(this):null!=t?this:NaN}function Xt(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Kt(t){return this.utcOffset(0,t)}function Zt(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Gt(this),"m")),this}function Jt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ut(Ir,this._i)),this}function Qt(t){return!!this.isValid()&&(t=t?Rt(t).utcOffset():0,(this.utcOffset()-t)%60===0)}function te(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function ee(){if(!p(this._isDSTShifted))return this._isDSTShifted;var t={};if(g(t,this),t=It(t),t._a){var e=t._isUTC?l(t._a):Rt(t._a);this._isDSTShifted=this.isValid()&&x(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function ne(){return!!this.isValid()&&!this._isUTC}function re(){return!!this.isValid()&&this._isUTC}function ie(){return!!this.isValid()&&this._isUTC&&0===this._offset}function oe(t,e){var n,r,i,o=t,a=null;return qt(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(o={},e?o[e]=t:o.milliseconds=t):(a=fi.exec(t))?(n="-"===a[1]?-1:1,o={y:0,d:b(a[qr])*n,h:b(a[zr])*n,m:b(a[Ur])*n,s:b(a[Yr])*n,ms:b(a[Gr])*n}):(a=di.exec(t))?(n="-"===a[1]?-1:1,o={y:ae(a[2],n),M:ae(a[3],n),w:ae(a[4],n),d:ae(a[5],n),h:ae(a[6],n),m:ae(a[7],n),s:ae(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=ue(Rt(o.from),Rt(o.to)),o={},o.ms=i.milliseconds,o.M=i.months),r=new $t(o),qt(t)&&s(t,"_locale")&&(r._locale=t._locale),r}function ae(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function se(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function ue(t,e){var n;return t.isValid()&&e.isValid()?(e=Yt(e,t),t.isBefore(e)?n=se(t,e):(n=se(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function le(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function ce(t,e){return function(n,r){var i,o;return null===r||isNaN(+r)||(k(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=oe(n,r),he(this,i,t),this}}function he(t,e,r,i){var o=e._milliseconds,a=le(e._days),s=le(e._months);t.isValid()&&(i=null==i||i,o&&t._d.setTime(t._d.valueOf()+o*r),a&&$(t,"Date",H(t,"Date")+a*r),s&&ut(t,H(t,"Month")+s*r),i&&n.updateOffset(t,a||s))}function fe(t,e){var n=t||Rt(),r=Yt(n,this).startOf("day"),i=this.diff(r,"days",!0),o=i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse",a=e&&(A(e[o])?e[o]():e[o]);return this.format(a||this.localeData().calendar(o,this,Rt(n)))}function de(){return new y(this)}function pe(t,e){var n=v(t)?t:Rt(t);return!(!this.isValid()||!n.isValid())&&(e=R(p(e)?"millisecond":e),"millisecond"===e?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function ge(t,e){var n=v(t)?t:Rt(t);return!(!this.isValid()||!n.isValid())&&(e=R(p(e)?"millisecond":e),"millisecond"===e?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function ye(t,e,n,r){return r=r||"()",("("===r[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===r[1]?this.isBefore(e,n):!this.isAfter(e,n))}function ve(t,e){var n,r=v(t)?t:Rt(t);return!(!this.isValid()||!r.isValid())&&(e=R(e||"millisecond"),"millisecond"===e?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function me(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function be(t,e){return this.isSame(t,e)||this.isBefore(t,e);
}function xe(t,e,n){var r,i,o,a;return this.isValid()?(r=Yt(t,this),r.isValid()?(i=6e4*(r.utcOffset()-this.utcOffset()),e=R(e),"year"===e||"month"===e||"quarter"===e?(a=we(this,r),"quarter"===e?a/=3:"year"===e&&(a/=12)):(o=this-r,a="second"===e?o/1e3:"minute"===e?o/6e4:"hour"===e?o/36e5:"day"===e?(o-i)/864e5:"week"===e?(o-i)/6048e5:o),n?a:m(a)):NaN):NaN}function we(t,e){var n,r,i=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(i,"months");return e-o<0?(n=t.clone().add(i-1,"months"),r=(e-o)/(o-n)):(n=t.clone().add(i+1,"months"),r=(e-o)/(n-o)),-(i+r)||0}function _e(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ke(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?A(Date.prototype.toISOString)?this.toDate().toISOString():V(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):V(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function Ae(t){t||(t=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var e=V(this,t);return this.localeData().postformat(e)}function Ce(t,e){return this.isValid()&&(v(t)&&t.isValid()||Rt(t).isValid())?oe({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Se(t){return this.from(Rt(),t)}function Ee(t,e){return this.isValid()&&(v(t)&&t.isValid()||Rt(t).isValid())?oe({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Te(t){return this.to(Rt(),t)}function Me(t){var e;return void 0===t?this._locale._abbr:(e=I(t),null!=e&&(this._locale=e),this)}function De(){return this._locale}function Le(t){switch(t=R(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function Fe(t){return t=R(t),void 0===t||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function Ne(){return this._d.valueOf()-6e4*(this._offset||0)}function Oe(){return Math.floor(this.valueOf()/1e3)}function Ie(){return this._offset?new Date(this.valueOf()):this._d}function Be(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Pe(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Re(){return this.isValid()?this.toISOString():null}function je(){return f(this)}function We(){return u({},h(this))}function He(){return h(this).overflow}function $e(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function qe(t,e){U(0,[t,t.length],0,e)}function ze(t){return Ve.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Ue(t){return Ve.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Ye(){return Ct(this.year(),1,4)}function Ge(){var t=this.localeData()._week;return Ct(this.year(),t.dow,t.doy)}function Ve(t,e,n,r,i){var o;return null==t?At(this,r,i).year:(o=Ct(t,r,i),e>o&&(e=o),Xe.call(this,t,e,n,r,i))}function Xe(t,e,n,r,i){var o=kt(t,e,n,r,i),a=mt(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Ke(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Ze(t){return At(t,this._week.dow,this._week.doy).week}function Je(){return this._week.dow}function Qe(){return this._week.doy}function tn(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function en(t){var e=At(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function nn(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function rn(t,e){return i(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]}function on(t){return this._weekdaysShort[t.day()]}function an(t){return this._weekdaysMin[t.day()]}function sn(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=l([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?(i=gr.call(this._weekdaysParse,a),i!==-1?i:null):"ddd"===e?(i=gr.call(this._shortWeekdaysParse,a),i!==-1?i:null):(i=gr.call(this._minWeekdaysParse,a),i!==-1?i:null):"dddd"===e?(i=gr.call(this._weekdaysParse,a),i!==-1?i:(i=gr.call(this._shortWeekdaysParse,a),i!==-1?i:(i=gr.call(this._minWeekdaysParse,a),i!==-1?i:null))):"ddd"===e?(i=gr.call(this._shortWeekdaysParse,a),i!==-1?i:(i=gr.call(this._weekdaysParse,a),i!==-1?i:(i=gr.call(this._minWeekdaysParse,a),i!==-1?i:null))):(i=gr.call(this._minWeekdaysParse,a),i!==-1?i:(i=gr.call(this._weekdaysParse,a),i!==-1?i:(i=gr.call(this._shortWeekdaysParse,a),i!==-1?i:null)))}function un(t,e,n){var r,i,o;if(this._weekdaysParseExact)return sn.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=l([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function ln(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=nn(t,this.localeData()),this.add(t-e,"d")):e}function cn(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function hn(t){return this.isValid()?null==t?this.day()||7:this.day(this.day()%7?t:t-7):null!=t?this:NaN}function fn(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||gn.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex}function dn(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||gn.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}function pn(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||gn.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}function gn(){function t(t,e){return e.length-t.length}var e,n,r,i,o,a=[],s=[],u=[],c=[];for(e=0;e<7;e++)n=l([2e3,1]).day(e),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),u.push(o),c.push(r),c.push(i),c.push(o);for(a.sort(t),s.sort(t),u.sort(t),c.sort(t),e=0;e<7;e++)s[e]=Q(s[e]),u[e]=Q(u[e]),c[e]=Q(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function yn(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function vn(){return this.hours()%12||12}function mn(){return this.hours()||24}function bn(t,e){U(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function xn(t,e){return e._meridiemParse}function wn(t){return"p"===(t+"").toLowerCase().charAt(0)}function _n(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function kn(t,e){e[Gr]=b(1e3*("0."+t))}function An(){return this._isUTC?"UTC":""}function Cn(){return this._isUTC?"Coordinated Universal Time":""}function Sn(t){return Rt(1e3*t)}function En(){return Rt.apply(null,arguments).parseZone()}function Tn(t,e,n){var r=this._calendar[t];return A(r)?r.call(e,n):r}function Mn(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function Dn(){return this._invalidDate}function Ln(t){return this._ordinal.replace("%d",t)}function Fn(t){return t}function Nn(t,e,n,r){var i=this._relativeTime[n];return A(i)?i(t,e,n,r):i.replace(/%d/i,t)}function On(t,e){var n=this._relativeTime[t>0?"future":"past"];return A(n)?n(e):n.replace(/%s/i,e)}function In(t,e,n,r){var i=I(),o=l().set(r,e);return i[n](o,t)}function Bn(t,e,n){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return In(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=In(t,r,n,"month");return i}function Pn(t,e,n,r){"boolean"==typeof t?("number"==typeof e&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,"number"==typeof e&&(n=e,e=void 0),e=e||"");var i=I(),o=t?i._week.dow:0;if(null!=n)return In(e,(n+o)%7,r,"day");var a,s=[];for(a=0;a<7;a++)s[a]=In(e,(a+o)%7,r,"day");return s}function Rn(t,e){return Bn(t,e,"months")}function jn(t,e){return Bn(t,e,"monthsShort")}function Wn(t,e,n){return Pn(t,e,n,"weekdays")}function Hn(t,e,n){return Pn(t,e,n,"weekdaysShort")}function $n(t,e,n){return Pn(t,e,n,"weekdaysMin")}function qn(){var t=this._data;return this._milliseconds=Wi(this._milliseconds),this._days=Wi(this._days),this._months=Wi(this._months),t.milliseconds=Wi(t.milliseconds),t.seconds=Wi(t.seconds),t.minutes=Wi(t.minutes),t.hours=Wi(t.hours),t.months=Wi(t.months),t.years=Wi(t.years),this}function zn(t,e,n,r){var i=oe(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function Un(t,e){return zn(this,t,e,1)}function Yn(t,e){return zn(this,t,e,-1)}function Gn(t){return t<0?Math.floor(t):Math.ceil(t)}function Vn(){var t,e,n,r,i,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*Gn(Kn(s)+a),a=0,s=0),u.milliseconds=o%1e3,t=m(o/1e3),u.seconds=t%60,e=m(t/60),u.minutes=e%60,n=m(e/60),u.hours=n%24,a+=m(n/24),i=m(Xn(a)),s+=i,a-=Gn(Kn(i)),r=m(s/12),s%=12,u.days=a,u.months=s,u.years=r,this}function Xn(t){return 4800*t/146097}function Kn(t){return 146097*t/4800}function Zn(t){var e,n,r=this._milliseconds;if(t=R(t),"month"===t||"year"===t)return e=this._days+r/864e5,n=this._months+Xn(e),"month"===t?n:n/12;switch(e=this._days+Math.round(Kn(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}}function Jn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*b(this._months/12)}function Qn(t){return function(){return this.as(t)}}function tr(t){return t=R(t),this[t+"s"]()}function er(t){return function(){return this._data[t]}}function nr(){return m(this.days()/7)}function rr(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function ir(t,e,n){var r=oe(t).abs(),i=no(r.as("s")),o=no(r.as("m")),a=no(r.as("h")),s=no(r.as("d")),u=no(r.as("M")),l=no(r.as("y")),c=i<ro.s&&["s",i]||o<=1&&["m"]||o<ro.m&&["mm",o]||a<=1&&["h"]||a<ro.h&&["hh",a]||s<=1&&["d"]||s<ro.d&&["dd",s]||u<=1&&["M"]||u<ro.M&&["MM",u]||l<=1&&["y"]||["yy",l];return c[2]=e,c[3]=+t>0,c[4]=n,rr.apply(null,c)}function or(t,e){return void 0!==ro[t]&&(void 0===e?ro[t]:(ro[t]=e,!0))}function ar(t){var e=this.localeData(),n=ir(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function sr(){var t,e,n,r=io(this._milliseconds)/1e3,i=io(this._days),o=io(this._months);t=m(r/60),e=m(t/60),r%=60,t%=60,n=m(o/12),o%=12;var a=n,s=o,u=i,l=e,c=t,h=r,f=this.asSeconds();return f?(f<0?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(u?u+"D":"")+(l||c||h?"T":"")+(l?l+"H":"")+(c?c+"M":"")+(h?h+"S":""):"P0D"}var ur,lr;lr=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};var cr=n.momentProperties=[],hr=!1,fr={};n.suppressDeprecationWarnings=!1,n.deprecationHandler=null;var dr;dr=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)s(t,e)&&n.push(e);return n};var pr,gr,yr={},vr={},mr=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,br=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,xr={},wr={},_r=/\d/,kr=/\d\d/,Ar=/\d{3}/,Cr=/\d{4}/,Sr=/[+-]?\d{6}/,Er=/\d\d?/,Tr=/\d\d\d\d?/,Mr=/\d\d\d\d\d\d?/,Dr=/\d{1,3}/,Lr=/\d{1,4}/,Fr=/[+-]?\d{1,6}/,Nr=/\d+/,Or=/[+-]?\d+/,Ir=/Z|[+-]\d\d:?\d\d/gi,Br=/Z|[+-]\d\d(?::?\d\d)?/gi,Pr=/[+-]?\d+(\.\d{1,3})?/,Rr=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,jr={},Wr={},Hr=0,$r=1,qr=2,zr=3,Ur=4,Yr=5,Gr=6,Vr=7,Xr=8;gr=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},U("M",["MM",2],"Mo",function(){return this.month()+1}),U("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),U("MMMM",0,0,function(t){return this.localeData().months(this,t)}),P("month","M"),K("M",Er),K("MM",Er,kr),K("MMM",function(t,e){return e.monthsShortRegex(t)}),K("MMMM",function(t,e){return e.monthsRegex(t)}),tt(["M","MM"],function(t,e){e[$r]=b(t)-1}),tt(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);null!=i?e[$r]=i:h(n).invalidMonth=t});var Kr=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Zr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Jr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Qr=Rr,ti=Rr,ei=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ni=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ri=/Z|[+-]\d\d(?::?\d\d)?/,ii=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],oi=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ai=/^\/?Date\((\-?\d+)/i;n.createFromInputFallback=_("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),U("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),U(0,["YY",2],0,function(){return this.year()%100}),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),P("year","y"),K("Y",Or),K("YY",Er,kr),K("YYYY",Lr,Cr),K("YYYYY",Fr,Sr),K("YYYYYY",Fr,Sr),tt(["YYYYY","YYYYYY"],Hr),tt("YYYY",function(t,e){e[Hr]=2===t.length?n.parseTwoDigitYear(t):b(t)}),tt("YY",function(t,e){e[Hr]=n.parseTwoDigitYear(t)}),tt("Y",function(t,e){e[Hr]=parseInt(t,10)}),n.parseTwoDigitYear=function(t){return b(t)+(b(t)>68?1900:2e3)};var si=W("FullYear",!0);n.ISO_8601=function(){};var ui=_("moment().min is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=Rt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:d()}),li=_("moment().max is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=Rt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:d()}),ci=function(){return Date.now?Date.now():+new Date};zt("Z",":"),zt("ZZ",""),K("Z",Br),K("ZZ",Br),tt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Ut(Br,t)});var hi=/([\+\-]|\d\d)/gi;n.updateOffset=function(){};var fi=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,di=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;oe.fn=$t.prototype;var pi=ce(1,"add"),gi=ce(-1,"subtract");n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var yi=_("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});U(0,["gg",2],0,function(){return this.weekYear()%100}),U(0,["GG",2],0,function(){return this.isoWeekYear()%100}),qe("gggg","weekYear"),qe("ggggg","weekYear"),qe("GGGG","isoWeekYear"),qe("GGGGG","isoWeekYear"),P("weekYear","gg"),P("isoWeekYear","GG"),K("G",Or),K("g",Or),K("GG",Er,kr),K("gg",Er,kr),K("GGGG",Lr,Cr),K("gggg",Lr,Cr),K("GGGGG",Fr,Sr),K("ggggg",Fr,Sr),et(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=b(t)}),et(["gg","GG"],function(t,e,r,i){e[i]=n.parseTwoDigitYear(t)}),U("Q",0,"Qo","quarter"),P("quarter","Q"),K("Q",_r),tt("Q",function(t,e){e[$r]=3*(b(t)-1)}),U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),P("week","w"),P("isoWeek","W"),K("w",Er),K("ww",Er,kr),K("W",Er),K("WW",Er,kr),et(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=b(t)});var vi={dow:0,doy:6};U("D",["DD",2],"Do","date"),P("date","D"),K("D",Er),K("DD",Er,kr),K("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),tt(["D","DD"],qr),tt("Do",function(t,e){e[qr]=b(t.match(Er)[0],10)});var mi=W("Date",!0);U("d",0,"do","day"),U("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),U("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),U("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),P("day","d"),P("weekday","e"),P("isoWeekday","E"),K("d",Er),K("e",Er),K("E",Er),K("dd",function(t,e){return e.weekdaysMinRegex(t)}),K("ddd",function(t,e){return e.weekdaysShortRegex(t)}),K("dddd",function(t,e){return e.weekdaysRegex(t)}),et(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);null!=i?e.d=i:h(n).invalidWeekday=t}),et(["d","e","E"],function(t,e,n,r){e[r]=b(t)});var bi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),xi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),wi="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),_i=Rr,ki=Rr,Ai=Rr;U("DDD",["DDDD",3],"DDDo","dayOfYear"),P("dayOfYear","DDD"),K("DDD",Dr),K("DDDD",Ar),tt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=b(t)}),U("H",["HH",2],0,"hour"),U("h",["hh",2],0,vn),U("k",["kk",2],0,mn),U("hmm",0,0,function(){return""+vn.apply(this)+z(this.minutes(),2)}),U("hmmss",0,0,function(){return""+vn.apply(this)+z(this.minutes(),2)+z(this.seconds(),2)}),U("Hmm",0,0,function(){return""+this.hours()+z(this.minutes(),2)}),U("Hmmss",0,0,function(){return""+this.hours()+z(this.minutes(),2)+z(this.seconds(),2)}),bn("a",!0),bn("A",!1),P("hour","h"),K("a",xn),K("A",xn),K("H",Er),K("h",Er),K("HH",Er,kr),K("hh",Er,kr),K("hmm",Tr),K("hmmss",Mr),K("Hmm",Tr),K("Hmmss",Mr),tt(["H","HH"],zr),tt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),tt(["h","hh"],function(t,e,n){e[zr]=b(t),h(n).bigHour=!0}),tt("hmm",function(t,e,n){var r=t.length-2;e[zr]=b(t.substr(0,r)),e[Ur]=b(t.substr(r)),h(n).bigHour=!0}),tt("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[zr]=b(t.substr(0,r)),e[Ur]=b(t.substr(r,2)),e[Yr]=b(t.substr(i)),h(n).bigHour=!0}),tt("Hmm",function(t,e,n){var r=t.length-2;e[zr]=b(t.substr(0,r)),e[Ur]=b(t.substr(r))}),tt("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[zr]=b(t.substr(0,r)),e[Ur]=b(t.substr(r,2)),e[Yr]=b(t.substr(i))});var Ci=/[ap]\.?m?\.?/i,Si=W("Hours",!0);U("m",["mm",2],0,"minute"),P("minute","m"),K("m",Er),K("mm",Er,kr),tt(["m","mm"],Ur);var Ei=W("Minutes",!1);U("s",["ss",2],0,"second"),P("second","s"),K("s",Er),K("ss",Er,kr),tt(["s","ss"],Yr);var Ti=W("Seconds",!1);U("S",0,0,function(){return~~(this.millisecond()/100)}),U(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,function(){return 10*this.millisecond()}),U(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),U(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),U(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),U(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),U(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),P("millisecond","ms"),K("S",Dr,_r),K("SS",Dr,kr),K("SSS",Dr,Ar);var Mi;for(Mi="SSSS";Mi.length<=9;Mi+="S")K(Mi,Nr);for(Mi="S";Mi.length<=9;Mi+="S")tt(Mi,kn);var Di=W("Milliseconds",!1);U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var Li=y.prototype;Li.add=pi,Li.calendar=fe,Li.clone=de,Li.diff=xe,Li.endOf=Fe,Li.format=Ae,Li.from=Ce,Li.fromNow=Se,Li.to=Ee,Li.toNow=Te,Li.get=q,Li.invalidAt=He,Li.isAfter=pe,Li.isBefore=ge,Li.isBetween=ye,Li.isSame=ve,Li.isSameOrAfter=me,Li.isSameOrBefore=be,Li.isValid=je,Li.lang=yi,Li.locale=Me,Li.localeData=De,Li.max=li,Li.min=ui,Li.parsingFlags=We,Li.set=q,Li.startOf=Le,Li.subtract=gi,Li.toArray=Be,Li.toObject=Pe,Li.toDate=Ie,Li.toISOString=ke,Li.toJSON=Re,Li.toString=_e,Li.unix=Oe,Li.valueOf=Ne,Li.creationData=$e,Li.year=si,Li.isLeapYear=wt,Li.weekYear=ze,Li.isoWeekYear=Ue,Li.quarter=Li.quarters=Ke,Li.month=lt,Li.daysInMonth=ct,Li.week=Li.weeks=tn,Li.isoWeek=Li.isoWeeks=en,Li.weeksInYear=Ge,Li.isoWeeksInYear=Ye,Li.date=mi,Li.day=Li.days=ln,Li.weekday=cn,Li.isoWeekday=hn,Li.dayOfYear=yn,Li.hour=Li.hours=Si,Li.minute=Li.minutes=Ei,Li.second=Li.seconds=Ti,Li.millisecond=Li.milliseconds=Di,Li.utcOffset=Vt,Li.utc=Kt,Li.local=Zt,Li.parseZone=Jt,Li.hasAlignedHourOffset=Qt,Li.isDST=te,Li.isDSTShifted=ee,Li.isLocal=ne,Li.isUtcOffset=re,Li.isUtc=ie,Li.isUTC=ie,Li.zoneAbbr=An,Li.zoneName=Cn,Li.dates=_("dates accessor is deprecated. Use date instead.",mi),Li.months=_("months accessor is deprecated. Use month instead",lt),Li.years=_("years accessor is deprecated. Use year instead",si),Li.zone=_("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Xt);var Fi=Li,Ni={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Oi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ii="Invalid date",Bi="%d",Pi=/\d{1,2}/,Ri={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ji=T.prototype;ji._calendar=Ni,ji.calendar=Tn,ji._longDateFormat=Oi,ji.longDateFormat=Mn,ji._invalidDate=Ii,ji.invalidDate=Dn,ji._ordinal=Bi,ji.ordinal=Ln,ji._ordinalParse=Pi,ji.preparse=Fn,ji.postformat=Fn,ji._relativeTime=Ri,ji.relativeTime=Nn,ji.pastFuture=On,ji.set=S,ji.months=it,ji._months=Zr,ji.monthsShort=ot,ji._monthsShort=Jr,ji.monthsParse=st,ji._monthsRegex=ti,ji.monthsRegex=ft,ji._monthsShortRegex=Qr,ji.monthsShortRegex=ht,ji.week=Ze,ji._week=vi,ji.firstDayOfYear=Qe,ji.firstDayOfWeek=Je,ji.weekdays=rn,ji._weekdays=bi,ji.weekdaysMin=an,ji._weekdaysMin=wi,ji.weekdaysShort=on,ji._weekdaysShort=xi,ji.weekdaysParse=un,ji._weekdaysRegex=_i,ji.weekdaysRegex=fn,ji._weekdaysShortRegex=ki,ji.weekdaysShortRegex=dn,ji._weekdaysMinRegex=Ai,ji.weekdaysMinRegex=pn,ji.isPM=wn,ji._meridiemParse=Ci,ji.meridiem=_n,F("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===b(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),n.lang=_("moment.lang is deprecated. Use moment.locale instead.",F),n.langData=_("moment.langData is deprecated. Use moment.localeData instead.",I);var Wi=Math.abs,Hi=Qn("ms"),$i=Qn("s"),qi=Qn("m"),zi=Qn("h"),Ui=Qn("d"),Yi=Qn("w"),Gi=Qn("M"),Vi=Qn("y"),Xi=er("milliseconds"),Ki=er("seconds"),Zi=er("minutes"),Ji=er("hours"),Qi=er("days"),to=er("months"),eo=er("years"),no=Math.round,ro={s:45,m:45,h:22,d:26,M:11},io=Math.abs,oo=$t.prototype;oo.abs=qn,oo.add=Un,oo.subtract=Yn,oo.as=Zn,oo.asMilliseconds=Hi,oo.asSeconds=$i,oo.asMinutes=qi,oo.asHours=zi,oo.asDays=Ui,oo.asWeeks=Yi,oo.asMonths=Gi,oo.asYears=Vi,oo.valueOf=Jn,oo._bubble=Vn,oo.get=tr,oo.milliseconds=Xi,oo.seconds=Ki,oo.minutes=Zi,oo.hours=Ji,oo.days=Qi,oo.weeks=nr,oo.months=to,oo.years=eo,oo.humanize=ar,oo.toISOString=sr,oo.toString=sr,oo.toJSON=sr,oo.locale=Me,oo.localeData=De,oo.toIsoString=_("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",sr),oo.lang=yi,U("X",0,0,"unix"),U("x",0,0,"valueOf"),K("x",Or),K("X",Pr),tt("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),tt("x",function(t,e,n){n._d=new Date(b(t))}),n.version="2.13.0",r(Rt),n.fn=Fi,n.min=Wt,n.max=Ht,n.now=ci,n.utc=l,n.unix=Sn,n.months=Rn,n.isDate=o,n.locale=F,n.invalid=d,n.duration=oe,n.isMoment=v,n.weekdays=Wn,n.parseZone=En,n.localeData=I,n.isDuration=qt,n.monthsShort=jn,n.weekdaysMin=$n,n.defineLocale=N,n.updateLocale=O,n.locales=B,n.weekdaysShort=Hn,n.normalizeUnits=R,n.relativeTimeThreshold=or,n.prototype=Fi;var ao=n;return ao})},{}],107:[function(t,e,n){e.exports={name:"mermaid",version:"6.0.0",description:"Markdownish syntax for generating flowcharts, sequence diagrams, class diagrams and gantt charts.",main:"src/mermaid.js",keywords:["diagram","markdown","flowchart","sequence diagram","gantt"],bin:{mermaid:"./bin/mermaid.js"},scripts:{live:"live-server ./test/examples",lint:"node node_modules/eslint/bin/eslint.js src",jison:"gulp jison_legacy",karma:"node node_modules/karma/bin/karma start karma.conf.js --single-run",watch:"source  ./scripts/watch.sh",doc:"rm -r build;rm -r dist/www;gulp vartree;cp dist/www/all.html ../mermaid-pages/index.html;cp dist/mermaid.js ../mermaid-pages/javascripts/lib;cp dist/mermaid.forest.css ../mermaid-pages/stylesheets",tape:"node node_modules/tape/bin/tape test/cli_test-*.js",jasmine:"npm run jison &&node node_modules/jasmine-es6/bin/jasmine.js",pretest:"npm run jison",test:"npm run dist && npm run karma && npm run tape","dist-slim-mermaid":"node node_modules/browserify/bin/cmd.js src/mermaid.js  -t babelify  -s mermaid    -o dist/mermaid.slim.js    -x d3   && cat dist/mermaid.slim.js    | node node_modules/uglifyjs/bin/uglifyjs -mc > dist/mermaid.slim.min.js","dist-slim-mermaidAPI":"node node_modules/browserify/bin/cmd.js src/mermaidAPI.js -t babelify -s mermaidAPI -o dist/mermaidAPI.slim.js -x d3 && cat dist/mermaidAPI.slim.js | node node_modules/uglifyjs/bin/uglifyjs -mc > dist/mermaidAPI.slim.min.js","dist-mermaid":"node node_modules/browserify/bin/cmd.js src/mermaid.js  -t babelify  -s mermaid    -o dist/mermaid.js         && cat dist/mermaid.js         | node node_modules/uglifyjs/bin/uglifyjs -mc > dist/mermaid.min.js","dist-mermaid-nomin":"node node_modules/browserify/bin/cmd.js src/mermaid.js  -t babelify  -s mermaid    -o dist/mermaid.js && node bin/mermaid -v -s testgitgraph.mm && testgitgraph.mm.svg","dist-mermaidAPI":"node node_modules/browserify/bin/cmd.js src/mermaidAPI.js -t babelify -s mermaidAPI -o dist/mermaidAPI.js      && cat dist/mermaidAPI.js      | node node_modules/uglifyjs/bin/uglifyjs -mc > dist/mermaidAPI.min.js",dist:"npm run dist-slim-mermaid && npm run dist-slim-mermaidAPI && npm run dist-mermaid && npm run dist-mermaidAPI"},repository:{type:"git",url:"https://github.com/knsv/mermaid"},author:"Knut Sveidqvist",license:"MIT",dependencies:{chalk:"^0.5.1",d3:"3.5.6",dagre:"^0.7.4","dagre-d3":"0.4.10",he:"^0.5.0",lodash:"^4.6.1",minimist:"^1.1.0",mkdirp:"^0.5.0",moment:"^2.9.0",semver:"^4.1.1",which:"^1.0.8"},devDependencies:{async:"^0.9.0","babel-eslint":"^4.1.3",babelify:"^6.4.0",browserify:"~6.2.0",clone:"^0.2.0","codeclimate-test-reporter":"0.0.4",dateformat:"^1.0.11",dox:"^0.8.0",eslint:"^1.6.0","eslint-watch":"^2.1.2","event-stream":"^3.2.0",foundation:"^4.2.1-1","front-matter":"^0.2.0",gulp:"~3.9.0","gulp-bower":"0.0.10","gulp-browserify":"^0.5.0","gulp-bump":"^0.1.11","gulp-concat":"~2.4.1","gulp-data":"^1.1.1","gulp-dox":"^0.1.6","gulp-ext-replace":"^0.2.0","gulp-filelog":"^0.4.1","gulp-front-matter":"^1.2.3","gulp-hogan":"^1.1.0","gulp-if":"^1.2.5","gulp-insert":"^0.4.0","gulp-istanbul":"^0.4.0","gulp-jasmine":"~2.1.0","gulp-jasmine-browser":"^0.2.3","gulp-jison":"~1.2.0","gulp-jshint":"^1.9.0","gulp-less":"^3.0.1","gulp-livereload":"^3.8.0","gulp-marked":"^1.0.0","gulp-mdvars":"^2.0.0","gulp-qunit":"~1.2.1","gulp-rename":"~1.2.0","gulp-shell":"^0.2.10","gulp-tag-version":"^1.2.1","gulp-uglify":"~1.0.1","gulp-util":"^3.0.7","gulp-vartree":"^2.0.1","hogan.js":"^3.0.2",jasmine:"2.3.2","jasmine-es6":"0.0.18",jison:"zaach/jison",jsdom:"^7.0.2","jshint-stylish":"^2.0.1",karma:"^0.13.15","karma-babel-preprocessor":"^6.0.1","karma-browserify":"^4.4.0","karma-jasmine":"^0.3.6","karma-phantomjs-launcher":"^0.2.1","live-server":"^0.9.0","map-stream":"0.0.6",marked:"^0.3.2","mock-browser":"^0.91.34",path:"^0.4.9",phantomjs:"^2.1.3",proxyquire:"^1.7.3","proxyquire-universal":"^1.0.8",proxyquireify:"^3.0.0","require-dir":"^0.3.0",rewire:"^2.1.3",rimraf:"^2.2.8",tape:"^3.0.3",testdom:"^2.0.0",uglifyjs:"^2.4.10","vinyl-source-stream":"^1.1.0",watchify:"^3.6.1"}}},{}],108:[function(t,e,n){"use strict";var r;if(t)try{r=t("d3")}catch(t){}r||(r=window.d3),e.exports=r,function(){var t=!1;if(t="tspans",r.selection.prototype.textwrap)return!1;if("undefined"==typeof t)var t=!1;r.selection.prototype.textwrap=r.selection.enter.prototype.textwrap=function(e,n){var i,n=parseInt(n)||0,o=this,a=function(t){var e=t[0][0],n=e.tagName.toString();if("rect"!==n)return!1;var i={};return i.x=r.select(e).attr("x")||0,i.y=r.select(e).attr("y")||0,i.width=r.select(e).attr("width")||0,i.height=r.select(e).attr("height")||0,i.attr=t.attr,i},s=function(t){if(t.attr||(t.attr=function(t){if(this[t])return this[t]}),"object"==typeof t&&"undefined"!=typeof t.x&&"undefined"!=typeof t.y&&"undefined"!=typeof t.width&&"undefined"!=typeof t.height)return t;if("function"==typeof Array.isArray&&Array.isArray(t)||"[object Array]"===Object.prototype.toString.call(t)){var e=a(t);return e}return!1},u=function(t,e){var n=t;return 0!==e&&(n.x=parseInt(n.x)+e,n.y=parseInt(n.y)+e,n.width-=2*e,n.height-=2*e),n},l=s(e);if(n&&(l=u(l,n)),0!=o.length&&r&&e&&l){e=l;var c,h=function(t){var n=r.select(t[0].parentNode),o=n.select("text"),a=o.style("line-height"),s=o.text();o.remove();var u=n.append("foreignObject");u.attr("requiredFeatures","http://www.w3.org/TR/SVG11/feature#Extensibility").attr("x",e.x).attr("y",e.y).attr("width",e.width).attr("height",e.height);var l=u.append("xhtml:div").attr("class","wrapped");l.style("height",e.height).style("width",e.width).html(s),a&&l.style("line-height",a),i=n.select("foreignObject")},f=function(t){var o,a=t[0],s=a.parentNode,u=r.select(a),l=a.getBBox().height,c=a.getBBox().width,h=l,f=u.style("line-height");if(o=f&&parseInt(f)?parseInt(f.replace("px","")):h,c>e.width){var d=u.text();if(u.text(""),d){var p,g;if(d.indexOf(" ")!==-1){var p=" ";g=d.split(" ")}else{p="";var y=d.length,v=Math.ceil(c/e.width),m=Math.floor(y/v);
m*v>=y||v++;for(var b,x,g=[],w=0;w<v;w++)x=w*m,b=d.substr(x,m),g.push(b)}for(var _=[],k=0,A={},w=0;w<g.length;w++){var C,S=g[w],E=u.text(),T=a.getComputedTextLength();C=E?E+p+S:S,u.text(C);var M=a.getComputedTextLength();if(M>e.width&&E&&""!==E&&(k+=T,A={string:E,width:T,offset:k},_.push(A),u.text(""),u.text(S),w==g.length-1&&(C=S,u.text(C),M=a.getComputedTextLength())),w==g.length-1){u.text("");var D=C;D&&""!==D&&(M-k>0&&(M-=k),A={string:D,width:M,offset:k},_.push(A))}}var L;u.text("");for(var w=0;w<_.length;w++){var b=_[w].string;w>0&&_[w-1],w*o<e.height-1.5*o&&(L=u.append("tspan").text(b),L.attr("dy",function(t){if(w>0)return o}),L.attr("x",function(){var t=e.x;return n&&(t+=n),t}))}}}u.attr("y",function(){var t=e.y;return o&&(t+=o),n&&(t+=n),t}),u.attr("x",function(){var t=e.x;return n&&(t+=n),t}),i=r.select(s).selectAll("text")};t&&("foreignobjects"==t?c=h:"tspans"==t&&(c=f)),t||(c="undefined"!=typeof SVGForeignObjectElement?h:f);for(var d=0;d<o.length;d++){var p=o[d];c(p)}return i}return!!o&&o}}()},{d3:4}],109:[function(t,e,n){"use strict";var r,i=t("../../logger"),o=new i.Log,a=[];r={},n.addClass=function(t){"undefined"==typeof r[t]&&(r[t]={id:t,methods:[],members:[]})},n.clear=function(){a=[],r={}},e.exports.getClass=function(t){return r[t]},e.exports.getClasses=function(){return r},e.exports.getRelations=function(){return a},n.addRelation=function(t){o.warn("Adding relation: "+JSON.stringify(t)),n.addClass(t.id1),n.addClass(t.id2),a.push(t)},n.addMembers=function(t,e){var n=r[t];"string"==typeof e&&(")"===e.substr(-1)?n.methods.push(e):n.members.push(e))},n.cleanupLabel=function(t){return":"===t.substring(0,1)?t.substr(2).trim():t.trim()},n.lineType={LINE:0,DOTTED_LINE:1},n.relationType={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3}},{"../../logger":130}],110:[function(t,e,n){"use strict";var r=t("./parser/classDiagram").parser,i=t("./classDb");r.yy=i;var o,a=t("../../d3"),s=t("../../logger"),u=t("dagre"),l=new s.Log;o={};var c=0,h={dividerMargin:10,padding:5,textHeight:14},f=function(t){var e,n=Object.keys(o);for(e=0;e<n.length;e++)if(o[n[e]].label===t)return n[e]},d=function(t){t.append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),t.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},p=0,g=function(t,e,n){var r=function(t){switch(t){case i.relationType.AGGREGATION:return"aggregation";case i.relationType.EXTENSION:return"extension";case i.relationType.COMPOSITION:return"composition";case i.relationType.DEPENDENCY:return"dependency"}},o=e.points,s=a.svg.line().x(function(t){return t.x}).y(function(t){return t.y}).interpolate("basis"),u=t.append("path").attr("d",s(o)).attr("id","edge"+p).attr("class","relation"),l="";h.arrowMarkerAbsolute&&(l=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,l=l.replace(/\(/g,"\\("),l=l.replace(/\)/g,"\\)")),"none"!==n.relation.type1&&u.attr("marker-start","url("+l+"#"+r(n.relation.type1)+"Start)"),"none"!==n.relation.type2&&u.attr("marker-end","url("+l+"#"+r(n.relation.type2)+"End)");var c,f,d=e.points.length;if(d%2!==0){var g=e.points[Math.floor(d/2)],y=e.points[Math.ceil(d/2)];c=(g.x+y.x)/2,f=(g.y+y.y)/2}else{var v=e.points[Math.floor(d/2)];c=v.x,f=v.y}if("undefined"!=typeof n.title){var m=t.append("g").attr("class","classLabel"),b=m.append("text").attr("class","label").attr("x",c).attr("y",f).attr("fill","red").attr("text-anchor","middle").text(n.title);window.label=b;var x=b.node().getBBox();m.insert("rect",":first-child").attr("class","box").attr("x",x.x-h.padding/2).attr("y",x.y-h.padding/2).attr("width",x.width+2*h.padding/2).attr("height",x.height+2*h.padding/2)}p++},y=function(t,e){l.info("Rendering class "+e);var n=function(t,e,n){var r=t.append("tspan").attr("x",h.padding).text(e);n||r.attr("dy",h.textHeight)},r="classId"+c,i={id:r,label:e.id,width:0,height:0},a=t.append("g").attr("id",r).attr("class","classGroup"),s=a.append("text").attr("x",h.padding).attr("y",h.textHeight+h.padding).text(e.id),u=s.node().getBBox().height,f=a.append("line").attr("x1",0).attr("y1",h.padding+u+h.dividerMargin/2).attr("y2",h.padding+u+h.dividerMargin/2),d=a.append("text").attr("x",h.padding).attr("y",u+h.dividerMargin+h.textHeight).attr("fill","white").attr("class","classText"),p=!0;e.members.forEach(function(t){n(d,t,p),p=!1});var g=d.node().getBBox(),y=a.append("line").attr("x1",0).attr("y1",h.padding+u+3*h.dividerMargin/2+g.height).attr("y2",h.padding+u+3*h.dividerMargin/2+g.height),v=a.append("text").attr("x",h.padding).attr("y",u+2*h.dividerMargin+g.height+h.textHeight).attr("fill","white").attr("class","classText");p=!0,e.methods.forEach(function(t){n(v,t,p),p=!1});var m=a.node().getBBox();return a.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",m.width+2*h.padding).attr("height",m.height+h.padding+.5*h.dividerMargin),f.attr("x2",m.width+2*h.padding),y.attr("x2",m.width+2*h.padding),i.width=m.width+2*h.padding,i.height=m.height+h.padding+.5*h.dividerMargin,o[r]=i,c++,i};e.exports.setConf=function(t){var e=Object.keys(t);e.forEach(function(e){h[e]=t[e]})},e.exports.draw=function(t,e){r.yy.clear(),r.parse(t),l.info("Rendering diagram "+t);var n=a.select("#"+e);d(n);var o=new u.graphlib.Graph({multigraph:!0});o.setGraph({isMultiGraph:!0}),o.setDefaultEdgeLabel(function(){return{}});var s,c=i.getClasses(),h=Object.keys(c);for(s=0;s<h.length;s++){var p=c[h[s]],v=y(n,p);o.setNode(v.id,v),l.info("Org height: "+v.height)}var m=i.getRelations(),s=0;m.forEach(function(t){s+=1,l.info("tjoho"+f(t.id1)+f(t.id2)+JSON.stringify(t)),o.setEdge(f(t.id1),f(t.id2),{relation:t})}),u.layout(o),o.nodes().forEach(function(t){"undefined"!=typeof t&&(l.debug("Node "+t+": "+JSON.stringify(o.node(t))),a.select("#"+t).attr("transform","translate("+(o.node(t).x-o.node(t).width/2)+","+(o.node(t).y-o.node(t).height/2)+" )"))}),o.edges().forEach(function(t){l.debug("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(o.edge(t))),g(n,o.edge(t),o.edge(t).relation)}),n.attr("height","100%"),n.attr("width","100%")}},{"../../d3":108,"../../logger":130,"./classDb":109,"./parser/classDiagram":111,dagre:54}],111:[function(t,e,n){(function(r){"use strict";var i=function(){function t(){this.yy={}}var e=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},n=[1,11],r=[1,12],i=[1,13],o=[1,15],a=[1,16],s=[1,17],u=[6,8],l=[1,26],c=[1,27],h=[1,28],f=[1,29],d=[1,30],p=[1,31],g=[6,8,13,17,23,26,27,28,29,30,31],y=[6,8,13,17,23,26,27,28,29,30,31,45,46,47],v=[23,45,46,47],m=[23,30,31,45,46,47],b=[23,26,27,28,29,45,46,47],x=[6,8,13],w=[1,46],_={trace:function(){},yy:{},symbols_:{error:2,mermaidDoc:3,graphConfig:4,CLASS_DIAGRAM:5,NEWLINE:6,statements:7,EOF:8,statement:9,className:10,alphaNumToken:11,relationStatement:12,LABEL:13,classStatement:14,methodStatement:15,CLASS:16,STRUCT_START:17,members:18,STRUCT_STOP:19,MEMBER:20,SEPARATOR:21,relation:22,STR:23,relationType:24,lineType:25,AGGREGATION:26,EXTENSION:27,COMPOSITION:28,DEPENDENCY:29,LINE:30,DOTTED_LINE:31,commentToken:32,textToken:33,graphCodeTokens:34,textNoTagsToken:35,TAGSTART:36,TAGEND:37,"==":38,"--":39,PCT:40,DEFAULT:41,SPACE:42,MINUS:43,keywords:44,UNICODE_TEXT:45,NUM:46,ALPHA:47,$accept:0,$end:1},terminals_:{2:"error",5:"CLASS_DIAGRAM",6:"NEWLINE",8:"EOF",13:"LABEL",16:"CLASS",17:"STRUCT_START",19:"STRUCT_STOP",20:"MEMBER",21:"SEPARATOR",23:"STR",26:"AGGREGATION",27:"EXTENSION",28:"COMPOSITION",29:"DEPENDENCY",30:"LINE",31:"DOTTED_LINE",34:"graphCodeTokens",36:"TAGSTART",37:"TAGEND",38:"==",39:"--",40:"PCT",41:"DEFAULT",42:"SPACE",43:"MINUS",44:"keywords",45:"UNICODE_TEXT",46:"NUM",47:"ALPHA"},productions_:[0,[3,1],[4,4],[7,1],[7,3],[10,2],[10,1],[9,1],[9,2],[9,1],[9,1],[14,2],[14,5],[18,1],[18,2],[15,1],[15,2],[15,1],[15,1],[12,3],[12,4],[12,4],[12,5],[22,3],[22,2],[22,2],[22,1],[24,1],[24,1],[24,1],[24,1],[25,1],[25,1],[32,1],[32,1],[33,1],[33,1],[33,1],[33,1],[33,1],[33,1],[33,1],[35,1],[35,1],[35,1],[35,1],[11,1],[11,1],[11,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 5:this.$=o[s-1]+o[s];break;case 6:this.$=o[s];break;case 7:r.addRelation(o[s]);break;case 8:o[s-1].title=r.cleanupLabel(o[s]),r.addRelation(o[s-1]);break;case 12:r.addMembers(o[s-3],o[s-1]);break;case 13:this.$=[o[s]];break;case 14:o[s].push(o[s-1]),this.$=o[s];break;case 15:break;case 16:r.addMembers(o[s-1],r.cleanupLabel(o[s]));break;case 17:console.warn("Member",o[s]);break;case 18:break;case 19:this.$={id1:o[s-2],id2:o[s],relation:o[s-1],relationTitle1:"none",relationTitle2:"none"};break;case 20:this.$={id1:o[s-3],id2:o[s],relation:o[s-1],relationTitle1:o[s-2],relationTitle2:"none"};break;case 21:this.$={id1:o[s-3],id2:o[s],relation:o[s-2],relationTitle1:"none",relationTitle2:o[s-1]};break;case 22:this.$={id1:o[s-4],id2:o[s],relation:o[s-2],relationTitle1:o[s-3],relationTitle2:o[s-1]};break;case 23:this.$={type1:o[s-2],type2:o[s],lineType:o[s-1]};break;case 24:this.$={type1:"none",type2:o[s],lineType:o[s-1]};break;case 25:this.$={type1:o[s-1],type2:"none",lineType:o[s]};break;case 26:this.$={type1:"none",type2:"none",lineType:o[s]};break;case 27:this.$=r.relationType.AGGREGATION;break;case 28:this.$=r.relationType.EXTENSION;break;case 29:this.$=r.relationType.COMPOSITION;break;case 30:this.$=r.relationType.DEPENDENCY;break;case 31:this.$=r.lineType.LINE;break;case 32:this.$=r.lineType.DOTTED_LINE}},table:[{3:1,4:2,5:[1,3]},{1:[3]},{1:[2,1]},{6:[1,4]},{7:5,9:6,10:10,11:14,12:7,14:8,15:9,16:n,20:r,21:i,45:o,46:a,47:s},{8:[1,18]},{6:[1,19],8:[2,3]},e(u,[2,7],{13:[1,20]}),e(u,[2,9]),e(u,[2,10]),e(u,[2,15],{22:21,24:24,25:25,13:[1,23],23:[1,22],26:l,27:c,28:h,29:f,30:d,31:p}),{10:32,11:14,45:o,46:a,47:s},e(u,[2,17]),e(u,[2,18]),e(g,[2,6],{11:14,10:33,45:o,46:a,47:s}),e(y,[2,46]),e(y,[2,47]),e(y,[2,48]),{1:[2,2]},{7:34,9:6,10:10,11:14,12:7,14:8,15:9,16:n,20:r,21:i,45:o,46:a,47:s},e(u,[2,8]),{10:35,11:14,23:[1,36],45:o,46:a,47:s},{22:37,24:24,25:25,26:l,27:c,28:h,29:f,30:d,31:p},e(u,[2,16]),{25:38,30:d,31:p},e(v,[2,26],{24:39,26:l,27:c,28:h,29:f}),e(m,[2,27]),e(m,[2,28]),e(m,[2,29]),e(m,[2,30]),e(b,[2,31]),e(b,[2,32]),e(u,[2,11],{17:[1,40]}),e(g,[2,5]),{8:[2,4]},e(x,[2,19]),{10:41,11:14,45:o,46:a,47:s},{10:42,11:14,23:[1,43],45:o,46:a,47:s},e(v,[2,25],{24:44,26:l,27:c,28:h,29:f}),e(v,[2,24]),{18:45,20:w},e(x,[2,21]),e(x,[2,20]),{10:47,11:14,45:o,46:a,47:s},e(v,[2,23]),{19:[1,48]},{18:49,19:[2,13],20:w},e(x,[2,22]),e(u,[2,12]),{19:[2,14]}],defaultActions:{2:[2,1],18:[2,2],34:[2,4],49:[2,14]},parseError:function(t,e){if(!e.recoverable){var n=function(t,e){this.message=t,this.hash=e};throw n.prototype=Error,new n(t,e)}this.trace(t)},parse:function(t){var e=this,n=[0],r=[null],i=[],o=this.table,a="",s=0,u=0,l=0,c=2,h=1,f=i.slice.call(arguments,1),d=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);d.setInput(t,p.yy),p.yy.lexer=d,p.yy.parser=this,"undefined"==typeof d.yylloc&&(d.yylloc={});var y=d.yylloc;i.push(y);var v=d.options&&d.options.ranges;"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var m,b,x,w,_,k,A,C,S,E=function(){var t;return t=d.lex()||h,"number"!=typeof t&&(t=e.symbols_[t]||t),t},T={};;){if(x=n[n.length-1],this.defaultActions[x]?w=this.defaultActions[x]:(null!==m&&"undefined"!=typeof m||(m=E()),w=o[x]&&o[x][m]),"undefined"==typeof w||!w.length||!w[0]){var M="";S=[];for(k in o[x])this.terminals_[k]&&k>c&&S.push("'"+this.terminals_[k]+"'");M=d.showPosition?"Parse error on line "+(s+1)+":\n"+d.showPosition()+"\nExpecting "+S.join(", ")+", got '"+(this.terminals_[m]||m)+"'":"Parse error on line "+(s+1)+": Unexpected "+(m==h?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(M,{text:d.match,token:this.terminals_[m]||m,line:d.yylineno,loc:y,expected:S})}if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+x+", token: "+m);switch(w[0]){case 1:n.push(m),r.push(d.yytext),i.push(d.yylloc),n.push(w[1]),m=null,b?(m=b,b=null):(u=d.yyleng,a=d.yytext,s=d.yylineno,y=d.yylloc,l>0&&l--);break;case 2:if(A=this.productions_[w[1]][1],T.$=r[r.length-A],T._$={first_line:i[i.length-(A||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(A||1)].first_column,last_column:i[i.length-1].last_column},v&&(T._$.range=[i[i.length-(A||1)].range[0],i[i.length-1].range[1]]),_=this.performAction.apply(T,[a,u,s,p.yy,w[1],r,i].concat(f)),"undefined"!=typeof _)return _;A&&(n=n.slice(0,-1*A*2),r=r.slice(0,-1*A),i=i.slice(0,-1*A)),n.push(this.productions_[w[1]][0]),r.push(T.$),i.push(T._$),C=o[n[n.length-2]][n[n.length-1]],n.push(C);break;case 3:return!0}}return!0}},k=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),r=t[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,n,r;this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if(n=this._input.match(this.rules[i[o]]),n&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(t=this.test_match(n,i[o]),t!==!1)return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?(t=this.test_match(e,i[r]),t!==!1&&t):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,n,r){switch(n){case 0:break;case 1:return 6;case 2:break;case 3:return 5;case 4:return this.begin("struct"),17;case 5:return this.popState(),19;case 6:break;case 7:return"MEMBER";case 8:return 16;case 9:this.begin("string");break;case 10:this.popState();break;case 11:return"STR";case 12:return 27;case 13:return 27;case 14:return 29;case 15:return 29;case 16:return 28;case 17:return 26;case 18:return 30;case 19:return 31;case 20:return 13;case 21:return 43;case 22:return"DOT";case 23:return"PLUS";case 24:return 40;case 25:return"EQUALS";case 26:return"EQUALS";case 27:return 47;case 28:return"PUNCTUATION";case 29:return 46;case 30:return 45;case 31:return 42;case 32:return 8}},rules:[/^(?:%%[^\n]*)/,/^(?:\n+)/,/^(?:\s+)/,/^(?:classDiagram\b)/,/^(?:[\{])/,/^(?:\})/,/^(?:[\n])/,/^(?:[^\{\}\n]*)/,/^(?:class\b)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:--)/,/^(?:\.\.)/,/^(?::[^#\n;]+)/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:[A-Za-z]+)/,/^(?:[!"#$%&'*+,-.`?\\_\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:$)/],conditions:{string:{rules:[10,11],inclusive:!1},struct:{rules:[5,6,7],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,8,9,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],inclusive:!0}}};return t}();return _.lexer=k,t.prototype=_,_.Parser=t,new t}();"undefined"!=typeof t&&"undefined"!=typeof n&&(n.parser=i,n.Parser=i.Parser,n.parse=function(){return i.parse.apply(i,arguments)},n.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),r.exit(1));var i=t("fs").readFileSync(t("path").normalize(e[1]),"utf8");return n.parser.parse(i)},"undefined"!=typeof e&&t.main===e&&n.main(r.argv.slice(1)))}).call(this,t("_process"))},{_process:3,fs:1,path:2}],112:[function(t,e,n){(function(e){"use strict";var r=t("../../logger"),i=new r.Log,o="",a=!1;n.setMessage=function(t){i.debug("Setting message to: "+t),o=t},n.getMessage=function(){return o},n.setInfo=function(t){a=t},n.getInfo=function(){return a},n.parseError=function(t,n){e.mermaidAPI.parseError(t,n)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../logger":130}],113:[function(t,e,n){"use strict";var r=t("./exampleDb"),i=t("./parser/example.js"),o=t("../../d3"),a=t("../../logger"),s=new a.Log;n.draw=function(t,e,n){var a;a=i.parser,a.yy=r,s.debug("Renering example diagram"),a.parse(t);var u=o.select("#"+e),l=u.append("g");l.append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size","32px").style("text-anchor","middle").text("mermaid "+n),u.attr("height",100),u.attr("width",400)}},{"../../d3":108,"../../logger":130,"./exampleDb":112,"./parser/example.js":114}],114:[function(t,e,n){(function(r){"use strict";var i=function(){function t(){this.yy={}}var e=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},n=[6,9,10,12],r={trace:function(){},yy:{},symbols_:{error:2,start:3,info:4,document:5,EOF:6,line:7,statement:8,NL:9,showInfo:10,message:11,say:12,TXT:13,$accept:0,$end:1},terminals_:{2:"error",4:"info",6:"EOF",9:"NL",10:"showInfo",12:"say",13:"TXT"},productions_:[0,[3,3],[5,0],[5,2],[7,1],[7,1],[8,1],[8,1],[11,2]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 1:return r;case 4:break;case 6:r.setInfo(!0);break;case 7:r.setMessage(o[s]);break;case 8:this.$=o[s-1].substring(1).trim().replace(/\\n/gm,"\n")}},table:[{3:1,4:[1,2]},{1:[3]},e(n,[2,2],{5:3}),{6:[1,4],7:5,8:6,9:[1,7],10:[1,8],11:9,12:[1,10]},{1:[2,1]},e(n,[2,3]),e(n,[2,4]),e(n,[2,5]),e(n,[2,6]),e(n,[2,7]),{13:[1,11]},e(n,[2,8])],defaultActions:{4:[2,1]},parseError:function(t,e){if(!e.recoverable){var n=function(t,e){this.message=t,this.hash=e};throw n.prototype=Error,new n(t,e)}this.trace(t)},parse:function(t){var e=this,n=[0],r=[null],i=[],o=this.table,a="",s=0,u=0,l=0,c=2,h=1,f=i.slice.call(arguments,1),d=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);d.setInput(t,p.yy),p.yy.lexer=d,p.yy.parser=this,"undefined"==typeof d.yylloc&&(d.yylloc={});var y=d.yylloc;i.push(y);var v=d.options&&d.options.ranges;"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var m,b,x,w,_,k,A,C,S,E=function(){var t;return t=d.lex()||h,"number"!=typeof t&&(t=e.symbols_[t]||t),t},T={};;){if(x=n[n.length-1],this.defaultActions[x]?w=this.defaultActions[x]:(null!==m&&"undefined"!=typeof m||(m=E()),w=o[x]&&o[x][m]),"undefined"==typeof w||!w.length||!w[0]){var M="";S=[];for(k in o[x])this.terminals_[k]&&k>c&&S.push("'"+this.terminals_[k]+"'");M=d.showPosition?"Parse error on line "+(s+1)+":\n"+d.showPosition()+"\nExpecting "+S.join(", ")+", got '"+(this.terminals_[m]||m)+"'":"Parse error on line "+(s+1)+": Unexpected "+(m==h?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(M,{text:d.match,token:this.terminals_[m]||m,line:d.yylineno,loc:y,expected:S})}if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+x+", token: "+m);switch(w[0]){case 1:n.push(m),r.push(d.yytext),i.push(d.yylloc),n.push(w[1]),m=null,b?(m=b,b=null):(u=d.yyleng,a=d.yytext,s=d.yylineno,y=d.yylloc,l>0&&l--);break;case 2:if(A=this.productions_[w[1]][1],T.$=r[r.length-A],T._$={first_line:i[i.length-(A||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(A||1)].first_column,last_column:i[i.length-1].last_column},v&&(T._$.range=[i[i.length-(A||1)].range[0],i[i.length-1].range[1]]),_=this.performAction.apply(T,[a,u,s,p.yy,w[1],r,i].concat(f)),"undefined"!=typeof _)return _;A&&(n=n.slice(0,-1*A*2),r=r.slice(0,-1*A),i=i.slice(0,-1*A)),n.push(this.productions_[w[1]][0]),r.push(T.$),i.push(T._$),C=o[n[n.length-2]][n[n.length-1]],n.push(C);break;case 3:return!0}}return!0}},i=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,
last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),r=t[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,n,r;this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if(n=this._input.match(this.rules[i[o]]),n&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(t=this.test_match(n,i[o]),t!==!1)return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?(t=this.test_match(e,i[r]),t!==!1&&t):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:return 9;case 1:return 10;case 2:return 4;case 3:return 12;case 4:return 13;case 5:return 6;case 6:return"INVALID"}},rules:[/^(?:[\n]+)/i,/^(?:showInfo\b)/i,/^(?:info\b)/i,/^(?:say\b)/i,/^(?::[^#\n;]+)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6],inclusive:!0}}};return t}();return r.lexer=i,t.prototype=r,r.Parser=t,new t}();"undefined"!=typeof t&&"undefined"!=typeof n&&(n.parser=i,n.Parser=i.Parser,n.parse=function(){return i.parse.apply(i,arguments)},n.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),r.exit(1));var i=t("fs").readFileSync(t("path").normalize(e[1]),"utf8");return n.parser.parse(i)},"undefined"!=typeof e&&t.main===e&&n.main(r.argv.slice(1)))}).call(this,t("_process"))},{_process:3,fs:1,path:2}],115:[function(t,e,n){"use strict";var r,i=t("../../logger"),o=new i.Log;if(t)try{r=t("dagre-d3")}catch(t){o.debug("Could not load dagre-d3")}r||(r=window.dagreD3),e.exports=r},{"../../logger":130,"dagre-d3":5}],116:[function(t,e,n){"use strict";var r=t("./graphDb"),i=t("./parser/flow"),o=t("./parser/dot"),a=t("../../d3"),s=t("./dagre-d3"),u=t("../../logger"),l=new u.Log,c={};e.exports.setConf=function(t){var e,n=Object.keys(t);for(e=0;e<n.length;e++)c[n[e]]=t[n[e]]},n.addVertices=function(t,e){var n=Object.keys(t),r=function(t,e){var n;for(n=0;n<e.length;n++)"undefined"!=typeof e[n]&&(t=t+e[n]+";");return t};n.forEach(function(n){var i,o=t[n],a="";o.classes.length>0&&(a=o.classes.join(" "));var s="";s=r(s,o.styles),i="undefined"==typeof o.text?o.id:o.text;var u="";if(c.htmlLabels)u="html",i=i.replace(/fa:fa[\w\-]+/g,function(t){return'<i class="fa '+t.substring(3)+'"></i>'});else{var l=document.createElementNS("http://www.w3.org/2000/svg","text"),h=i.split(/<br>/),f=0;for(f=0;f<h.length;f++){var d=document.createElementNS("http://www.w3.org/2000/svg","tspan");d.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),d.setAttribute("dy","1em"),d.setAttribute("x","1"),d.textContent=h[f],l.appendChild(d)}u="svg",i=l}var p=0,g="";switch(o.type){case"round":p=5,g="rect";break;case"square":g="rect";break;case"diamond":g="question";break;case"odd":g="rect_left_inv_arrow";break;case"odd_right":g="rect_left_inv_arrow";break;case"circle":g="circle";break;case"ellipse":g="ellipse";break;case"group":g="rect",i="";break;default:g="rect"}e.setNode(o.id,{labelType:u,shape:g,label:i,rx:p,ry:p,class:a,style:s,id:o.id})})},n.addEdges=function(t,e){var n,r=0;"undefined"!=typeof t.defaultStyle&&(n=t.defaultStyle.toString().replace(/,/g,";")),t.forEach(function(i){r++;var o={};"arrow_open"===i.type?o.arrowhead="none":o.arrowhead="normal";var a="";if("undefined"!=typeof i.style)i.style.forEach(function(t){a=a+t+";"});else switch(i.stroke){case"normal":a="fill:none","undefined"!=typeof n&&(a=n);break;case"dotted":a="stroke: #333; fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":a="stroke: #333; stroke-width: 3.5px;fill:none"}o.style=a,"undefined"!=typeof i.interpolate?o.lineInterpolate=i.interpolate:"undefined"!=typeof t.defaultInterpolate&&(o.lineInterpolate=t.defaultInterpolate),"undefined"==typeof i.text?"undefined"!=typeof i.style&&(o.arrowheadStyle="fill: #333"):(o.arrowheadStyle="fill: #333","undefined"==typeof i.style?(o.labelpos="c",c.htmlLabels?(o.labelType="html",o.label='<span class="edgeLabel">'+i.text+"</span>"):(o.labelType="text",o.style="stroke: #333; stroke-width: 1.5px;fill:none",o.label=i.text.replace(/<br>/g,"\n"))):o.label=i.text.replace(/<br>/g,"\n")),e.setEdge(i.start,i.end,o,r)})},n.getClasses=function(t,e){var n;r.clear(),n=e?o.parser:i.parser,n.yy=r,n.parse(t);var a=r.getClasses();return"undefined"==typeof a.default&&(a.default={id:"default"},a.default.styles=[],a.default.clusterStyles=["rx:4px","fill: rgb(255, 255, 222)","rx: 4px","stroke: rgb(170, 170, 51)","stroke-width: 1px"],a.default.nodeLabelStyles=["fill:#000","stroke:none","font-weight:300",'font-family:"Helvetica Neue",Helvetica,Arial,sans-serf',"font-size:14px"],a.default.edgeLabelStyles=["fill:#000","stroke:none","font-weight:300",'font-family:"Helvetica Neue",Helvetica,Arial,sans-serf',"font-size:14px"]),a},n.draw=function(t,e,u){l.debug("Drawing flowchart");var h;r.clear(),h=u?o.parser:i.parser,h.yy=r;try{h.parse(t)}catch(t){l.debug("Parsing failed")}var f;f=r.getDirection(),"undefined"==typeof f&&(f="TD");var d,p=new s.graphlib.Graph({multigraph:!0,compound:!0}).setGraph({rankdir:f,marginx:20,marginy:20}).setDefaultEdgeLabel(function(){return{}}),g=r.getSubGraphs(),y=0;for(y=g.length-1;y>=0;y--)d=g[y],r.addVertex(d.id,d.title,"group",void 0);var v=r.getVertices(),m=r.getEdges();y=0;var b;for(y=g.length-1;y>=0;y--)for(d=g[y],a.selectAll("cluster").append("text"),b=0;b<d.nodes.length;b++)p.setParent(d.nodes[b],d.id);n.addVertices(v,p),n.addEdges(m,p);var x=new s.render;x.shapes().question=function(t,e,n){var r=e.width,i=e.height,o=.8*(r+i),a=[{x:o/2,y:0},{x:o,y:-o/2},{x:o/2,y:-o},{x:0,y:-o/2}],u=t.insert("polygon",":first-child").attr("points",a.map(function(t){return t.x+","+t.y}).join(" ")).attr("rx",5).attr("ry",5).attr("transform","translate("+-o/2+","+2*o/4+")");return n.intersect=function(t){return s.intersect.polygon(n,a,t)},u},x.shapes().rect_left_inv_arrow=function(t,e,n){var r=e.width,i=e.height,o=[{x:-i/2,y:0},{x:r,y:0},{x:r,y:-i},{x:-i/2,y:-i},{x:0,y:-i/2}],a=t.insert("polygon",":first-child").attr("points",o.map(function(t){return t.x+","+t.y}).join(" ")).attr("transform","translate("+-r/2+","+2*i/4+")");return n.intersect=function(t){return s.intersect.polygon(n,o,t)},a},x.shapes().rect_right_inv_arrow=function(t,e,n){var r=e.width,i=e.height,o=[{x:0,y:0},{x:r+i/2,y:0},{x:r,y:-i/2},{x:r+i/2,y:-i},{x:0,y:-i}],a=t.insert("polygon",":first-child").attr("points",o.map(function(t){return t.x+","+t.y}).join(" ")).attr("transform","translate("+-r/2+","+2*i/4+")");return n.intersect=function(t){return s.intersect.polygon(n,o,t)},a},x.arrows().none=function(t,e,n,r){var i=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),o=i.append("path").attr("d","M 0 0 L 0 0 L 0 0 z");s.util.applyStyle(o,n[r+"Style"])};var w=a.select("#"+e),_=a.select("#"+e+" g");for(x(_,p),_.selectAll("g.node").attr("title",function(){return r.getTooltip(this.id)}),c.useMaxWidth?(w.attr("height","100%"),w.attr("width",c.width),w.attr("viewBox","0 0 "+(p.graph().width+20)+" "+(p.graph().height+20)),w.attr("style","max-width:"+(p.graph().width+20)+"px;")):(w.attr("height",p.graph().height),"undefined"==typeof c.width?w.attr("width",p.graph().width):w.attr("width",c.width),w.attr("viewBox","0 0 "+(p.graph().width+20)+" "+(p.graph().height+20))),r.indexNodes("subGraph"+y),y=0;y<g.length;y++)if(d=g[y],"undefined"!==d.title){var k=document.querySelectorAll("#"+e+" #"+d.id+" rect"),A=document.querySelectorAll("#"+e+" #"+d.id),C=k[0].x.baseVal.value,S=k[0].y.baseVal.value,E=k[0].width.baseVal.value,T=a.select(A[0]),M=T.append("text");M.attr("x",C+E/2),M.attr("y",S+14),M.attr("fill","black"),M.attr("stroke","none"),M.attr("id",e+"Text"),M.style("text-anchor","middle"),"undefined"==typeof d.title?M.text("Undef"):M.text(d.title)}if(!c.htmlLabels){var y,D=document.querySelectorAll("#"+e+" .edgeLabel .label");for(y=0;y<D.length;y++){var L=D[y],F=L.getBBox(),N=document.createElementNS("http://www.w3.org/2000/svg","rect");N.setAttribute("rx",0),N.setAttribute("ry",0),N.setAttribute("width",F.width),N.setAttribute("height",F.height),N.setAttribute("style","fill:#e8e8e8;"),L.insertBefore(N,L.firstChild)}}}},{"../../d3":108,"../../logger":130,"./dagre-d3":115,"./graphDb":117,"./parser/dot":118,"./parser/flow":119}],117:[function(require,module,exports){(function(global){"use strict";var Logger=require("../../logger"),log=new Logger.Log,d3=require("../../d3"),vertices={},edges=[],classes=[],subGraphs=[],tooltips={},subCount=0,direction,funs=[];exports.addVertex=function(t,e,n,r){var i;"undefined"!=typeof t&&0!==t.trim().length&&("undefined"==typeof vertices[t]&&(vertices[t]={id:t,styles:[],classes:[]}),"undefined"!=typeof e&&(i=e.trim(),'"'===i[0]&&'"'===i[i.length-1]&&(i=i.substring(1,i.length-1)),vertices[t].text=i),"undefined"!=typeof n&&(vertices[t].type=n),"undefined"!=typeof n&&(vertices[t].type=n),"undefined"!=typeof r&&null!==r&&r.forEach(function(e){vertices[t].styles.push(e)}))},exports.addLink=function(t,e,n,r){log.debug("Got edge",t,e);var i={start:t,end:e,type:void 0,text:""};r=n.text,"undefined"!=typeof r&&(i.text=r.trim(),'"'===i.text[0]&&'"'===i.text[i.text.length-1]&&(i.text=i.text.substring(1,i.text.length-1))),"undefined"!=typeof n&&(i.type=n.type,i.stroke=n.stroke),edges.push(i)},exports.updateLinkInterpolate=function(t,e){"default"===t?edges.defaultInterpolate=e:edges[t].interpolate=e},exports.updateLink=function(t,e){"default"===t?edges.defaultStyle=e:edges[t].style=e},exports.addClass=function(t,e){"undefined"==typeof classes[t]&&(classes[t]={id:t,styles:[]}),"undefined"!=typeof e&&null!==e&&e.forEach(function(e){classes[t].styles.push(e)})},exports.setDirection=function(t){direction=t},exports.setClass=function(t,e){t.indexOf(",")>0?t.split(",").forEach(function(t){"undefined"!=typeof vertices[t]&&vertices[t].classes.push(e)}):"undefined"!=typeof vertices[t]&&vertices[t].classes.push(e)};var setTooltip=function(t,e){"undefined"!=typeof e&&(tooltips[t]=e)},setClickFun=function setClickFun(id,functionName){"undefined"!=typeof functionName&&"undefined"!=typeof vertices[id]&&funs.push(function(element){var elem=d3.select(element).select("#"+id);null!==elem&&elem.on("click",function(){eval(functionName+"('"+id+"')")})})},setLink=function(t,e){"undefined"!=typeof e&&"undefined"!=typeof vertices[t]&&funs.push(function(n){var r=d3.select(n).select("#"+t);null!==r&&r.on("click",function(){window.open(e,"newTab")})})};exports.getTooltip=function(t){return tooltips[t]},exports.setClickEvent=function(t,e,n,r){t.indexOf(",")>0?t.split(",").forEach(function(t){setTooltip(t,r),setClickFun(t,e),setLink(t,n)}):(setTooltip(t,r),setClickFun(t,e),setLink(t,n))},exports.bindFunctions=function(t){funs.forEach(function(e){e(t)})},exports.getDirection=function(){return direction},exports.getVertices=function(){return vertices},exports.getEdges=function(){return edges},exports.getClasses=function(){return classes};var setupToolTips=function(t){var e=d3.select(".mermaidTooltip");null===e[0][0]&&(e=d3.select("body").append("div").attr("class","mermaidTooltip").style("opacity",0));var n=d3.select(t).select("svg"),r=n.selectAll("g.node");r.on("mouseover",function(){var t=d3.select(this),n=t.attr("title");if(null!==n){var r=this.getBoundingClientRect();e.transition().duration(200).style("opacity",".9"),e.html(t.attr("title")).style("left",r.left+(r.right-r.left)/2+"px").style("top",r.top-14+document.body.scrollTop+"px"),t.classed("hover",!0)}}).on("mouseout",function(){e.transition().duration(500).style("opacity",0);var t=d3.select(this);t.classed("hover",!1)})};funs.push(setupToolTips),exports.clear=function(){vertices={},classes={},edges=[],funs=[],funs.push(setupToolTips),subGraphs=[],subCount=0,tooltips=[]},exports.defaultStyle=function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},exports.addSubGraph=function(t,e){function n(t){var e={boolean:{},number:{},string:{}},n=[];return t.filter(function(t){var r=typeof t;return" "!==t&&(r in e?!e[r].hasOwnProperty(t)&&(e[r][t]=!0):!(n.indexOf(t)>=0)&&n.push(t))})}var r=[];r=n(r.concat.apply(r,t));var i={id:"subGraph"+subCount,nodes:r,title:e};return subGraphs.push(i),subCount+=1,i.id};var getPosForId=function(t){var e;for(e=0;e<subGraphs.length;e++)if(subGraphs[e].id===t)return e;return-1},secCount=-1,posCrossRef=[],indexNodes=function t(e,n){var r=subGraphs[n].nodes;if(secCount+=1,!(secCount>2e3)){if(posCrossRef[secCount]=n,subGraphs[n].id===e)return{result:!0,count:0};for(var i=0,o=1;i<r.length;){var a=getPosForId(r[i]);if(a>=0){var s=t(e,a);if(s.result)return{result:!0,count:o+s.count};o+=s.count}i+=1}return{result:!1,count:o}}};exports.getDepthFirstPos=function(t){return posCrossRef[t]},exports.indexNodes=function(){secCount=-1,subGraphs.length>0&&indexNodes("none",subGraphs.length-1,0)},exports.getSubGraphs=function(){return subGraphs},exports.parseError=function(t,e){global.mermaidAPI.parseError(t,e)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../d3":108,"../../logger":130}],118:[function(t,e,n){(function(r){"use strict";var i=function(){function t(){this.yy={}}var e=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},n=[1,5],r=[1,6],i=[1,12],o=[1,13],a=[1,14],s=[1,15],u=[1,16],l=[1,17],c=[1,18],h=[1,19],f=[1,20],d=[1,21],p=[1,22],g=[8,16,17,18,19,20,21,22,23,24,25,26],y=[1,37],v=[1,33],m=[1,34],b=[1,35],x=[1,36],w=[8,10,16,17,18,19,20,21,22,23,24,25,26,28,32,37,39,40,45,57,58],_=[10,28],k=[10,28,37,57,58],A=[2,49],C=[1,45],S=[1,48],E=[1,49],T=[1,52],M=[2,65],D=[1,65],L=[1,66],F=[1,67],N=[1,68],O=[1,69],I=[1,70],B=[1,71],P=[1,72],R=[1,73],j=[8,16,17,18,19,20,21,22,23,24,25,26,47],W=[10,28,37],H={trace:function(){},yy:{},symbols_:{error:2,expressions:3,graph:4,EOF:5,graphStatement:6,idStatement:7,"{":8,stmt_list:9,"}":10,strict:11,GRAPH:12,DIGRAPH:13,textNoTags:14,textNoTagsToken:15,ALPHA:16,NUM:17,COLON:18,PLUS:19,EQUALS:20,MULT:21,DOT:22,BRKT:23,SPACE:24,MINUS:25,keywords:26,stmt:27,";":28,node_stmt:29,edge_stmt:30,attr_stmt:31,"=":32,subgraph:33,attr_list:34,NODE:35,EDGE:36,"[":37,a_list:38,"]":39,",":40,edgeRHS:41,node_id:42,edgeop:43,port:44,":":45,compass_pt:46,SUBGRAPH:47,n:48,ne:49,e:50,se:51,s:52,sw:53,w:54,nw:55,c:56,ARROW_POINT:57,ARROW_OPEN:58,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",8:"{",10:"}",11:"strict",12:"GRAPH",13:"DIGRAPH",16:"ALPHA",17:"NUM",18:"COLON",19:"PLUS",20:"EQUALS",21:"MULT",22:"DOT",23:"BRKT",24:"SPACE",25:"MINUS",26:"keywords",28:";",32:"=",35:"NODE",36:"EDGE",37:"[",39:"]",40:",",45:":",47:"SUBGRAPH",48:"n",49:"ne",50:"e",51:"se",52:"s",53:"sw",54:"w",55:"nw",56:"c",57:"ARROW_POINT",58:"ARROW_OPEN"},productions_:[0,[3,2],[4,5],[4,6],[4,4],[6,1],[6,1],[7,1],[14,1],[14,2],[15,1],[15,1],[15,1],[15,1],[15,1],[15,1],[15,1],[15,1],[15,1],[15,1],[15,1],[9,1],[9,3],[27,1],[27,1],[27,1],[27,3],[27,1],[31,2],[31,2],[31,2],[34,4],[34,3],[34,3],[34,2],[38,5],[38,5],[38,3],[30,3],[30,3],[30,2],[30,2],[41,3],[41,3],[41,2],[41,2],[29,2],[29,1],[42,2],[42,1],[44,4],[44,2],[44,2],[33,5],[33,4],[33,3],[46,1],[46,1],[46,1],[46,1],[46,1],[46,1],[46,1],[46,1],[46,1],[46,0],[43,1],[43,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 1:this.$=o[s-1];break;case 2:this.$=o[s-4];break;case 3:this.$=o[s-5];break;case 4:this.$=o[s-3];break;case 8:case 10:case 11:this.$=o[s];break;case 9:this.$=o[s-1]+""+o[s];break;case 12:case 13:case 14:case 15:case 16:case 18:case 19:case 20:this.$=o[s];break;case 17:this.$="<br>";break;case 39:this.$="oy";break;case 40:r.addLink(o[s-1],o[s].id,o[s].op),this.$="oy";break;case 42:r.addLink(o[s-1],o[s].id,o[s].op),this.$={op:o[s-2],id:o[s-1]};break;case 44:this.$={op:o[s-1],id:o[s]};break;case 48:r.addVertex(o[s-1]),this.$=o[s-1];break;case 49:r.addVertex(o[s]),this.$=o[s];break;case 66:this.$="arrow";break;case 67:this.$="arrow_open"}},table:[{3:1,4:2,6:3,11:[1,4],12:n,13:r},{1:[3]},{5:[1,7]},{7:8,8:[1,9],14:10,15:11,16:i,17:o,18:a,19:s,20:u,21:l,22:c,23:h,24:f,25:d,26:p},{6:23,12:n,13:r},e(g,[2,5]),e(g,[2,6]),{1:[2,1]},{8:[1,24]},{7:30,8:y,9:25,12:v,14:10,15:11,16:i,17:o,18:a,19:s,20:u,21:l,22:c,23:h,24:f,25:d,26:p,27:26,29:27,30:28,31:29,33:31,35:m,36:b,42:32,47:x},e([8,10,28,32,37,39,40,45,57,58],[2,7],{15:38,16:i,17:o,18:a,19:s,20:u,21:l,22:c,23:h,24:f,25:d,26:p}),e(w,[2,8]),e(w,[2,10]),e(w,[2,11]),e(w,[2,12]),e(w,[2,13]),e(w,[2,14]),e(w,[2,15]),e(w,[2,16]),e(w,[2,17]),e(w,[2,18]),e(w,[2,19]),e(w,[2,20]),{7:39,14:10,15:11,16:i,17:o,18:a,19:s,20:u,21:l,22:c,23:h,24:f,25:d,26:p},{7:30,8:y,9:40,12:v,14:10,15:11,16:i,17:o,18:a,19:s,20:u,21:l,22:c,23:h,24:f,25:d,26:p,27:26,29:27,30:28,31:29,33:31,35:m,36:b,42:32,47:x},{10:[1,41]},{10:[2,21],28:[1,42]},e(_,[2,23]),e(_,[2,24]),e(_,[2,25]),e(k,A,{44:44,32:[1,43],45:C}),e(_,[2,27],{41:46,43:47,57:S,58:E}),e(_,[2,47],{43:47,34:50,41:51,37:T,57:S,58:E}),{34:53,37:T},{34:54,37:T},{34:55,37:T},{7:56,8:[1,57],14:10,15:11,16:i,17:o,18:a,19:s,20:u,21:l,22:c,23:h,24:f,25:d,26:p},{7:30,8:y,9:58,12:v,14:10,15:11,16:i,17:o,18:a,19:s,20:u,21:l,22:c,23:h,24:f,25:d,26:p,27:26,29:27,30:28,31:29,33:31,35:m,36:b,42:32,47:x},e(w,[2,9]),{8:[1,59]},{10:[1,60]},{5:[2,4]},{7:30,8:y,9:61,12:v,14:10,15:11,16:i,17:o,18:a,19:s,20:u,21:l,22:c,23:h,24:f,25:d,26:p,27:26,29:27,30:28,31:29,33:31,35:m,36:b,42:32,47:x},{7:62,14:10,15:11,16:i,17:o,18:a,19:s,20:u,21:l,22:c,23:h,24:f,25:d,26:p},e(k,[2,48]),e(k,M,{14:10,15:11,7:63,46:64,16:i,17:o,18:a,19:s,20:u,21:l,22:c,23:h,24:f,25:d,26:p,48:D,49:L,50:F,51:N,52:O,53:I,54:B,55:P,56:R}),e(_,[2,41],{34:74,37:T}),{7:77,8:y,14:10,15:11,16:i,17:o,18:a,19:s,20:u,21:l,22:c,23:h,24:f,25:d,26:p,33:76,42:75,47:x},e(j,[2,66]),e(j,[2,67]),e(_,[2,46]),e(_,[2,40],{34:78,37:T}),{7:81,14:10,15:11,16:i,17:o,18:a,19:s,20:u,21:l,22:c,23:h,24:f,25:d,26:p,38:79,39:[1,80]},e(_,[2,28]),e(_,[2,29]),e(_,[2,30]),{8:[1,82]},{7:30,8:y,9:83,12:v,14:10,15:11,16:i,17:o,18:a,19:s,20:u,21:l,22:c,23:h,24:f,25:d,26:p,27:26,29:27,30:28,31:29,33:31,35:m,36:b,42:32,47:x},{10:[1,84]},{7:30,8:y,9:85,12:v,14:10,15:11,16:i,17:o,18:a,19:s,20:u,21:l,22:c,23:h,24:f,25:d,26:p,27:26,29:27,30:28,31:29,33:31,35:m,36:b,42:32,47:x},{5:[2,2]},{10:[2,22]},e(_,[2,26]),e(k,[2,51],{45:[1,86]}),e(k,[2,52]),e(k,[2,56]),e(k,[2,57]),e(k,[2,58]),e(k,[2,59]),e(k,[2,60]),e(k,[2,61]),e(k,[2,62]),e(k,[2,63]),e(k,[2,64]),e(_,[2,38]),e(W,[2,44],{43:47,41:87,57:S,58:E}),e(W,[2,45],{43:47,41:88,57:S,58:E}),e(k,A,{44:44,45:C}),e(_,[2,39]),{39:[1,89]},e(_,[2,34],{34:90,37:T}),{32:[1,91]},{7:30,8:y,9:92,12:v,14:10,15:11,16:i,17:o,18:a,19:s,20:u,21:l,22:c,23:h,24:f,25:d,26:p,27:26,29:27,30:28,31:29,33:31,35:m,36:b,42:32,47:x},{10:[1,93]},e(k,[2,55]),{10:[1,94]},e(k,M,{46:95,48:D,49:L,50:F,51:N,52:O,53:I,54:B,55:P,56:R}),e(W,[2,42]),e(W,[2,43]),e(_,[2,33],{34:96,37:T}),e(_,[2,32]),{7:97,14:10,15:11,16:i,17:o,18:a,19:s,20:u,21:l,22:c,23:h,24:f,25:d,26:p},{10:[1,98]},e(k,[2,54]),{5:[2,3]},e(k,[2,50]),e(_,[2,31]),{28:[1,99],39:[2,37],40:[1,100]},e(k,[2,53]),{7:81,14:10,15:11,16:i,17:o,18:a,19:s,20:u,21:l,22:c,23:h,24:f,25:d,26:p,38:101},{7:81,14:10,15:11,16:i,17:o,18:a,19:s,20:u,21:l,22:c,23:h,24:f,25:d,26:p,38:102},{39:[2,35]},{39:[2,36]}],defaultActions:{7:[2,1],41:[2,4],60:[2,2],61:[2,22],94:[2,3],101:[2,35],102:[2,36]},parseError:function(t,e){if(!e.recoverable){var n=function(t,e){this.message=t,this.hash=e};throw n.prototype=Error,new n(t,e)}this.trace(t)},parse:function(t){var e=this,n=[0],r=[null],i=[],o=this.table,a="",s=0,u=0,l=0,c=2,h=1,f=i.slice.call(arguments,1),d=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);d.setInput(t,p.yy),p.yy.lexer=d,p.yy.parser=this,"undefined"==typeof d.yylloc&&(d.yylloc={});var y=d.yylloc;i.push(y);var v=d.options&&d.options.ranges;"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var m,b,x,w,_,k,A,C,S,E=function(){var t;return t=d.lex()||h,"number"!=typeof t&&(t=e.symbols_[t]||t),t},T={};;){if(x=n[n.length-1],this.defaultActions[x]?w=this.defaultActions[x]:(null!==m&&"undefined"!=typeof m||(m=E()),w=o[x]&&o[x][m]),"undefined"==typeof w||!w.length||!w[0]){var M="";S=[];for(k in o[x])this.terminals_[k]&&k>c&&S.push("'"+this.terminals_[k]+"'");M=d.showPosition?"Parse error on line "+(s+1)+":\n"+d.showPosition()+"\nExpecting "+S.join(", ")+", got '"+(this.terminals_[m]||m)+"'":"Parse error on line "+(s+1)+": Unexpected "+(m==h?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(M,{text:d.match,token:this.terminals_[m]||m,line:d.yylineno,loc:y,expected:S})}if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+x+", token: "+m);switch(w[0]){case 1:n.push(m),r.push(d.yytext),i.push(d.yylloc),n.push(w[1]),m=null,b?(m=b,b=null):(u=d.yyleng,a=d.yytext,s=d.yylineno,y=d.yylloc,l>0&&l--);break;case 2:if(A=this.productions_[w[1]][1],T.$=r[r.length-A],T._$={first_line:i[i.length-(A||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(A||1)].first_column,last_column:i[i.length-1].last_column},v&&(T._$.range=[i[i.length-(A||1)].range[0],i[i.length-1].range[1]]),_=this.performAction.apply(T,[a,u,s,p.yy,w[1],r,i].concat(f)),"undefined"!=typeof _)return _;A&&(n=n.slice(0,-1*A*2),r=r.slice(0,-1*A),i=i.slice(0,-1*A)),n.push(this.productions_[w[1]][0]),r.push(T.$),i.push(T._$),C=o[n[n.length-2]][n[n.length-1]],n.push(C);break;case 3:return!0}}return!0}},$=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),r=t[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,n,r;this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if(n=this._input.match(this.rules[i[o]]),n&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(t=this.test_match(n,i[o]),t!==!1)return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?(t=this.test_match(e,i[r]),t!==!1&&t):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,n,r){switch(n){case 0:return"STYLE";case 1:return"LINKSTYLE";case 2:return"CLASSDEF";case 3:return"CLASS";case 4:return"CLICK";case 5:return 12;case 6:return 13;case 7:return 47;case 8:return 35;case 9:return 36;case 10:return"DIR";case 11:return"DIR";case 12:return"DIR";case 13:return"DIR";case 14:return"DIR";case 15:return"DIR";case 16:return 17;case 17:return 23;case 18:return 18;case 19:return 28;case 20:return 40;case 21:return 32;case 22:return 21;case 23:return 22;case 24:return"ARROW_CROSS";case 25:return 57;case 26:return"ARROW_CIRCLE";case 27:return 58;case 28:return 25;case 29:return 19;case 30:return 20;case 31:return 16;case 32:return"PIPE";case 33:return"PS";case 34:return"PE";case 35:return 37;case 36:return 39;case 37:return 8;case 38:return 10;case 39:return"QUOTE";case 40:return 24;case 41:return"NEWLINE";case 42:return 5}},rules:[/^(?:style\b)/,/^(?:linkStyle\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:click\b)/,/^(?:graph\b)/,/^(?:digraph\b)/,/^(?:subgraph\b)/,/^(?:node\b)/,/^(?:edge\b)/,/^(?:LR\b)/,/^(?:RL\b)/,/^(?:TB\b)/,/^(?:BT\b)/,/^(?:TD\b)/,/^(?:BR\b)/,/^(?:[0-9])/,/^(?:#)/,/^(?::)/,/^(?:;)/,/^(?:,)/,/^(?:=)/,/^(?:\*)/,/^(?:\.)/,/^(?:--[x])/,/^(?:->)/,/^(?:--[o])/,/^(?:--)/,/^(?:-)/,/^(?:\+)/,/^(?:=)/,/^(?:[\u0021-\u0027\u002A-\u002E\u003F\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC_])/,/^(?:\|)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:")/,/^(?:\s)/,/^(?:\n)/,/^(?:$)/],
conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42],inclusive:!0}}};return t}();return H.lexer=$,t.prototype=H,H.Parser=t,new t}();"undefined"!=typeof t&&"undefined"!=typeof n&&(n.parser=i,n.Parser=i.Parser,n.parse=function(){return i.parse.apply(i,arguments)},n.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),r.exit(1));var i=t("fs").readFileSync(t("path").normalize(e[1]),"utf8");return n.parser.parse(i)},"undefined"!=typeof e&&t.main===e&&n.main(r.argv.slice(1)))}).call(this,t("_process"))},{_process:3,fs:1,path:2}],119:[function(t,e,n){(function(r){"use strict";var i=function(){function t(){this.yy={}}var e=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},n=[1,4],r=[1,3],i=[1,5],o=[1,8,9,10,11,13,18,30,46,71,72,73,74,75,81,86,88,89,91,92,94,95,96,97,98],a=[2,2],s=[1,12],u=[1,13],l=[1,14],c=[1,15],h=[1,31],f=[1,33],d=[1,22],p=[1,34],g=[1,24],y=[1,25],v=[1,26],m=[1,27],b=[1,28],x=[1,38],w=[1,40],_=[1,35],k=[1,39],A=[1,45],C=[1,44],S=[1,36],E=[1,37],T=[1,41],M=[1,42],D=[1,43],L=[1,8,9,10,11,13,18,30,32,46,71,72,73,74,75,81,86,88,89,91,92,94,95,96,97,98],F=[1,53],N=[1,52],O=[1,54],I=[1,72],B=[1,80],P=[1,81],R=[1,66],j=[1,65],W=[1,85],H=[1,84],$=[1,82],q=[1,83],z=[1,73],U=[1,68],Y=[1,67],G=[1,63],V=[1,75],X=[1,76],K=[1,77],Z=[1,78],J=[1,79],Q=[1,70],tt=[1,69],et=[8,9,11],nt=[8,9,11,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64],rt=[1,115],it=[8,9,10,11,13,15,18,36,38,40,42,46,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,81,86,88,89,91,92,94,95,96,97,98],ot=[8,9,10,11,12,13,15,16,17,18,30,32,36,37,38,39,40,41,42,43,46,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,71,72,73,74,75,78,81,84,86,88,89,91,92,94,95,96,97,98],at=[1,117],st=[1,118],ut=[8,9,10,11,13,18,30,32,46,71,72,73,74,75,81,86,88,89,91,92,94,95,96,97,98],lt=[8,9,10,11,12,13,15,16,17,18,30,32,37,39,41,43,46,50,51,52,53,54,56,57,58,59,60,61,62,63,64,65,71,72,73,74,75,78,81,84,86,88,89,91,92,94,95,96,97,98],ct=[13,18,46,81,86,88,89,91,92,94,95,96,97,98],ht=[13,18,46,49,65,81,86,88,89,91,92,94,95,96,97,98],ft=[1,191],dt=[1,188],pt=[1,195],gt=[1,192],yt=[1,189],vt=[1,196],mt=[1,186],bt=[1,187],xt=[1,190],wt=[1,193],_t=[1,194],kt=[1,213],At=[8,9,11,86],Ct=[8,9,10,11,46,71,80,81,84,86,88,89,90,91,92],St={trace:function(){},yy:{},symbols_:{error:2,mermaidDoc:3,graphConfig:4,document:5,line:6,statement:7,SEMI:8,NEWLINE:9,SPACE:10,EOF:11,GRAPH:12,DIR:13,FirstStmtSeperator:14,TAGEND:15,TAGSTART:16,UP:17,DOWN:18,ending:19,endToken:20,spaceList:21,spaceListNewline:22,verticeStatement:23,separator:24,styleStatement:25,linkStyleStatement:26,classDefStatement:27,classStatement:28,clickStatement:29,subgraph:30,text:31,end:32,vertex:33,link:34,alphaNum:35,SQS:36,SQE:37,PS:38,PE:39,"(-":40,"-)":41,DIAMOND_START:42,DIAMOND_STOP:43,alphaNumStatement:44,alphaNumToken:45,MINUS:46,linkStatement:47,arrowText:48,TESTSTR:49,"--":50,ARROW_POINT:51,ARROW_CIRCLE:52,ARROW_CROSS:53,ARROW_OPEN:54,"-.":55,DOTTED_ARROW_POINT:56,DOTTED_ARROW_CIRCLE:57,DOTTED_ARROW_CROSS:58,DOTTED_ARROW_OPEN:59,"==":60,THICK_ARROW_POINT:61,THICK_ARROW_CIRCLE:62,THICK_ARROW_CROSS:63,THICK_ARROW_OPEN:64,PIPE:65,textToken:66,STR:67,commentText:68,commentToken:69,keywords:70,STYLE:71,LINKSTYLE:72,CLASSDEF:73,CLASS:74,CLICK:75,textNoTags:76,textNoTagsToken:77,DEFAULT:78,stylesOpt:79,HEX:80,NUM:81,INTERPOLATE:82,commentStatement:83,PCT:84,style:85,COMMA:86,styleComponent:87,ALPHA:88,COLON:89,UNIT:90,BRKT:91,DOT:92,graphCodeTokens:93,PUNCTUATION:94,UNICODE_TEXT:95,PLUS:96,EQUALS:97,MULT:98,TAG_START:99,TAG_END:100,QUOTE:101,$accept:0,$end:1},terminals_:{2:"error",8:"SEMI",9:"NEWLINE",10:"SPACE",11:"EOF",12:"GRAPH",13:"DIR",15:"TAGEND",16:"TAGSTART",17:"UP",18:"DOWN",30:"subgraph",32:"end",36:"SQS",37:"SQE",38:"PS",39:"PE",40:"(-",41:"-)",42:"DIAMOND_START",43:"DIAMOND_STOP",46:"MINUS",49:"TESTSTR",50:"--",51:"ARROW_POINT",52:"ARROW_CIRCLE",53:"ARROW_CROSS",54:"ARROW_OPEN",55:"-.",56:"DOTTED_ARROW_POINT",57:"DOTTED_ARROW_CIRCLE",58:"DOTTED_ARROW_CROSS",59:"DOTTED_ARROW_OPEN",60:"==",61:"THICK_ARROW_POINT",62:"THICK_ARROW_CIRCLE",63:"THICK_ARROW_CROSS",64:"THICK_ARROW_OPEN",65:"PIPE",67:"STR",71:"STYLE",72:"LINKSTYLE",73:"CLASSDEF",74:"CLASS",75:"CLICK",78:"DEFAULT",80:"HEX",81:"NUM",82:"INTERPOLATE",84:"PCT",86:"COMMA",88:"ALPHA",89:"COLON",90:"UNIT",91:"BRKT",92:"DOT",94:"PUNCTUATION",95:"UNICODE_TEXT",96:"PLUS",97:"EQUALS",98:"MULT",99:"TAG_START",100:"TAG_END",101:"QUOTE"},productions_:[0,[3,2],[5,0],[5,2],[6,1],[6,1],[6,1],[6,1],[6,1],[4,2],[4,2],[4,4],[4,4],[4,4],[4,4],[4,4],[19,2],[19,1],[20,1],[20,1],[20,1],[14,1],[14,1],[14,2],[22,2],[22,2],[22,1],[22,1],[21,2],[21,1],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,5],[7,4],[24,1],[24,1],[24,1],[23,3],[23,1],[33,4],[33,5],[33,6],[33,7],[33,4],[33,5],[33,4],[33,5],[33,4],[33,5],[33,4],[33,5],[33,1],[33,2],[35,1],[35,2],[44,1],[44,1],[44,1],[44,1],[34,2],[34,3],[34,3],[34,1],[34,3],[34,3],[34,3],[34,3],[34,3],[34,3],[34,3],[34,3],[34,3],[34,3],[34,3],[34,3],[47,1],[47,1],[47,1],[47,1],[47,1],[47,1],[47,1],[47,1],[47,1],[47,1],[47,1],[47,1],[48,3],[31,1],[31,2],[31,1],[68,1],[68,2],[70,1],[70,1],[70,1],[70,1],[70,1],[70,1],[70,1],[70,1],[70,1],[70,1],[70,1],[76,1],[76,2],[27,5],[27,5],[28,5],[29,5],[29,7],[29,5],[29,7],[25,5],[25,5],[26,5],[26,5],[26,9],[26,9],[26,7],[26,7],[83,3],[79,1],[79,3],[85,1],[85,2],[87,1],[87,1],[87,1],[87,1],[87,1],[87,1],[87,1],[87,1],[87,1],[87,1],[87,1],[69,1],[69,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[77,1],[77,1],[77,1],[77,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[93,1],[93,1],[93,1],[93,1],[93,1],[93,1],[93,1],[93,1],[93,1],[93,1],[93,1],[93,1],[93,1],[93,1],[93,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 2:this.$=[];break;case 3:o[s]!==[]&&o[s-1].push(o[s]),this.$=o[s-1];break;case 4:case 57:case 59:case 60:case 92:case 94:case 95:case 108:this.$=o[s];break;case 11:r.setDirection(o[s-1]),this.$=o[s-1];break;case 12:r.setDirection("LR"),this.$=o[s-1];break;case 13:r.setDirection("RL"),this.$=o[s-1];break;case 14:r.setDirection("BT"),this.$=o[s-1];break;case 15:r.setDirection("TB"),this.$=o[s-1];break;case 30:this.$=o[s-1];break;case 31:case 32:case 33:case 34:case 35:this.$=[];break;case 36:this.$=r.addSubGraph(o[s-1],o[s-3]);break;case 37:this.$=r.addSubGraph(o[s-1],void 0);break;case 41:r.addLink(o[s-2],o[s],o[s-1]),this.$=[o[s-2],o[s]];break;case 42:this.$=[o[s]];break;case 43:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"square");break;case 44:this.$=o[s-4],r.addVertex(o[s-4],o[s-2],"square");break;case 45:this.$=o[s-5],r.addVertex(o[s-5],o[s-2],"circle");break;case 46:this.$=o[s-6],r.addVertex(o[s-6],o[s-3],"circle");break;case 47:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"ellipse");break;case 48:this.$=o[s-4],r.addVertex(o[s-4],o[s-2],"ellipse");break;case 49:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"round");break;case 50:this.$=o[s-4],r.addVertex(o[s-4],o[s-2],"round");break;case 51:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"diamond");break;case 52:this.$=o[s-4],r.addVertex(o[s-4],o[s-2],"diamond");break;case 53:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"odd");break;case 54:this.$=o[s-4],r.addVertex(o[s-4],o[s-2],"odd");break;case 55:this.$=o[s],r.addVertex(o[s]);break;case 56:this.$=o[s-1],r.addVertex(o[s-1]);break;case 58:case 93:case 96:case 109:this.$=o[s-1]+""+o[s];break;case 61:this.$="v";break;case 62:this.$="-";break;case 63:o[s-1].text=o[s],this.$=o[s-1];break;case 64:case 65:o[s-2].text=o[s-1],this.$=o[s-2];break;case 66:this.$=o[s];break;case 67:this.$={type:"arrow",stroke:"normal",text:o[s-1]};break;case 68:this.$={type:"arrow_circle",stroke:"normal",text:o[s-1]};break;case 69:this.$={type:"arrow_cross",stroke:"normal",text:o[s-1]};break;case 70:this.$={type:"arrow_open",stroke:"normal",text:o[s-1]};break;case 71:this.$={type:"arrow",stroke:"dotted",text:o[s-1]};break;case 72:this.$={type:"arrow_circle",stroke:"dotted",text:o[s-1]};break;case 73:this.$={type:"arrow_cross",stroke:"dotted",text:o[s-1]};break;case 74:this.$={type:"arrow_open",stroke:"dotted",text:o[s-1]};break;case 75:this.$={type:"arrow",stroke:"thick",text:o[s-1]};break;case 76:this.$={type:"arrow_circle",stroke:"thick",text:o[s-1]};break;case 77:this.$={type:"arrow_cross",stroke:"thick",text:o[s-1]};break;case 78:this.$={type:"arrow_open",stroke:"thick",text:o[s-1]};break;case 79:this.$={type:"arrow",stroke:"normal"};break;case 80:this.$={type:"arrow_circle",stroke:"normal"};break;case 81:this.$={type:"arrow_cross",stroke:"normal"};break;case 82:this.$={type:"arrow_open",stroke:"normal"};break;case 83:this.$={type:"arrow",stroke:"dotted"};break;case 84:this.$={type:"arrow_circle",stroke:"dotted"};break;case 85:this.$={type:"arrow_cross",stroke:"dotted"};break;case 86:this.$={type:"arrow_open",stroke:"dotted"};break;case 87:this.$={type:"arrow",stroke:"thick"};break;case 88:this.$={type:"arrow_circle",stroke:"thick"};break;case 89:this.$={type:"arrow_cross",stroke:"thick"};break;case 90:this.$={type:"arrow_open",stroke:"thick"};break;case 91:this.$=o[s-1];break;case 110:case 111:this.$=o[s-4],r.addClass(o[s-2],o[s]);break;case 112:this.$=o[s-4],r.setClass(o[s-2],o[s]);break;case 113:this.$=o[s-4],r.setClickEvent(o[s-2],o[s],void 0,void 0);break;case 114:this.$=o[s-6],r.setClickEvent(o[s-4],o[s-2],void 0,o[s]);break;case 115:this.$=o[s-4],r.setClickEvent(o[s-2],void 0,o[s],void 0);break;case 116:this.$=o[s-6],r.setClickEvent(o[s-4],void 0,o[s-2],o[s]);break;case 117:this.$=o[s-4],r.addVertex(o[s-2],void 0,void 0,o[s]);break;case 118:case 119:case 120:this.$=o[s-4],r.updateLink(o[s-2],o[s]);break;case 121:case 122:this.$=o[s-8],r.updateLinkInterpolate(o[s-6],o[s-2]),r.updateLink(o[s-6],o[s]);break;case 123:case 124:this.$=o[s-6],r.updateLinkInterpolate(o[s-4],o[s]);break;case 126:this.$=[o[s]];break;case 127:o[s-2].push(o[s]),this.$=o[s-2];break;case 129:this.$=o[s-1]+o[s]}},table:[{3:1,4:2,9:n,10:r,12:i},{1:[3]},e(o,a,{5:6}),{4:7,9:n,10:r,12:i},{4:8,9:n,10:r,12:i},{10:[1,9]},{1:[2,1],6:10,7:11,8:s,9:u,10:l,11:c,13:h,18:f,23:16,25:17,26:18,27:19,28:20,29:21,30:d,33:23,35:29,44:30,45:32,46:p,71:g,72:y,73:v,74:m,75:b,81:x,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},e(o,[2,9]),e(o,[2,10]),{13:[1,46],15:[1,47],16:[1,48],17:[1,49],18:[1,50]},e(L,[2,3]),e(L,[2,4]),e(L,[2,5]),e(L,[2,6]),e(L,[2,7]),e(L,[2,8]),{8:F,9:N,11:O,24:51},{8:F,9:N,11:O,24:55},{8:F,9:N,11:O,24:56},{8:F,9:N,11:O,24:57},{8:F,9:N,11:O,24:58},{8:F,9:N,11:O,24:59},{8:F,9:N,10:I,11:O,12:B,13:P,15:R,16:j,17:W,18:H,24:61,30:$,31:60,32:q,45:71,46:z,50:U,60:Y,66:62,67:G,70:74,71:V,72:X,73:K,74:Z,75:J,77:64,78:Q,81:x,84:tt,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},e(et,[2,42],{34:86,47:87,50:[1,88],51:[1,91],52:[1,92],53:[1,93],54:[1,94],55:[1,89],56:[1,95],57:[1,96],58:[1,97],59:[1,98],60:[1,90],61:[1,99],62:[1,100],63:[1,101],64:[1,102]}),{10:[1,103]},{10:[1,104]},{10:[1,105]},{10:[1,106]},{10:[1,107]},e(nt,[2,55],{45:32,21:113,44:114,10:rt,13:h,15:[1,112],18:f,36:[1,108],38:[1,109],40:[1,110],42:[1,111],46:p,81:x,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D}),e(it,[2,57]),e(it,[2,59]),e(it,[2,60]),e(it,[2,61]),e(it,[2,62]),e(ot,[2,154]),e(ot,[2,155]),e(ot,[2,156]),e(ot,[2,157]),e(ot,[2,158]),e(ot,[2,159]),e(ot,[2,160]),e(ot,[2,161]),e(ot,[2,162]),e(ot,[2,163]),e(ot,[2,164]),{8:at,9:st,10:rt,14:116,21:119},{8:at,9:st,10:rt,14:120,21:119},{8:at,9:st,10:rt,14:121,21:119},{8:at,9:st,10:rt,14:122,21:119},{8:at,9:st,10:rt,14:123,21:119},e(L,[2,30]),e(L,[2,38]),e(L,[2,39]),e(L,[2,40]),e(L,[2,31]),e(L,[2,32]),e(L,[2,33]),e(L,[2,34]),e(L,[2,35]),{8:F,9:N,10:I,11:O,12:B,13:P,15:R,16:j,17:W,18:H,24:124,30:$,32:q,45:71,46:z,50:U,60:Y,66:125,70:74,71:V,72:X,73:K,74:Z,75:J,77:64,78:Q,81:x,84:tt,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},e(ut,a,{5:126}),e(lt,[2,92]),e(lt,[2,94]),e(lt,[2,143]),e(lt,[2,144]),e(lt,[2,145]),e(lt,[2,146]),e(lt,[2,147]),e(lt,[2,148]),e(lt,[2,149]),e(lt,[2,150]),e(lt,[2,151]),e(lt,[2,152]),e(lt,[2,153]),e(lt,[2,97]),e(lt,[2,98]),e(lt,[2,99]),e(lt,[2,100]),e(lt,[2,101]),e(lt,[2,102]),e(lt,[2,103]),e(lt,[2,104]),e(lt,[2,105]),e(lt,[2,106]),e(lt,[2,107]),{13:h,18:f,33:127,35:29,44:30,45:32,46:p,81:x,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},e(ct,[2,66],{48:128,49:[1,129],65:[1,130]}),{10:I,12:B,13:P,15:R,16:j,17:W,18:H,30:$,31:131,32:q,45:71,46:z,50:U,60:Y,66:62,67:G,70:74,71:V,72:X,73:K,74:Z,75:J,77:64,78:Q,81:x,84:tt,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},{10:I,12:B,13:P,15:R,16:j,17:W,18:H,30:$,31:132,32:q,45:71,46:z,50:U,60:Y,66:62,67:G,70:74,71:V,72:X,73:K,74:Z,75:J,77:64,78:Q,81:x,84:tt,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},{10:I,12:B,13:P,15:R,16:j,17:W,18:H,30:$,31:133,32:q,45:71,46:z,50:U,60:Y,66:62,67:G,70:74,71:V,72:X,73:K,74:Z,75:J,77:64,78:Q,81:x,84:tt,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},e(ht,[2,79]),e(ht,[2,80]),e(ht,[2,81]),e(ht,[2,82]),e(ht,[2,83]),e(ht,[2,84]),e(ht,[2,85]),e(ht,[2,86]),e(ht,[2,87]),e(ht,[2,88]),e(ht,[2,89]),e(ht,[2,90]),{13:h,18:f,35:134,44:30,45:32,46:p,80:[1,135],81:x,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},{78:[1,136],81:[1,137]},{13:h,18:f,35:139,44:30,45:32,46:p,78:[1,138],81:x,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},{13:h,18:f,35:140,44:30,45:32,46:p,81:x,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},{13:h,18:f,35:141,44:30,45:32,46:p,81:x,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},{10:I,12:B,13:P,15:R,16:j,17:W,18:H,30:$,31:142,32:q,45:71,46:z,50:U,60:Y,66:62,67:G,70:74,71:V,72:X,73:K,74:Z,75:J,77:64,78:Q,81:x,84:tt,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},{10:I,12:B,13:P,15:R,16:j,17:W,18:H,30:$,31:144,32:q,38:[1,143],45:71,46:z,50:U,60:Y,66:62,67:G,70:74,71:V,72:X,73:K,74:Z,75:J,77:64,78:Q,81:x,84:tt,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},{10:I,12:B,13:P,15:R,16:j,17:W,18:H,30:$,31:145,32:q,45:71,46:z,50:U,60:Y,66:62,67:G,70:74,71:V,72:X,73:K,74:Z,75:J,77:64,78:Q,81:x,84:tt,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},{10:I,12:B,13:P,15:R,16:j,17:W,18:H,30:$,31:146,32:q,45:71,46:z,50:U,60:Y,66:62,67:G,70:74,71:V,72:X,73:K,74:Z,75:J,77:64,78:Q,81:x,84:tt,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},{10:I,12:B,13:P,15:R,16:j,17:W,18:H,30:$,31:147,32:q,45:71,46:z,50:U,60:Y,66:62,67:G,70:74,71:V,72:X,73:K,74:Z,75:J,77:64,78:Q,81:x,84:tt,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},e(nt,[2,56]),e(it,[2,58]),e(nt,[2,29],{21:148,10:rt}),e(o,[2,11]),e(o,[2,21]),e(o,[2,22]),{9:[1,149]},e(o,[2,12]),e(o,[2,13]),e(o,[2,14]),e(o,[2,15]),e(ut,a,{5:150}),e(lt,[2,93]),{6:10,7:11,8:s,9:u,10:l,11:c,13:h,18:f,23:16,25:17,26:18,27:19,28:20,29:21,30:d,32:[1,151],33:23,35:29,44:30,45:32,46:p,71:g,72:y,73:v,74:m,75:b,81:x,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},e(et,[2,41]),e(ct,[2,63],{10:[1,152]}),{10:[1,153]},{10:I,12:B,13:P,15:R,16:j,17:W,18:H,30:$,31:154,32:q,45:71,46:z,50:U,60:Y,66:62,67:G,70:74,71:V,72:X,73:K,74:Z,75:J,77:64,78:Q,81:x,84:tt,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},{10:I,12:B,13:P,15:R,16:j,17:W,18:H,30:$,32:q,45:71,46:z,50:U,51:[1,155],52:[1,156],53:[1,157],54:[1,158],60:Y,66:125,70:74,71:V,72:X,73:K,74:Z,75:J,77:64,78:Q,81:x,84:tt,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},{10:I,12:B,13:P,15:R,16:j,17:W,18:H,30:$,32:q,45:71,46:z,50:U,56:[1,159],57:[1,160],58:[1,161],59:[1,162],60:Y,66:125,70:74,71:V,72:X,73:K,74:Z,75:J,77:64,78:Q,81:x,84:tt,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},{10:I,12:B,13:P,15:R,16:j,17:W,18:H,30:$,32:q,45:71,46:z,50:U,60:Y,61:[1,163],62:[1,164],63:[1,165],64:[1,166],66:125,70:74,71:V,72:X,73:K,74:Z,75:J,77:64,78:Q,81:x,84:tt,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},{10:[1,167],13:h,18:f,44:114,45:32,46:p,81:x,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},{10:[1,168]},{10:[1,169]},{10:[1,170]},{10:[1,171]},{10:[1,172],13:h,18:f,44:114,45:32,46:p,81:x,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},{10:[1,173],13:h,18:f,44:114,45:32,46:p,81:x,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},{10:[1,174],13:h,18:f,44:114,45:32,46:p,81:x,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},{10:I,12:B,13:P,15:R,16:j,17:W,18:H,30:$,32:q,37:[1,175],45:71,46:z,50:U,60:Y,66:125,70:74,71:V,72:X,73:K,74:Z,75:J,77:64,78:Q,81:x,84:tt,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},{10:I,12:B,13:P,15:R,16:j,17:W,18:H,30:$,31:176,32:q,45:71,46:z,50:U,60:Y,66:62,67:G,70:74,71:V,72:X,73:K,74:Z,75:J,77:64,78:Q,81:x,84:tt,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},{10:I,12:B,13:P,15:R,16:j,17:W,18:H,30:$,32:q,39:[1,177],45:71,46:z,50:U,60:Y,66:125,70:74,71:V,72:X,73:K,74:Z,75:J,77:64,78:Q,81:x,84:tt,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},{10:I,12:B,13:P,15:R,16:j,17:W,18:H,30:$,32:q,41:[1,178],45:71,46:z,50:U,60:Y,66:125,70:74,71:V,72:X,73:K,74:Z,75:J,77:64,78:Q,81:x,84:tt,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},{10:I,12:B,13:P,15:R,16:j,17:W,18:H,30:$,32:q,43:[1,179],45:71,46:z,50:U,60:Y,66:125,70:74,71:V,72:X,73:K,74:Z,75:J,77:64,78:Q,81:x,84:tt,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},{10:I,12:B,13:P,15:R,16:j,17:W,18:H,30:$,32:q,37:[1,180],45:71,46:z,50:U,60:Y,66:125,70:74,71:V,72:X,73:K,74:Z,75:J,77:64,78:Q,81:x,84:tt,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},e(nt,[2,28]),e(o,[2,23]),{6:10,7:11,8:s,9:u,10:l,11:c,13:h,18:f,23:16,25:17,26:18,27:19,28:20,29:21,30:d,32:[1,181],33:23,35:29,44:30,45:32,46:p,71:g,72:y,73:v,74:m,75:b,81:x,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},e(L,[2,37]),e(ct,[2,65]),e(ct,[2,64]),{10:I,12:B,13:P,15:R,16:j,17:W,18:H,30:$,32:q,45:71,46:z,50:U,60:Y,65:[1,182],66:125,70:74,71:V,72:X,73:K,74:Z,75:J,77:64,78:Q,81:x,84:tt,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},e(ct,[2,67]),e(ct,[2,68]),e(ct,[2,69]),e(ct,[2,70]),e(ct,[2,71]),e(ct,[2,72]),e(ct,[2,73]),e(ct,[2,74]),e(ct,[2,75]),e(ct,[2,76]),e(ct,[2,77]),e(ct,[2,78]),{10:ft,46:dt,71:pt,79:183,80:gt,81:yt,84:vt,85:184,87:185,88:mt,89:bt,90:xt,91:wt,92:_t},{10:ft,46:dt,71:pt,79:197,80:gt,81:yt,84:vt,85:184,87:185,88:mt,89:bt,90:xt,91:wt,92:_t},{10:ft,46:dt,71:pt,79:198,80:gt,81:yt,82:[1,199],84:vt,85:184,87:185,88:mt,89:bt,90:xt,91:wt,92:_t},{10:ft,46:dt,71:pt,79:200,80:gt,81:yt,82:[1,201],84:vt,85:184,87:185,88:mt,89:bt,90:xt,91:wt,92:_t},{10:ft,46:dt,71:pt,79:202,80:gt,81:yt,84:vt,85:184,87:185,88:mt,89:bt,90:xt,91:wt,92:_t},{10:ft,46:dt,71:pt,79:203,80:gt,81:yt,84:vt,85:184,87:185,88:mt,89:bt,90:xt,91:wt,92:_t},{13:h,18:f,35:204,44:30,45:32,46:p,81:x,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},{13:h,18:f,35:205,44:30,45:32,46:p,67:[1,206],81:x,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},e(nt,[2,43],{21:207,10:rt}),{10:I,12:B,13:P,15:R,16:j,17:W,18:H,30:$,32:q,39:[1,208],45:71,46:z,50:U,60:Y,66:125,70:74,71:V,72:X,73:K,74:Z,75:J,77:64,78:Q,81:x,84:tt,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},e(nt,[2,49],{21:209,10:rt}),e(nt,[2,47],{21:210,10:rt}),e(nt,[2,51],{21:211,10:rt}),e(nt,[2,53],{21:212,10:rt}),e(L,[2,36]),e([10,13,18,46,81,86,88,89,91,92,94,95,96,97,98],[2,91]),e(et,[2,117],{86:kt}),e(At,[2,126],{87:214,10:ft,46:dt,71:pt,80:gt,81:yt,84:vt,88:mt,89:bt,90:xt,91:wt,92:_t}),e(Ct,[2,128]),e(Ct,[2,130]),e(Ct,[2,131]),e(Ct,[2,132]),e(Ct,[2,133]),e(Ct,[2,134]),e(Ct,[2,135]),e(Ct,[2,136]),e(Ct,[2,137]),e(Ct,[2,138]),e(Ct,[2,139]),e(Ct,[2,140]),e(et,[2,118],{86:kt}),e(et,[2,119],{86:kt}),{10:[1,215]},e(et,[2,120],{86:kt}),{10:[1,216]},e(et,[2,110],{86:kt}),e(et,[2,111],{86:kt}),e(et,[2,112],{45:32,44:114,13:h,18:f,46:p,81:x,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D}),e(et,[2,113],{45:32,44:114,10:[1,217],13:h,18:f,46:p,81:x,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D}),e(et,[2,115],{10:[1,218]}),e(nt,[2,44]),{39:[1,219]},e(nt,[2,50]),e(nt,[2,48]),e(nt,[2,52]),e(nt,[2,54]),{10:ft,46:dt,71:pt,80:gt,81:yt,84:vt,85:220,87:185,88:mt,89:bt,90:xt,91:wt,92:_t},e(Ct,[2,129]),{13:h,18:f,35:221,44:30,45:32,46:p,81:x,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},{13:h,18:f,35:222,44:30,45:32,46:p,81:x,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D},{67:[1,223]},{67:[1,224]},e(nt,[2,45],{21:225,10:rt}),e(At,[2,127],{87:214,10:ft,46:dt,71:pt,80:gt,81:yt,84:vt,88:mt,89:bt,90:xt,91:wt,92:_t}),e(et,[2,123],{45:32,44:114,10:[1,226],13:h,18:f,46:p,81:x,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D}),e(et,[2,124],{45:32,44:114,10:[1,227],13:h,18:f,46:p,81:x,86:w,88:_,89:k,91:A,92:C,94:S,95:E,96:T,97:M,98:D}),e(et,[2,114]),e(et,[2,116]),e(nt,[2,46]),{10:ft,46:dt,71:pt,79:228,80:gt,81:yt,84:vt,85:184,87:185,88:mt,89:bt,90:xt,91:wt,92:_t},{10:ft,46:dt,71:pt,79:229,80:gt,81:yt,84:vt,85:184,87:185,88:mt,89:bt,90:xt,91:wt,92:_t},e(et,[2,121],{86:kt}),e(et,[2,122],{86:kt})],defaultActions:{},parseError:function(t,e){if(!e.recoverable){var n=function(t,e){this.message=t,this.hash=e};throw n.prototype=Error,new n(t,e)}this.trace(t)},parse:function(t){var e=this,n=[0],r=[null],i=[],o=this.table,a="",s=0,u=0,l=0,c=2,h=1,f=i.slice.call(arguments,1),d=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);d.setInput(t,p.yy),p.yy.lexer=d,p.yy.parser=this,"undefined"==typeof d.yylloc&&(d.yylloc={});var y=d.yylloc;i.push(y);var v=d.options&&d.options.ranges;"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var m,b,x,w,_,k,A,C,S,E=function(){var t;return t=d.lex()||h,"number"!=typeof t&&(t=e.symbols_[t]||t),t},T={};;){if(x=n[n.length-1],this.defaultActions[x]?w=this.defaultActions[x]:(null!==m&&"undefined"!=typeof m||(m=E()),w=o[x]&&o[x][m]),"undefined"==typeof w||!w.length||!w[0]){var M="";S=[];for(k in o[x])this.terminals_[k]&&k>c&&S.push("'"+this.terminals_[k]+"'");M=d.showPosition?"Parse error on line "+(s+1)+":\n"+d.showPosition()+"\nExpecting "+S.join(", ")+", got '"+(this.terminals_[m]||m)+"'":"Parse error on line "+(s+1)+": Unexpected "+(m==h?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(M,{text:d.match,token:this.terminals_[m]||m,line:d.yylineno,loc:y,expected:S})}if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+x+", token: "+m);switch(w[0]){case 1:n.push(m),r.push(d.yytext),i.push(d.yylloc),n.push(w[1]),m=null,b?(m=b,b=null):(u=d.yyleng,a=d.yytext,s=d.yylineno,y=d.yylloc,l>0&&l--);break;case 2:if(A=this.productions_[w[1]][1],T.$=r[r.length-A],T._$={first_line:i[i.length-(A||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(A||1)].first_column,last_column:i[i.length-1].last_column},v&&(T._$.range=[i[i.length-(A||1)].range[0],i[i.length-1].range[1]]),_=this.performAction.apply(T,[a,u,s,p.yy,w[1],r,i].concat(f)),"undefined"!=typeof _)return _;A&&(n=n.slice(0,-1*A*2),r=r.slice(0,-1*A),i=i.slice(0,-1*A)),n.push(this.productions_[w[1]][0]),r.push(T.$),i.push(T._$),C=o[n[n.length-2]][n[n.length-1]],n.push(C);break;case 3:return!0}}return!0}},Et=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),r=t[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,n,r;this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if(n=this._input.match(this.rules[i[o]]),n&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(t=this.test_match(n,i[o]),t!==!1)return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?(t=this.test_match(e,i[r]),t!==!1&&t):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,n,r){switch(n){case 0:break;case 1:this.begin("string");break;case 2:this.popState();break;case 3:return"STR";case 4:return 71;case 5:return 78;case 6:return 72;case 7:return 82;case 8:return 73;case 9:return 74;case 10:return 75;case 11:return 12;case 12:return 30;case 13:return 32;case 14:return 13;case 15:return 13;case 16:return 13;case 17:return 13;case 18:return 13;case 19:return 13;case 20:return 81;case 21:return 91;case 22:return 89;case 23:return 8;case 24:return 86;case 25:return 98;case 26:return 16;case 27:return 15;case 28:return 17;case 29:return 18;case 30:return 53;case 31:return 51;case 32:return 52;case 33:return 54;case 34:return 58;case 35:return 56;case 36:return 57;case 37:return 59;case 38:return 58;case 39:return 56;case 40:return 57;case 41:return 59;case 42:return 63;case 43:return 61;case 44:return 62;case 45:return 64;case 46:return 50;case 47:return 55;case 48:return 60;case 49:return 40;case 50:return 41;case 51:return 46;case 52:return 92;case 53:return 96;case 54:return 84;case 55:return 97;case 56:return 97;case 57:return 88;case 58:return 94;case 59:return 95;case 60:return 65;case 61:return 38;case 62:return 39;case 63:return 36;case 64:return 37;case 65:return 42;case 66:return 43;case 67:return 101;case 68:return 9;case 69:return 10;case 70:return 11}},rules:[/^(?:%%[^\n]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:click\b)/,/^(?:graph\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:LR\b)/,/^(?:RL\b)/,/^(?:TB\b)/,/^(?:BT\b)/,/^(?:TD\b)/,/^(?:BR\b)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:v\b)/,/^(?:\s*--[x]\s*)/,/^(?:\s*-->\s*)/,/^(?:\s*--[o]\s*)/,/^(?:\s*---\s*)/,/^(?:\s*-\.-[x]\s*)/,/^(?:\s*-\.->\s*)/,/^(?:\s*-\.-[o]\s*)/,/^(?:\s*-\.-\s*)/,/^(?:\s*.-[x]\s*)/,/^(?:\s*\.->\s*)/,/^(?:\s*\.-[o]\s*)/,/^(?:\s*\.-\s*)/,/^(?:\s*==[x]\s*)/,/^(?:\s*==>\s*)/,/^(?:\s*==[o]\s*)/,/^(?:\s*==[\=]\s*)/,/^(?:\s*--\s*)/,/^(?:\s*-\.\s*)/,/^(?:\s*==\s*)/,/^(?:\(-)/,/^(?:-\))/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:[A-Za-z]+)/,/^(?:[!"#$%&'*+,-.`?\\_\/])/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:")/,/^(?:\n+)/,/^(?:\s)/,/^(?:$)/],
conditions:{string:{rules:[2,3],inclusive:!1},INITIAL:{rules:[0,1,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70],inclusive:!0}}};return t}();return St.lexer=Et,t.prototype=St,St.Parser=t,new t}();"undefined"!=typeof t&&"undefined"!=typeof n&&(n.parser=i,n.Parser=i.Parser,n.parse=function(){return i.parse.apply(i,arguments)},n.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),r.exit(1));var i=t("fs").readFileSync(t("path").normalize(e[1]),"utf8");return n.parser.parse(i)},"undefined"!=typeof e&&t.main===e&&n.main(r.argv.slice(1)))}).call(this,t("_process"))},{_process:3,fs:1,path:2}],120:[function(t,e,n){(function(e){"use strict";var r=t("moment"),i=t("../../logger"),o=new i.Log,a="",s="",u=[],l=[],c="";n.clear=function(){u=[],l=[],c="",s="",g=0,h=void 0,f=void 0,b=[]},n.setDateFormat=function(t){a=t},n.getDateFormat=function(){return a},n.setTitle=function(t){s=t},n.getTitle=function(){return s},n.addSection=function(t){c=t,u.push(t)},n.getTasks=function(){for(var t=w(),e=10,n=0;!t&&n<e;)t=w(),n++;return l=b};var h,f,d=function(t,e,i){i=i.trim();var a=/^after\s+([\d\w\-]+)/,s=a.exec(i.trim());if(null!==s){var u=n.findTaskById(s[1]);if("undefined"==typeof u){var l=new Date;return l.setHours(0,0,0,0),l}return u.endTime}return r(i,e.trim(),!0).isValid()?r(i,e.trim(),!0).toDate():(o.debug("Invalid date:"+i),o.debug("With date format:"+e.trim()),new Date)},p=function(t,e,n){if(n=n.trim(),r(n,e.trim(),!0).isValid())return r(n,e.trim()).toDate();var i=r(t),o=/^([\d]+)([wdhms])/,a=o.exec(n.trim());if(null!==a){switch(a[2]){case"s":i.add(a[1],"seconds");break;case"m":i.add(a[1],"minutes");break;case"h":i.add(a[1],"hours");break;case"d":i.add(a[1],"days");break;case"w":i.add(a[1],"weeks")}return i.toDate()}return i.toDate()},g=0,y=function(t){return"undefined"==typeof t?(g+=1,"task"+g):t},v=function(t,e){var r;r=":"===e.substr(0,1)?e.substr(1,e.length):e;for(var i=r.split(","),o={},a=n.getDateFormat(),s=!0;s;)s=!1,i[0].match(/^\s*active\s*$/)&&(o.active=!0,i.shift(1),s=!0),i[0].match(/^\s*done\s*$/)&&(o.done=!0,i.shift(1),s=!0),i[0].match(/^\s*crit\s*$/)&&(o.crit=!0,i.shift(1),s=!0);var u;for(u=0;u<i.length;u++)i[u]=i[u].trim();switch(i.length){case 1:o.id=y(),o.startTime=t.endTime,o.endTime=p(o.startTime,a,i[0]);break;case 2:o.id=y(),o.startTime=d(void 0,a,i[0]),o.endTime=p(o.startTime,a,i[1]);break;case 3:o.id=y(i[0]),o.startTime=d(void 0,a,i[1]),o.endTime=p(o.startTime,a,i[2])}return o},m=function(t,e){var n;n=":"===e.substr(0,1)?e.substr(1,e.length):e;for(var r=n.split(","),i={},o=!0;o;)o=!1,r[0].match(/^\s*active\s*$/)&&(i.active=!0,r.shift(1),o=!0),r[0].match(/^\s*done\s*$/)&&(i.done=!0,r.shift(1),o=!0),r[0].match(/^\s*crit\s*$/)&&(i.crit=!0,r.shift(1),o=!0);var a;for(a=0;a<r.length;a++)r[a]=r[a].trim();switch(r.length){case 1:i.id=y(),i.startTime={type:"prevTaskEnd",id:t},i.endTime={data:r[0]};break;case 2:i.id=y(),i.startTime={type:"getStartDate",startData:r[0]},i.endTime={data:r[1]};break;case 3:i.id=y(r[0]),i.startTime={type:"getStartDate",startData:r[1]},i.endTime={data:r[2]}}return i},b=[],x={};n.addTask=function(t,e){var n={section:c,type:c,processed:!1,raw:{data:e},task:t},r=m(f,e);n.raw.startTime=r.startTime,n.raw.endTime=r.endTime,n.id=r.id,n.prevTaskId=f,n.active=r.active,n.done=r.done,n.crit=r.crit;var i=b.push(n);f=n.id,x[n.id]=i-1},n.findTaskById=function(t){var e=x[t];return b[e]},n.addTaskOrg=function(t,e){var n={section:c,type:c,description:t,task:t},r=v(h,e);n.startTime=r.startTime,n.endTime=r.endTime,n.id=r.id,n.active=r.active,n.done=r.done,n.crit=r.crit,h=n,l.push(n)};var w=function(){var t,e=n.getDateFormat(),r=function(t){var r=b[t],i="";switch(b[t].raw.startTime.type){case"prevTaskEnd":var o=n.findTaskById(r.prevTaskId);r.startTime=o.endTime;break;case"getStartDate":i=d(void 0,e,b[t].raw.startTime.startData),i&&(b[t].startTime=i)}return b[t].startTime&&(b[t].endTime=p(b[t].startTime,e,b[t].raw.endTime.data),b[t].endTime&&(b[t].processed=!0)),b[t].processed},i=!0;for(t=0;t<b.length;t++)r(t),i=i&&b[t].processed;return i};n.parseError=function(t,n){e.mermaidAPI.parseError(t,n)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../logger":130,moment:106}],121:[function(t,e,n){"use strict";var r=t("./parser/gantt").parser;r.yy=t("./ganttDb");var i,o=t("../../d3"),a=t("moment"),s={titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,fontFamily:'"Open-Sans", "sans-serif"'};e.exports.setConf=function(t){var e=Object.keys(t);e.forEach(function(e){s[e]=t[e]})};var u;e.exports.draw=function(t,e){function n(t,e,n){var r=s.barHeight,i=r+s.barGap,a=s.topPadding,u=s.leftPadding,d=o.scale.linear().domain([0,k.length]).range(["#00B9FA","#F95002"]).interpolate(o.interpolateHcl);c(u,a,e,n),l(t,i,a,u,r,d,e,n),h(i,a,u,r,d),f(u,a,e,n)}function l(t,e,n,r,i,o,a,u){b.append("g").selectAll("rect").data(t).enter().append("rect").attr("x",0).attr("y",function(t,r){return r*e+n-2}).attr("width",function(){return a-s.rightPadding/2}).attr("height",e).attr("class",function(t){for(var e=0;e<k.length;e++)if(t.type===k[e])return"section section"+e%s.numberSectionStyles;return"section section0"});var l=b.append("g").selectAll("rect").data(t).enter();l.append("rect").attr("rx",3).attr("ry",3).attr("x",function(t){return _(t.startTime)+r}).attr("y",function(t,r){return r*e+n}).attr("width",function(t){return _(t.endTime)-_(t.startTime)}).attr("height",i).attr("class",function(t){for(var e="task ",n=0,r=0;r<k.length;r++)t.type===k[r]&&(n=r%s.numberSectionStyles);return t.active?t.crit?e+" activeCrit"+n:e+" active"+n:t.done?t.crit?e+" doneCrit"+n:e+" done"+n:t.crit?e+" crit"+n:e+" task"+n}),l.append("text").text(function(t){return t.task}).attr("font-size",s.fontSize).attr("x",function(t){var e=_(t.startTime),n=_(t.endTime),i=this.getBBox().width;return i>n-e?n+i+1.5*s.leftPadding>a?e+r-5:n+r+5:(n-e)/2+e+r}).attr("y",function(t,r){return r*e+s.barHeight/2+(s.fontSize/2-2)+n}).attr("text-height",i).attr("class",function(t){for(var e=_(t.startTime),n=_(t.endTime),r=this.getBBox().width,i=0,o=0;o<k.length;o++)t.type===k[o]&&(i=o%s.numberSectionStyles);var u="";return t.active&&(u=t.crit?"activeCritText"+i:"activeText"+i),t.done?u=t.crit?u+" doneCritText"+i:u+" doneText"+i:t.crit&&(u=u+" critText"+i),r>n-e?n+r+1.5*s.leftPadding>a?"taskTextOutsideLeft taskTextOutside"+i+" "+u:"taskTextOutsideRight taskTextOutside"+i+" "+u:"taskText taskText"+i+" "+u})}function c(t,e,n,r){var a,u=[[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["h1 %I:%M",function(t){return t.getMinutes()}]],l=[["%Y",function(){return!0}]],c=[["%I:%M",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}]];"undefined"!=typeof s.axisFormatter&&(c=[],s.axisFormatter.forEach(function(t){var e=[];e[0]=t[0],e[1]=t[1],c.push(e)})),a=u.concat(c).concat(l);var h=o.svg.axis().scale(_).orient("bottom").tickSize(-r+e+s.gridLineStartPadding,0,0).tickFormat(o.time.format.multi(a));i>7&&i<230&&(h=h.ticks(o.time.monday.range)),b.append("g").attr("class","grid").attr("transform","translate("+t+", "+(r-50)+")").call(h).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em")}function h(t,e){for(var n=[],r=0,i=0;i<k.length;i++)n[i]=[k[i],g(k[i],C)];b.append("g").selectAll("text").data(n).enter().append("text").text(function(t){return t[0]}).attr("x",10).attr("y",function(i,o){if(!(o>0))return i[1]*t/2+e;for(var a=0;a<o;a++)return r+=n[o-1][1],i[1]*t/2+r*t+e}).attr("class",function(t){for(var e=0;e<k.length;e++)if(t[0]===k[e])return"sectionTitle sectionTitle"+e%s.numberSectionStyles;return"sectionTitle"})}function f(t,e,n,r){var i=b.append("g").attr("class","today"),o=new Date;i.append("line").attr("x1",_(o)+t).attr("x2",_(o)+t).attr("y1",s.titleTopMargin).attr("y2",r-s.titleTopMargin).attr("class","today")}function d(t){for(var e={},n=[],r=0,i=t.length;r<i;++r)e.hasOwnProperty(t[r])||(e[t[r]]=!0,n.push(t[r]));return n}function p(t){for(var e=t.length,n={};e;)n[t[--e]]=(n[t[e]]||0)+1;return n}function g(t,e){return p(e)[t]||0}r.yy.clear(),r.parse(t);var y=document.getElementById(e);u=y.parentElement.offsetWidth,"undefined"==typeof u&&(u=1200),"undefined"!=typeof s.useWidth&&(u=s.useWidth);var v=r.yy.getTasks(),m=v.length*(s.barHeight+s.barGap)+2*s.topPadding;y.setAttribute("height","100%"),y.setAttribute("viewBox","0 0 "+u+" "+m);var b=o.select("#"+e),x=o.min(v,function(t){return t.startTime}),w=o.max(v,function(t){return t.endTime}),_=o.time.scale().domain([o.min(v,function(t){return t.startTime}),o.max(v,function(t){return t.endTime})]).rangeRound([0,u-s.leftPadding-s.rightPadding]),k=[];i=a.duration(w-x).asDays();for(var A=0;A<v.length;A++)k.push(v[A].type);var C=k;k=d(k),n(v,u,m),"undefined"!=typeof s.useWidth&&y.setAttribute("width",u),b.append("text").text(r.yy.getTitle()).attr("x",u/2).attr("y",s.titleTopMargin).attr("class","titleText")}},{"../../d3":108,"./ganttDb":120,"./parser/gantt":122,moment:106}],122:[function(t,e,n){(function(r){"use strict";var i=function(){function t(){this.yy={}}var e=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},n=[6,8,10,11,12,13,14],r=[1,9],i=[1,10],o=[1,11],a=[1,12],s={trace:function(){},yy:{},symbols_:{error:2,start:3,gantt:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NL:10,dateFormat:11,title:12,section:13,taskTxt:14,taskData:15,$accept:0,$end:1},terminals_:{2:"error",4:"gantt",6:"EOF",8:"SPACE",10:"NL",11:"dateFormat",12:"title",13:"section",14:"taskTxt",15:"taskData"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,1],[9,1],[9,2]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 1:return o[s-1];case 2:this.$=[];break;case 3:o[s-1].push(o[s]),this.$=o[s-1];break;case 4:case 5:this.$=o[s];break;case 6:case 7:this.$=[];break;case 8:r.setDateFormat(o[s].substr(11)),this.$=o[s].substr(11);break;case 9:r.setTitle(o[s].substr(6)),this.$=o[s].substr(6);break;case 10:r.addSection(o[s].substr(8)),this.$=o[s].substr(8);break;case 11:r.addTask(o[s-1],o[s]),this.$="task"}},table:[{3:1,4:[1,2]},{1:[3]},e(n,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:r,12:i,13:o,14:a},e(n,[2,7],{1:[2,1]}),e(n,[2,3]),{9:13,11:r,12:i,13:o,14:a},e(n,[2,5]),e(n,[2,6]),e(n,[2,8]),e(n,[2,9]),e(n,[2,10]),{15:[1,14]},e(n,[2,4]),e(n,[2,11])],defaultActions:{},parseError:function(t,e){if(!e.recoverable){var n=function(t,e){this.message=t,this.hash=e};throw n.prototype=Error,new n(t,e)}this.trace(t)},parse:function(t){var e=this,n=[0],r=[null],i=[],o=this.table,a="",s=0,u=0,l=0,c=2,h=1,f=i.slice.call(arguments,1),d=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);d.setInput(t,p.yy),p.yy.lexer=d,p.yy.parser=this,"undefined"==typeof d.yylloc&&(d.yylloc={});var y=d.yylloc;i.push(y);var v=d.options&&d.options.ranges;"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var m,b,x,w,_,k,A,C,S,E=function(){var t;return t=d.lex()||h,"number"!=typeof t&&(t=e.symbols_[t]||t),t},T={};;){if(x=n[n.length-1],this.defaultActions[x]?w=this.defaultActions[x]:(null!==m&&"undefined"!=typeof m||(m=E()),w=o[x]&&o[x][m]),"undefined"==typeof w||!w.length||!w[0]){var M="";S=[];for(k in o[x])this.terminals_[k]&&k>c&&S.push("'"+this.terminals_[k]+"'");M=d.showPosition?"Parse error on line "+(s+1)+":\n"+d.showPosition()+"\nExpecting "+S.join(", ")+", got '"+(this.terminals_[m]||m)+"'":"Parse error on line "+(s+1)+": Unexpected "+(m==h?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(M,{text:d.match,token:this.terminals_[m]||m,line:d.yylineno,loc:y,expected:S})}if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+x+", token: "+m);switch(w[0]){case 1:n.push(m),r.push(d.yytext),i.push(d.yylloc),n.push(w[1]),m=null,b?(m=b,b=null):(u=d.yyleng,a=d.yytext,s=d.yylineno,y=d.yylloc,l>0&&l--);break;case 2:if(A=this.productions_[w[1]][1],T.$=r[r.length-A],T._$={first_line:i[i.length-(A||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(A||1)].first_column,last_column:i[i.length-1].last_column},v&&(T._$.range=[i[i.length-(A||1)].range[0],i[i.length-1].range[1]]),_=this.performAction.apply(T,[a,u,s,p.yy,w[1],r,i].concat(f)),"undefined"!=typeof _)return _;A&&(n=n.slice(0,-1*A*2),r=r.slice(0,-1*A),i=i.slice(0,-1*A)),n.push(this.productions_[w[1]][0]),r.push(T.$),i.push(T._$),C=o[n[n.length-2]][n[n.length-1]],n.push(C);break;case 3:return!0}}return!0}},u=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),r=t[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,n,r;this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if(n=this._input.match(this.rules[i[o]]),n&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(t=this.test_match(n,i[o]),t!==!1)return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?(t=this.test_match(e,i[r]),t!==!1&&t):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:return 10;case 1:break;case 2:break;case 3:break;case 4:return 4;case 5:return 11;case 6:return"date";case 7:return 12;case 8:return 13;case 9:return 14;case 10:return 15;case 11:return":";case 12:return 6;case 13:return"INVALID"}},rules:[/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return t}();return s.lexer=u,t.prototype=s,s.Parser=t,new t}();"undefined"!=typeof t&&"undefined"!=typeof n&&(n.parser=i,n.Parser=i.Parser,n.parse=function(){return i.parse.apply(i,arguments)},n.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),r.exit(1));var i=t("fs").readFileSync(t("path").normalize(e[1]),"utf8");return n.parser.parse(i)},"undefined"!=typeof e&&t.main===e&&n.main(r.argv.slice(1)))}).call(this,t("_process"))},{_process:3,fs:1,path:2}],123:[function(t,e,n){"use strict";function r(t,e){return Math.floor(Math.random()*(e-t))+t}function i(){for(var t="0123456789abcdef",e="",n=0;n<7;n++)e+=t[r(0,16)];return e}function o(t,e){var n,r=!0;t:for(;r;){var i=t,a=e;for(r=!1,h.debug("Entering isfastforwardable:",i.id,a.id);i.seq<=a.seq&&i!=a&&null!=a.parent;){if(Array.isArray(a.parent)){if(h.debug("In merge commit:",a.parent),n=o(i,f[a.parent[0]]))return n;t=i,e=f[a.parent[1]],r=!0;continue t}a=f[a.parent]}return h.debug(i.id,a.id),i.id==a.id}}function a(t,e){var n=t.seq,r=e.seq;return n>r&&o(e,t)}function s(t,e,n){var r=c.find(t,e);if(r){var i=c.indexOf(t,c.find(t,e));t.splice(i,1,n)}else t.push(n)}function u(t){var e=c.maxBy(t,"seq"),n="";c.each(t,function(t){n+=t==e?"\t*":"\t|"});var r=[n,e.id,e.seq];if(c.each(p,function(t,n){t==e.id&&r.push(n)}),h.debug(r.join(" ")),Array.isArray(e.parent)){var i=f[e.parent[0]];s(t,e,i),t.push(f[e.parent[1]])}else{if(null==e.parent)return;var o=f[e.parent];s(t,e,o)}t=c.uniqBy(t,"id"),u(t)}var l=t("../../logger"),c=t("lodash"),h=new l.Log(1),f={},d=null,p={master:d},g="master",y="LR",v=0;n.setDirection=function(t){y=t};var m={};n.setOptions=function(t){h.debug("options str",t),t=t&&t.trim(),t=t||"{}";try{m=JSON.parse(t)}catch(t){h.error("error while parsing gitGraph options",t.message)}},n.getOptions=function(){return m},n.commit=function(t){var e={id:i(),message:t,seq:v++,parent:null==d?null:d.id};d=e,f[e.id]=e,p[g]=e.id,h.debug("in pushCommit "+e.id)},n.branch=function(t){p[t]=null!=d?d.id:null,h.debug("in createBranch")},n.merge=function(t){var e=f[p[g]],n=f[p[t]];if(a(e,n))return void h.debug("Already merged");if(o(e,n))p[g]=p[t],d=f[p[g]];else{var r={id:i(),message:"merged branch "+t+" into "+g,seq:v++,parent:[null==d?null:d.id,p[t]]};d=r,f[r.id]=r,p[g]=r.id}h.debug(p),h.debug("in mergeBranch")},n.checkout=function(t){h.debug("in checkout"),g=t;var e=p[g];d=f[e]},n.reset=function(t){h.debug("in reset",t);var e=t.split(":")[0],n=parseInt(t.split(":")[1]),r="HEAD"==e?d:f[p[e]];for(h.debug(r,n);n>0;)if(r=f[r.parent],n--,!r){var i="Critical error - unique parent commit not found during reset";throw h.error(i),i}d=r,p[g]=r.id},n.prettyPrint=function(){h.debug(f);var t=n.getCommitsArray()[0];u([t])},n.clear=function(){f={},d=null,p={master:d},g="master",v=0},n.getBranchesAsObjArray=function(){var t=c.map(p,function(t,e){return{name:e,commit:f[t]}});return t},n.getBranches=function(){return p},n.getCommits=function(){return f},n.getCommitsArray=function(){var t=Object.keys(f).map(function(t){return f[t]});return c.each(t,function(t){h.debug(t.id)}),c.orderBy(t,["seq"],["desc"])},n.getCurrentBranch=function(){return g},n.getDirection=function(){return y},n.getHead=function(){return d}},{"../../logger":130,lodash:105}],124:[function(t,e,n){"use strict";function r(t){t.append("defs").append("g").attr("id","def-commit").append("circle").attr("r",m.nodeRadius).attr("cx",0).attr("cy",0),t.select("#def-commit").append("foreignObject").attr("width",m.nodeLabel.width).attr("height",m.nodeLabel.height).attr("x",m.nodeLabel.x).attr("y",m.nodeLabel.y).attr("class","node-label").attr("requiredFeatures","http://www.w3.org/TR/SVG11/feature#Extensibility").append("xhtml:p").html("")}function i(t,e,n,r){r=r||"basis";var i=m.branchColors[n%m.branchColors.length],o=p.svg.line().x(function(t){return Math.round(t.x)}).y(function(t){return Math.round(t.y)}).interpolate(r);t.append("svg:path").attr("d",o(e)).style("stroke",i).style("stroke-width",m.lineStrokeWidth).style("fill","none")}function o(t,e){e=e||t.node().getBBox();var n=t.node().getCTM(),r=n.e+e.x*n.a,i=n.f+e.y*n.d;return{left:r,top:i,width:e.width,height:e.height}}function a(t,e,n,r,a){y.debug("svgDrawLineForCommits: ",e,n);var s=o(t.select("#node-"+e+" circle")),u=o(t.select("#node-"+n+" circle"));switch(r){case"LR":if(s.left-u.left>m.nodeSpacing){var l={x:s.left-m.nodeSpacing,y:u.top+u.height/2},c={x:u.left+u.width,y:u.top+u.height/2};i(t,[l,c],a,"linear"),i(t,[{x:s.left,y:s.top+s.height/2},{x:s.left-m.nodeSpacing/2,y:s.top+s.height/2},{x:s.left-m.nodeSpacing/2,y:l.y},l],a)}else i(t,[{x:s.left,y:s.top+s.height/2},{x:s.left-m.nodeSpacing/2,y:s.top+s.height/2},{x:s.left-m.nodeSpacing/2,y:u.top+u.height/2},{x:u.left+u.width,y:u.top+u.height/2}],a);break;case"BT":u.top-s.top>m.nodeSpacing?(l={x:u.left+u.width/2,y:s.top+s.height+m.nodeSpacing},c={x:u.left+u.width/2,y:u.top},i(t,[l,c],a,"linear"),i(t,[{x:s.left+s.width/2,y:s.top+s.height},{x:s.left+s.width/2,y:s.top+s.height+m.nodeSpacing/2},{x:u.left+u.width/2,y:l.y-m.nodeSpacing/2},l],a)):i(t,[{x:s.left+s.width/2,y:s.top+s.height},{x:s.left+s.width/2,y:s.top+m.nodeSpacing/2},{x:u.left+u.width/2,y:u.top-m.nodeSpacing/2},{x:u.left+u.width/2,y:u.top}],a)}}function s(t,e){return t.select(e).node().cloneNode(!0)}function u(t,e,n,r){var i,o=Object.keys(v).length;if(f.isString(e))do{if(i=v[e],y.debug("in renderCommitHistory",i.id,i.seq),t.select("#node-"+e).size()>0)return;t.append(function(){return s(t,"#def-commit")}).attr("class","commit").attr("id",function(){return"node-"+i.id}).attr("transform",function(){switch(r){case"LR":return"translate("+(i.seq*m.nodeSpacing+m.leftMargin)+", "+c*m.branchOffset+")";case"BT":return"translate("+(c*m.branchOffset+m.leftMargin)+", "+(o-i.seq)*m.nodeSpacing+")"}}).attr("fill",m.nodeFillColor).attr("stroke",m.nodeStrokeColor).attr("stroke-width",m.nodeStrokeWidth);var a=f.find(n,["commit",i]);a&&(y.debug("found branch ",a.name),t.select("#node-"+i.id+" p").append("xhtml:span").attr("class","branch-label").text(a.name+", ")),t.select("#node-"+i.id+" p").append("xhtml:span").attr("class","commit-id").text(i.id),""!==i.message&&"BT"===r&&t.select("#node-"+i.id+" p").append("xhtml:span").attr("class","commit-msg").text(", "+i.message),e=i.parent}while(e&&v[e]);f.isArray(e)&&(y.debug("found merge commmit",e),u(t,e[0],n,r),c++,u(t,e[1],n,r),c--)}function l(t,e,n,r){for(r=r||0;e.seq>0&&!e.lineDrawn;)f.isString(e.parent)?(a(t,e.id,e.parent,n,r),e.lineDrawn=!0,e=v[e.parent]):f.isArray(e.parent)&&(a(t,e.id,e.parent[0],n,r),a(t,e.id,e.parent[1],n,r+1),l(t,v[e.parent[1]],n,r+1),e.lineDrawn=!0,e=v[e.parent[0]])}var c,h=t("./gitGraphAst"),f=t("lodash"),d=t("./parser/gitGraph"),p=t("../../d3"),g=t("../../logger"),y=new g.Log,v={},m={nodeSpacing:75,nodeFillColor:"yellow",nodeStrokeWidth:2,nodeStrokeColor:"grey",lineStrokeWidth:4,branchOffset:50,lineColor:"grey",leftMargin:50,branchColors:["#442f74","#983351","#609732","#AA9A39"],nodeRadius:15,nodeLabel:{width:75,height:100,x:-25,y:15}},b={};n.setConf=function(t){b=t},n.draw=function(t,e,n){try{var i;i=d.parser,i.yy=h,y.debug("in gitgraph renderer",t,e,n),i.parse(t+"\n"),m=f.extend(m,b,h.getOptions()),y.debug("effective options",m);var o=h.getDirection();v=h.getCommits();var a=h.getBranchesAsObjArray();"BT"===o&&(m.nodeLabel.x=a.length*m.branchOffset,m.nodeLabel.width="100%",m.nodeLabel.y=-2*m.nodeRadius);var s=p.select("#"+e);r(s),c=1,f.each(a,function(t){u(s,t.commit.id,a,o),l(s,t.commit,o),c++}),s.attr("height",function(){return"BT"===o?Object.keys(v).length*m.nodeSpacing:(a.length+1)*m.branchOffset})}catch(t){y.error("Error while rendering gitgraph"),y.error(t.message)}}},{"../../d3":108,"../../logger":130,"./gitGraphAst":123,"./parser/gitGraph":125,lodash:105}],125:[function(t,e,n){(function(r){"use strict";var i=function(){function t(){this.yy={}}var e=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},n=[2,3],r=[1,7],i=[7,12,15,17,19,20,21],o=[7,11,12,15,17,19,20,21],a=[2,20],s=[1,32],u={trace:function(){},yy:{},symbols_:{error:2,start:3,GG:4,":":5,document:6,EOF:7,DIR:8,options:9,body:10,OPT:11,NL:12,line:13,statement:14,COMMIT:15,commit_arg:16,BRANCH:17,ID:18,CHECKOUT:19,MERGE:20,RESET:21,reset_arg:22,STR:23,HEAD:24,reset_parents:25,CARET:26,$accept:0,$end:1},terminals_:{2:"error",4:"GG",5:":",7:"EOF",8:"DIR",11:"OPT",12:"NL",15:"COMMIT",17:"BRANCH",18:"ID",19:"CHECKOUT",20:"MERGE",21:"RESET",23:"STR",24:"HEAD",26:"CARET"},productions_:[0,[3,4],[3,5],[6,0],[6,2],[9,2],[9,1],[10,0],[10,2],[13,2],[13,1],[14,2],[14,2],[14,2],[14,2],[14,2],[16,0],[16,1],[22,2],[22,2],[25,0],[25,2]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 1:return o[s-1];case 2:return r.setDirection(o[s-3]),o[s-1];case 4:r.setOptions(o[s-1]),this.$=o[s];break;case 5:o[s-1]+=o[s],this.$=o[s-1];break;case 7:this.$=[];break;case 8:o[s-1].push(o[s]),this.$=o[s-1];break;case 9:this.$=o[s-1];break;case 11:r.commit(o[s]);break;case 12:r.branch(o[s]);break;case 13:r.checkout(o[s]);break;case 14:r.merge(o[s]);break;case 15:r.reset(o[s]);break;case 16:this.$="";break;case 17:this.$=o[s];break;case 18:this.$=o[s-1]+":"+o[s];break;case 19:this.$=o[s-1]+":"+r.count,r.count=0;break;case 20:r.count=0;break;case 21:r.count+=1}},table:[{3:1,4:[1,2]},{1:[3]},{5:[1,3],8:[1,4]},{6:5,7:n,9:6,12:r},{5:[1,8]},{7:[1,9]},e(i,[2,7],{10:10,11:[1,11]}),e(o,[2,6]),{6:12,7:n,9:6,12:r},{1:[2,1]},{7:[2,4],12:[1,15],13:13,14:14,15:[1,16],17:[1,17],19:[1,18],20:[1,19],21:[1,20]},e(o,[2,5]),{7:[1,21]},e(i,[2,8]),{12:[1,22]},e(i,[2,10]),{12:[2,16],16:23,23:[1,24]},{18:[1,25]},{18:[1,26]},{18:[1,27]},{18:[1,30],22:28,24:[1,29]},{1:[2,2]},e(i,[2,9]),{12:[2,11]},{12:[2,17]},{12:[2,12]},{12:[2,13]},{12:[2,14]},{12:[2,15]},{12:a,25:31,26:s},{12:a,25:33,26:s},{12:[2,18]},{12:a,25:34,26:s},{12:[2,19]},{12:[2,21]}],defaultActions:{9:[2,1],21:[2,2],23:[2,11],24:[2,17],25:[2,12],26:[2,13],27:[2,14],28:[2,15],31:[2,18],33:[2,19],34:[2,21]},parseError:function(t,e){if(!e.recoverable){var n=function(t,e){this.message=t,this.hash=e};throw n.prototype=Error,new n(t,e)}this.trace(t)},parse:function(t){var e=this,n=[0],r=[null],i=[],o=this.table,a="",s=0,u=0,l=0,c=2,h=1,f=i.slice.call(arguments,1),d=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);d.setInput(t,p.yy),p.yy.lexer=d,p.yy.parser=this,"undefined"==typeof d.yylloc&&(d.yylloc={});var y=d.yylloc;i.push(y);var v=d.options&&d.options.ranges;"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var m,b,x,w,_,k,A,C,S,E=function(){var t;return t=d.lex()||h,"number"!=typeof t&&(t=e.symbols_[t]||t),t},T={};;){if(x=n[n.length-1],this.defaultActions[x]?w=this.defaultActions[x]:(null!==m&&"undefined"!=typeof m||(m=E()),w=o[x]&&o[x][m]),"undefined"==typeof w||!w.length||!w[0]){var M="";S=[];for(k in o[x])this.terminals_[k]&&k>c&&S.push("'"+this.terminals_[k]+"'");M=d.showPosition?"Parse error on line "+(s+1)+":\n"+d.showPosition()+"\nExpecting "+S.join(", ")+", got '"+(this.terminals_[m]||m)+"'":"Parse error on line "+(s+1)+": Unexpected "+(m==h?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(M,{text:d.match,token:this.terminals_[m]||m,line:d.yylineno,loc:y,expected:S})}if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+x+", token: "+m);switch(w[0]){case 1:n.push(m),r.push(d.yytext),i.push(d.yylloc),n.push(w[1]),m=null,b?(m=b,b=null):(u=d.yyleng,a=d.yytext,s=d.yylineno,y=d.yylloc,l>0&&l--);break;case 2:if(A=this.productions_[w[1]][1],T.$=r[r.length-A],T._$={first_line:i[i.length-(A||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(A||1)].first_column,last_column:i[i.length-1].last_column},v&&(T._$.range=[i[i.length-(A||1)].range[0],i[i.length-1].range[1]]),_=this.performAction.apply(T,[a,u,s,p.yy,w[1],r,i].concat(f)),"undefined"!=typeof _)return _;A&&(n=n.slice(0,-1*A*2),r=r.slice(0,-1*A),i=i.slice(0,-1*A)),n.push(this.productions_[w[1]][0]),r.push(T.$),i.push(T._$),C=o[n[n.length-2]][n[n.length-1]],n.push(C);break;case 3:return!0}}return!0}},l=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),
this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),r=t[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,n,r;this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if(n=this._input.match(this.rules[i[o]]),n&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(t=this.test_match(n,i[o]),t!==!1)return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?(t=this.test_match(e,i[r]),t!==!1&&t):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:return 12;case 1:break;case 2:break;case 3:break;case 4:return 4;case 5:return 15;case 6:return 17;case 7:return 20;case 8:return 21;case 9:return 19;case 10:return 8;case 11:return 8;case 12:return 5;case 13:return 26;case 14:this.begin("options");break;case 15:this.popState();break;case 16:return 11;case 17:this.begin("string");break;case 18:this.popState();break;case 19:return 23;case 20:return 18;case 21:return 7}},rules:[/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:gitGraph\b)/i,/^(?:commit\b)/i,/^(?:branch\b)/i,/^(?:merge\b)/i,/^(?:reset\b)/i,/^(?:checkout\b)/i,/^(?:LR\b)/i,/^(?:BT\b)/i,/^(?::)/i,/^(?:\^)/i,/^(?:options\r?\n)/i,/^(?:end\r?\n)/i,/^(?:[^\n]+\r?\n)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[a-zA-Z][a-zA-Z0-9_]+)/i,/^(?:$)/i],conditions:{options:{rules:[15,16],inclusive:!1},string:{rules:[18,19],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,17,20,21],inclusive:!0}}};return t}();return u.lexer=l,t.prototype=u,u.Parser=t,new t}();"undefined"!=typeof t&&"undefined"!=typeof n&&(n.parser=i,n.Parser=i.Parser,n.parse=function(){return i.parse.apply(i,arguments)},n.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),r.exit(1));var i=t("fs").readFileSync(t("path").normalize(e[1]),"utf8");return n.parser.parse(i)},"undefined"!=typeof e&&t.main===e&&n.main(r.argv.slice(1)))}).call(this,t("_process"))},{_process:3,fs:1,path:2}],126:[function(t,e,n){(function(r){"use strict";var i=function(){function t(){this.yy={}}var e=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},n=[1,2],r=[1,3],i=[1,4],o=[2,4],a=[1,9],s=[1,11],u=[1,12],l=[1,14],c=[1,15],h=[1,17],f=[1,18],d=[1,19],p=[1,20],g=[1,22],y=[1,23],v=[1,4,5,10,15,16,18,20,21,22,23,24,25,36],m=[1,31],b=[4,5,10,15,16,18,20,21,22,23,25,36],x=[34,35,36],w={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,SD:6,document:7,line:8,statement:9,participant:10,actor:11,AS:12,restOfLine:13,signal:14,activate:15,deactivate:16,note_statement:17,title:18,text2:19,loop:20,end:21,opt:22,alt:23,else:24,note:25,placement:26,over:27,actor_pair:28,spaceList:29,",":30,left_of:31,right_of:32,signaltype:33,"+":34,"-":35,ACTOR:36,SOLID_OPEN_ARROW:37,DOTTED_OPEN_ARROW:38,SOLID_ARROW:39,DOTTED_ARROW:40,SOLID_CROSS:41,DOTTED_CROSS:42,TXT:43,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",6:"SD",10:"participant",12:"AS",13:"restOfLine",15:"activate",16:"deactivate",18:"title",20:"loop",21:"end",22:"opt",23:"alt",24:"else",25:"note",27:"over",30:",",31:"left_of",32:"right_of",34:"+",35:"-",36:"ACTOR",37:"SOLID_OPEN_ARROW",38:"DOTTED_OPEN_ARROW",39:"SOLID_ARROW",40:"DOTTED_ARROW",41:"SOLID_CROSS",42:"DOTTED_CROSS",43:"TXT"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[9,5],[9,3],[9,2],[9,3],[9,3],[9,2],[9,3],[9,4],[9,4],[9,7],[17,4],[17,4],[29,2],[29,1],[28,3],[28,1],[26,1],[26,1],[14,5],[14,5],[14,4],[11,1],[33,1],[33,1],[33,1],[33,1],[33,1],[33,1],[19,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 3:return r.apply(o[s]),o[s];case 4:this.$=[];break;case 5:o[s-1].push(o[s]),this.$=o[s-1];break;case 6:case 7:this.$=o[s];break;case 8:this.$=[];break;case 9:o[s-3].description=o[s-1],this.$=o[s-3];break;case 10:this.$=o[s-1];break;case 12:this.$={type:"activeStart",signalType:r.LINETYPE.ACTIVE_START,actor:o[s-1]};break;case 13:this.$={type:"activeEnd",signalType:r.LINETYPE.ACTIVE_END,actor:o[s-1]};break;case 15:this.$=[{type:"setTitle",text:o[s-1]}];break;case 16:o[s-1].unshift({type:"loopStart",loopText:o[s-2],signalType:r.LINETYPE.LOOP_START}),o[s-1].push({type:"loopEnd",loopText:o[s-2],signalType:r.LINETYPE.LOOP_END}),this.$=o[s-1];break;case 17:o[s-1].unshift({type:"optStart",optText:o[s-2],signalType:r.LINETYPE.OPT_START}),o[s-1].push({type:"optEnd",optText:o[s-2],signalType:r.LINETYPE.OPT_END}),this.$=o[s-1];break;case 18:o[s-4].unshift({type:"altStart",altText:o[s-5],signalType:r.LINETYPE.ALT_START}),o[s-4].push({type:"else",altText:o[s-2],signalType:r.LINETYPE.ALT_ELSE}),o[s-4]=o[s-4].concat(o[s-1]),o[s-4].push({type:"altEnd",signalType:r.LINETYPE.ALT_END}),this.$=o[s-4];break;case 19:this.$=[o[s-1],{type:"addNote",placement:o[s-2],actor:o[s-1].actor,text:o[s]}];break;case 20:o[s-2]=[].concat(o[s-1],o[s-1]).slice(0,2),o[s-2][0]=o[s-2][0].actor,o[s-2][1]=o[s-2][1].actor,this.$=[o[s-1],{type:"addNote",placement:r.PLACEMENT.OVER,actor:o[s-2].slice(0,2),text:o[s]}];break;case 23:this.$=[o[s-2],o[s]];break;case 24:this.$=o[s];break;case 25:this.$=r.PLACEMENT.LEFTOF;break;case 26:this.$=r.PLACEMENT.RIGHTOF;break;case 27:this.$=[o[s-4],o[s-1],{type:"addMessage",from:o[s-4].actor,to:o[s-1].actor,signalType:o[s-3],msg:o[s]},{type:"activeStart",signalType:r.LINETYPE.ACTIVE_START,actor:o[s-1]}];break;case 28:this.$=[o[s-4],o[s-1],{type:"addMessage",from:o[s-4].actor,to:o[s-1].actor,signalType:o[s-3],msg:o[s]},{type:"activeEnd",signalType:r.LINETYPE.ACTIVE_END,actor:o[s-4]}];break;case 29:this.$=[o[s-3],o[s-1],{type:"addMessage",from:o[s-3].actor,to:o[s-1].actor,signalType:o[s-2],msg:o[s]}];break;case 30:this.$={type:"addActor",actor:o[s]};break;case 31:this.$=r.LINETYPE.SOLID_OPEN;break;case 32:this.$=r.LINETYPE.DOTTED_OPEN;break;case 33:this.$=r.LINETYPE.SOLID;break;case 34:this.$=r.LINETYPE.DOTTED;break;case 35:this.$=r.LINETYPE.SOLID_CROSS;break;case 36:this.$=r.LINETYPE.DOTTED_CROSS;break;case 37:this.$=o[s].substring(1).trim().replace(/\\n/gm,"\n")}},table:[{3:1,4:n,5:r,6:i},{1:[3]},{3:5,4:n,5:r,6:i},{3:6,4:n,5:r,6:i},e([1,4,5,10,15,16,18,20,22,23,25,36],o,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:a,5:s,8:8,9:10,10:u,11:21,14:13,15:l,16:c,17:16,18:h,20:f,22:d,23:p,25:g,36:y},e(v,[2,5]),{9:24,10:u,11:21,14:13,15:l,16:c,17:16,18:h,20:f,22:d,23:p,25:g,36:y},e(v,[2,7]),e(v,[2,8]),{11:25,36:y},{5:[1,26]},{11:27,36:y},{11:28,36:y},{5:[1,29]},{19:30,43:m},{13:[1,32]},{13:[1,33]},{13:[1,34]},{33:35,37:[1,36],38:[1,37],39:[1,38],40:[1,39],41:[1,40],42:[1,41]},{26:42,27:[1,43],31:[1,44],32:[1,45]},e([5,12,30,37,38,39,40,41,42,43],[2,30]),e(v,[2,6]),{5:[1,47],12:[1,46]},e(v,[2,11]),{5:[1,48]},{5:[1,49]},e(v,[2,14]),{5:[1,50]},{5:[2,37]},e(b,o,{7:51}),e(b,o,{7:52}),e([4,5,10,15,16,18,20,22,23,24,25,36],o,{7:53}),{11:56,34:[1,54],35:[1,55],36:y},e(x,[2,31]),e(x,[2,32]),e(x,[2,33]),e(x,[2,34]),e(x,[2,35]),e(x,[2,36]),{11:57,36:y},{11:59,28:58,36:y},{36:[2,25]},{36:[2,26]},{13:[1,60]},e(v,[2,10]),e(v,[2,12]),e(v,[2,13]),e(v,[2,15]),{4:a,5:s,8:8,9:10,10:u,11:21,14:13,15:l,16:c,17:16,18:h,20:f,21:[1,61],22:d,23:p,25:g,36:y},{4:a,5:s,8:8,9:10,10:u,11:21,14:13,15:l,16:c,17:16,18:h,20:f,21:[1,62],22:d,23:p,25:g,36:y},{4:a,5:s,8:8,9:10,10:u,11:21,14:13,15:l,16:c,17:16,18:h,20:f,22:d,23:p,24:[1,63],25:g,36:y},{11:64,36:y},{11:65,36:y},{19:66,43:m},{19:67,43:m},{19:68,43:m},{30:[1,69],43:[2,24]},{5:[1,70]},e(v,[2,16]),e(v,[2,17]),{13:[1,71]},{19:72,43:m},{19:73,43:m},{5:[2,29]},{5:[2,19]},{5:[2,20]},{11:74,36:y},e(v,[2,9]),e(b,o,{7:75}),{5:[2,27]},{5:[2,28]},{43:[2,23]},{4:a,5:s,8:8,9:10,10:u,11:21,14:13,15:l,16:c,17:16,18:h,20:f,21:[1,76],22:d,23:p,25:g,36:y},e(v,[2,18])],defaultActions:{5:[2,1],6:[2,2],31:[2,37],44:[2,25],45:[2,26],66:[2,29],67:[2,19],68:[2,20],72:[2,27],73:[2,28],74:[2,23]},parseError:function(t,e){if(!e.recoverable){var n=function(t,e){this.message=t,this.hash=e};throw n.prototype=Error,new n(t,e)}this.trace(t)},parse:function(t){var e=this,n=[0],r=[null],i=[],o=this.table,a="",s=0,u=0,l=0,c=2,h=1,f=i.slice.call(arguments,1),d=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);d.setInput(t,p.yy),p.yy.lexer=d,p.yy.parser=this,"undefined"==typeof d.yylloc&&(d.yylloc={});var y=d.yylloc;i.push(y);var v=d.options&&d.options.ranges;"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var m,b,x,w,_,k,A,C,S,E=function(){var t;return t=d.lex()||h,"number"!=typeof t&&(t=e.symbols_[t]||t),t},T={};;){if(x=n[n.length-1],this.defaultActions[x]?w=this.defaultActions[x]:(null!==m&&"undefined"!=typeof m||(m=E()),w=o[x]&&o[x][m]),"undefined"==typeof w||!w.length||!w[0]){var M="";S=[];for(k in o[x])this.terminals_[k]&&k>c&&S.push("'"+this.terminals_[k]+"'");M=d.showPosition?"Parse error on line "+(s+1)+":\n"+d.showPosition()+"\nExpecting "+S.join(", ")+", got '"+(this.terminals_[m]||m)+"'":"Parse error on line "+(s+1)+": Unexpected "+(m==h?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(M,{text:d.match,token:this.terminals_[m]||m,line:d.yylineno,loc:y,expected:S})}if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+x+", token: "+m);switch(w[0]){case 1:n.push(m),r.push(d.yytext),i.push(d.yylloc),n.push(w[1]),m=null,b?(m=b,b=null):(u=d.yyleng,a=d.yytext,s=d.yylineno,y=d.yylloc,l>0&&l--);break;case 2:if(A=this.productions_[w[1]][1],T.$=r[r.length-A],T._$={first_line:i[i.length-(A||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(A||1)].first_column,last_column:i[i.length-1].last_column},v&&(T._$.range=[i[i.length-(A||1)].range[0],i[i.length-1].range[1]]),_=this.performAction.apply(T,[a,u,s,p.yy,w[1],r,i].concat(f)),"undefined"!=typeof _)return _;A&&(n=n.slice(0,-1*A*2),r=r.slice(0,-1*A),i=i.slice(0,-1*A)),n.push(this.productions_[w[1]][0]),r.push(T.$),i.push(T._$),C=o[n[n.length-2]][n[n.length-1]],n.push(C);break;case 3:return!0}}return!0}},_=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),r=t[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,n,r;this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if(n=this._input.match(this.rules[i[o]]),n&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(t=this.test_match(n,i[o]),t!==!1)return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?(t=this.test_match(e,i[r]),t!==!1&&t):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:return 5;case 1:break;case 2:break;case 3:break;case 4:break;case 5:return this.begin("ID"),10;case 6:return this.begin("ALIAS"),36;case 7:return this.popState(),this.popState(),this.begin("LINE"),12;case 8:return this.popState(),this.popState(),5;case 9:return this.begin("LINE"),20;case 10:return this.begin("LINE"),22;case 11:return this.begin("LINE"),23;case 12:return this.begin("LINE"),24;case 13:return this.popState(),13;case 14:return 21;case 15:return 31;case 16:return 32;case 17:return 27;case 18:return 25;case 19:return this.begin("ID"),15;case 20:return this.begin("ID"),16;case 21:return 18;case 22:return 6;case 23:return 30;case 24:return 5;case 25:return e.yytext=e.yytext.trim(),36;case 26:return 39;case 27:return 40;case 28:return 37;case 29:return 38;case 30:return 41;case 31:return 42;case 32:return 43;case 33:return 34;case 34:return 35;case 35:return 5;case 36:return"INVALID"}},rules:[/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:participant\b)/i,/^(?:[^\->:\n,;]+?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\b)/i,/^(?:sequenceDiagram\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\->:\n,;]+)/i,/^(?:->>)/i,/^(?:-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?::[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[2,3,13],inclusive:!1},ALIAS:{rules:[2,3,7,8],inclusive:!1},ID:{rules:[2,3,6],inclusive:!1},INITIAL:{rules:[0,1,3,4,5,9,10,11,12,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36],inclusive:!0}}};return t}();return w.lexer=_,t.prototype=w,w.Parser=t,new t}();"undefined"!=typeof t&&"undefined"!=typeof n&&(n.parser=i,n.Parser=i.Parser,n.parse=function(){return i.parse.apply(i,arguments)},n.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),r.exit(1));var i=t("fs").readFileSync(t("path").normalize(e[1]),"utf8");return n.parser.parse(i)},"undefined"!=typeof e&&t.main===e&&n.main(r.argv.slice(1)))}).call(this,t("_process"))},{_process:3,fs:1,path:2}],127:[function(t,e,n){(function(e){"use strict";var r={},i=[],o=[],a="",s=t("../../logger"),u=new s.Log;n.addActor=function(t,e,n){var i=r[t];i&&e===i.name&&null==n||(null==n&&(n=e),r[t]={name:e,description:n})},n.addMessage=function(t,e,n,r){i.push({from:t,to:e,message:n,answer:r})},n.addSignal=function(t,e,n,r){u.debug("Adding message from="+t+" to="+e+" message="+n+" type="+r),i.push({from:t,to:e,message:n,type:r})},n.getMessages=function(){return i},n.getActors=function(){return r},n.getActor=function(t){return r[t]},n.getActorKeys=function(){return Object.keys(r)},n.getTitle=function(){return a},n.clear=function(){r={},i=[]},n.LINETYPE={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18},n.ARROWTYPE={FILLED:0,OPEN:1},n.PLACEMENT={LEFTOF:0,RIGHTOF:1,OVER:2},n.addNote=function(t,e,r){var a={actor:t,placement:e,message:r},s=[].concat(t,t);o.push(a),i.push({from:s[0],to:s[1],message:r,type:n.LINETYPE.NOTE,placement:e})},n.setTitle=function(t){a=t},n.parseError=function(t,n){e.mermaidAPI.parseError(t,n)},n.apply=function(t){if(t instanceof Array)t.forEach(function(t){n.apply(t)});else switch(t.type){case"addActor":n.addActor(t.actor,t.actor,t.description);break;case"activeStart":n.addSignal(t.actor,void 0,void 0,t.signalType);break;case"activeEnd":n.addSignal(t.actor,void 0,void 0,t.signalType);break;case"addNote":n.addNote(t.actor,t.placement,t.text);break;case"addMessage":n.addSignal(t.from,t.to,t.msg,t.signalType);break;case"loopStart":n.addSignal(void 0,void 0,t.loopText,t.signalType);break;case"loopEnd":n.addSignal(void 0,void 0,void 0,t.signalType);break;case"optStart":n.addSignal(void 0,void 0,t.optText,t.signalType);break;case"optEnd":n.addSignal(void 0,void 0,void 0,t.signalType);break;case"altStart":n.addSignal(void 0,void 0,t.altText,t.signalType);break;case"else":n.addSignal(void 0,void 0,t.altText,t.signalType);break;case"altEnd":n.addSignal(void 0,void 0,void 0,t.signalType);break;case"setTitle":n.setTitle(t.text)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../logger":130}],128:[function(t,e,n){"use strict";var r=t("./parser/sequenceDiagram").parser;r.yy=t("./sequenceDb");var i=t("./svgDraw"),o=t("../../d3"),a=t("../../logger"),s=new a.Log,u={diagramMarginX:50,diagramMarginY:30,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,mirrorActors:!1,bottomMarginAdj:1,activationWidth:10};n.bounds={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],init:function(){this.sequenceItems=[],this.activations=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},updateVal:function(t,e,n,r){"undefined"==typeof t[e]?t[e]=n:t[e]=r(n,t[e])},updateBounds:function(t,e,r,i){function o(o){return function(l){s++;var c=a.sequenceItems.length-s+1;a.updateVal(l,"starty",e-c*u.boxMargin,Math.min),a.updateVal(l,"stopy",i+c*u.boxMargin,Math.max),a.updateVal(n.bounds.data,"startx",t-c*u.boxMargin,Math.min),a.updateVal(n.bounds.data,"stopx",r+c*u.boxMargin,Math.max),"activation"!=o&&(a.updateVal(l,"startx",t-c*u.boxMargin,Math.min),a.updateVal(l,"stopx",r+c*u.boxMargin,Math.max),a.updateVal(n.bounds.data,"starty",e-c*u.boxMargin,Math.min),a.updateVal(n.bounds.data,"stopy",i+c*u.boxMargin,Math.max))}}var a=this,s=0;this.sequenceItems.forEach(o()),this.activations.forEach(o("activation"))},insert:function(t,e,r,i){var o,a,s,u;o=Math.min(t,r),s=Math.max(t,r),a=Math.min(e,i),u=Math.max(e,i),this.updateVal(n.bounds.data,"startx",o,Math.min),this.updateVal(n.bounds.data,"starty",a,Math.min),this.updateVal(n.bounds.data,"stopx",s,Math.max),this.updateVal(n.bounds.data,"stopy",u,Math.max),this.updateBounds(o,a,s,u)},newActivation:function(t,e){var n=r.yy.getActors()[t.from.actor],o=h(t.from.actor).length,a=n.x+u.width/2+(o-1)*u.activationWidth/2;this.activations.push({startx:a,starty:this.verticalPos+2,stopx:a+u.activationWidth,stopy:void 0,actor:t.from.actor,anchored:i.anchorElement(e)})},endActivation:function(t){var e=this.activations.map(function(t){return t.actor}).lastIndexOf(t.from.actor),n=this.activations.splice(e,1)[0];return n},newLoop:function(t){this.sequenceItems.push({startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:t})},endLoop:function(){var t=this.sequenceItems.pop();return t},addElseToLoop:function(t){var e=this.sequenceItems.pop();e.elsey=n.bounds.getVerticalPos(),e.elseText=t,this.sequenceItems.push(e)},bumpVerticalPos:function(t){this.verticalPos=this.verticalPos+t,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return this.data}};var l=function(t,e,r,o,a){var s=i.getNoteRect();s.x=e,s.y=r,s.width=a||u.width,s.class="note";var l=t.append("g"),c=i.drawRect(l,s),h=i.getTextObj();h.x=e-4,h.y=r-13,h.textMargin=u.noteMargin,h.dy="1em",h.text=o.message,h.class="noteText";var f=i.drawText(l,h,s.width-u.noteMargin),d=f[0][0].getBBox().height;!a&&d>u.width?(f.remove(),l=t.append("g"),f=i.drawText(l,h,2*s.width-u.noteMargin),d=f[0][0].getBBox().height,c.attr("width",2*s.width),n.bounds.insert(e,r,e+2*s.width,r+2*u.noteMargin+d)):n.bounds.insert(e,r,e+s.width,r+2*u.noteMargin+d),c.attr("height",d+2*u.noteMargin),n.bounds.bumpVerticalPos(d+2*u.noteMargin)},c=function(t,e,i,o,a){var s,l=t.append("g"),c=e+(i-e)/2,h=l.append("text").attr("x",c).attr("y",o-7).style("text-anchor","middle").attr("class","messageText").text(a.message);s="undefined"!=typeof h[0][0].getBBox?h[0][0].getBBox().width:h[0][0].getBoundingClientRect();var f;if(e===i){f=l.append("path").attr("d","M "+e+","+o+" C "+(e+60)+","+(o-10)+" "+(e+60)+","+(o+30)+" "+e+","+(o+20)),n.bounds.bumpVerticalPos(30);var d=Math.max(s/2,100);n.bounds.insert(e-d,n.bounds.getVerticalPos()-10,i+d,n.bounds.getVerticalPos())}else f=l.append("line"),f.attr("x1",e),f.attr("y1",o),f.attr("x2",i),f.attr("y2",o),n.bounds.insert(e,n.bounds.getVerticalPos()-10,i,n.bounds.getVerticalPos());a.type===r.yy.LINETYPE.DOTTED||a.type===r.yy.LINETYPE.DOTTED_CROSS||a.type===r.yy.LINETYPE.DOTTED_OPEN?(f.style("stroke-dasharray","3, 3"),f.attr("class","messageLine1")):f.attr("class","messageLine0");var p="";u.arrowMarkerAbsolute&&(p=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,p=p.replace(/\(/g,"\\("),p=p.replace(/\)/g,"\\)")),f.attr("stroke-width",2),f.attr("stroke","black"),f.style("fill","none"),a.type!==r.yy.LINETYPE.SOLID&&a.type!==r.yy.LINETYPE.DOTTED||f.attr("marker-end","url("+p+"#arrowhead)"),a.type!==r.yy.LINETYPE.SOLID_CROSS&&a.type!==r.yy.LINETYPE.DOTTED_CROSS||f.attr("marker-end","url("+p+"#crosshead)")};e.exports.drawActors=function(t,e,r,o){var a;for(a=0;a<r.length;a++){var s=r[a];e[s].x=a*u.actorMargin+a*u.width,e[s].y=o,e[s].width=u.diagramMarginX,e[s].height=u.diagramMarginY,i.drawActor(t,e[s].x,o,e[s].description,u),n.bounds.insert(e[s].x,o,e[s].x+u.width,u.height)}n.bounds.bumpVerticalPos(u.height)},e.exports.setConf=function(t){var e=Object.keys(t);e.forEach(function(e){u[e]=t[e]})};var h=function(t){return e.exports.bounds.activations.filter(function(e){return e.actor==t})},f=function(t){var e=r.yy.getActors(),n=h(t),i=n.reduce(function(t,e){return Math.min(t,e.startx)},e[t].x+u.width/2),o=n.reduce(function(t,e){return Math.max(t,e.stopx)},e[t].x+u.width/2);return[i,o]};e.exports.draw=function(t,a){function h(t,e){var r=n.bounds.endActivation(t);r.starty+18>e&&(r.starty=e-6,e+=12),i.drawActivation(y,r,e,u),n.bounds.insert(r.startx,e-10,r.stopx,e)}r.yy.clear(),r.parse(t+"\n"),n.bounds.init();var d,p,g,y=o.select("#"+a),v=r.yy.getActors(),m=r.yy.getActorKeys(),b=r.yy.getMessages(),x=r.yy.getTitle();e.exports.drawActors(y,v,m,0),i.insertArrowHead(y),i.insertArrowCrossHead(y);var w;b.forEach(function(t){var e;switch(t.type){case r.yy.LINETYPE.NOTE:n.bounds.bumpVerticalPos(u.boxMargin),d=v[t.from].x,p=v[t.to].x,t.placement===r.yy.PLACEMENT.RIGHTOF?l(y,d+(u.width+u.actorMargin)/2,n.bounds.getVerticalPos(),t):t.placement===r.yy.PLACEMENT.LEFTOF?l(y,d-(u.width+u.actorMargin)/2,n.bounds.getVerticalPos(),t):t.to===t.from?l(y,d,n.bounds.getVerticalPos(),t):(g=Math.abs(d-p)+u.actorMargin,l(y,(d+p+u.width-g)/2,n.bounds.getVerticalPos(),t,g));break;case r.yy.LINETYPE.ACTIVE_START:n.bounds.newActivation(t,y);break;case r.yy.LINETYPE.ACTIVE_END:h(t,n.bounds.getVerticalPos());break;case r.yy.LINETYPE.LOOP_START:n.bounds.bumpVerticalPos(u.boxMargin),n.bounds.newLoop(t.message),n.bounds.bumpVerticalPos(u.boxMargin+u.boxTextMargin);break;case r.yy.LINETYPE.LOOP_END:e=n.bounds.endLoop(),i.drawLoop(y,e,"loop",u),n.bounds.bumpVerticalPos(u.boxMargin);break;case r.yy.LINETYPE.OPT_START:n.bounds.bumpVerticalPos(u.boxMargin),n.bounds.newLoop(t.message),n.bounds.bumpVerticalPos(u.boxMargin+u.boxTextMargin);break;case r.yy.LINETYPE.OPT_END:e=n.bounds.endLoop(),i.drawLoop(y,e,"opt",u),n.bounds.bumpVerticalPos(u.boxMargin);break;case r.yy.LINETYPE.ALT_START:n.bounds.bumpVerticalPos(u.boxMargin),n.bounds.newLoop(t.message),n.bounds.bumpVerticalPos(u.boxMargin+u.boxTextMargin);break;case r.yy.LINETYPE.ALT_ELSE:n.bounds.bumpVerticalPos(u.boxMargin),e=n.bounds.addElseToLoop(t.message),n.bounds.bumpVerticalPos(u.boxMargin);break;case r.yy.LINETYPE.ALT_END:e=n.bounds.endLoop(),i.drawLoop(y,e,"alt",u),n.bounds.bumpVerticalPos(u.boxMargin);break;default:try{w=t,n.bounds.bumpVerticalPos(u.messageMargin);var o=f(t.from),a=f(t.to),s=o[0]<=a[0]?1:0,m=o[0]<a[0]?0:1;d=o[s],p=a[m];var b=n.bounds.getVerticalPos();c(y,d,p,b,t);var x=o.concat(a);n.bounds.insert(Math.min.apply(null,x),b,Math.max.apply(null,x),b)}catch(t){console.error("error while drawing message",t)}}}),u.mirrorActors&&(n.bounds.bumpVerticalPos(2*u.boxMargin),e.exports.drawActors(y,v,m,n.bounds.getVerticalPos()));var _=n.bounds.getBounds();s.debug("For line height fix Querying: #"+a+" .actor-line");var k=o.selectAll("#"+a+" .actor-line");k.attr("y2",_.stopy);var A=_.stopy-_.starty+2*u.diagramMarginY;u.mirrorActors&&(A=A-u.boxMargin+u.bottomMarginAdj);var C=_.stopx-_.startx+2*u.diagramMarginX;x&&y.append("text").text(x).attr("x",(_.stopx-_.startx)/2-2*u.diagramMarginX).attr("y",-25),u.useMaxWidth?(y.attr("height","100%"),y.attr("width","100%"),y.attr("style","max-width:"+C+"px;")):(y.attr("height",A),y.attr("width",C));var S=x?40:0;y.attr("viewBox",_.startx-u.diagramMarginX+" -"+(u.diagramMarginY+S)+" "+C+" "+(A+S))}},{"../../d3":108,"../../logger":130,"./parser/sequenceDiagram":126,"./sequenceDb":127,"./svgDraw":129}],129:[function(t,e,n){"use strict";n.drawRect=function(t,e){var n=t.append("rect");return n.attr("x",e.x),n.attr("y",e.y),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("width",e.width),n.attr("height",e.height),n.attr("rx",e.rx),n.attr("ry",e.ry),"undefined"!=typeof e.class&&n.attr("class",e.class),n},n.drawText=function(t,e,n){var r=e.text.replace(/<br\/?>/gi," "),i=t.append("text");i.attr("x",e.x),i.attr("y",e.y),i.style("text-anchor",e.anchor),i.attr("fill",e.fill),"undefined"!=typeof e.class&&i.attr("class",e.class);var o=i.append("tspan");return o.attr("x",e.x+2*e.textMargin),o.text(r),"undefined"!=typeof i.textwrap&&i.textwrap({x:e.x,y:e.y,width:n,height:1800},e.textMargin),i},n.drawLabel=function(t,e){var r=n.getNoteRect();r.x=e.x,r.y=e.y,r.width=50,r.height=20,r.fill="#526e52",r.stroke="none",r.class="labelBox",n.drawRect(t,r),e.y=e.y+e.labelMargin,e.x=e.x+.5*e.labelMargin,e.fill="white",n.drawText(t,e)};var r=-1;n.drawActor=function(t,e,i,o,a){var s=e+a.width/2,u=t.append("g");0===i&&(r++,u.append("line").attr("id","actor"+r).attr("x1",s).attr("y1",5).attr("x2",s).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"));var l=n.getNoteRect();l.x=e,l.y=i,l.fill="#eaeaea",
l.width=a.width,l.height=a.height,l.class="actor",l.rx=3,l.ry=3,n.drawRect(u,l),u.append("text").attr("x",s).attr("y",i+a.height/2+5).attr("class","actor").style("text-anchor","middle").text(o)},n.anchorElement=function(t){return t.append("g")},n.drawActivation=function(t,e,r){var i=n.getNoteRect(),o=e.anchored;i.x=e.startx,i.y=e.starty,i.fill="#f4f4f4",i.width=e.stopx-e.startx,i.height=r-e.starty,n.drawRect(o,i)},n.drawLoop=function(t,e,r,i){var o=t.append("g"),a=function(t,e,n,r){o.append("line").attr("x1",t).attr("y1",e).attr("x2",n).attr("y2",r).attr("stroke-width",2).attr("stroke","#526e52").attr("class","loopLine")};a(e.startx,e.starty,e.stopx,e.starty),a(e.stopx,e.starty,e.stopx,e.stopy),a(e.startx,e.stopy,e.stopx,e.stopy),a(e.startx,e.starty,e.startx,e.stopy),"undefined"!=typeof e.elsey&&a(e.startx,e.elsey,e.stopx,e.elsey);var s=n.getTextObj();s.text=r,s.x=e.startx,s.y=e.starty,s.labelMargin=15,s.class="labelText",s.fill="white",n.drawLabel(o,s),s=n.getTextObj(),s.text="[ "+e.title+" ]",s.x=e.startx+(e.stopx-e.startx)/2,s.y=e.starty+1.5*i.boxMargin,s.anchor="middle",s.class="loopText",n.drawText(o,s),"undefined"!=typeof e.elseText&&(s.text="[ "+e.elseText+" ]",s.y=e.elsey+1.5*i.boxMargin,n.drawText(o,s))},n.insertArrowHead=function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},n.insertArrowCrossHead=function(t){var e=t.append("defs"),n=e.append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);n.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),n.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},n.getTextObj=function(){var t={x:0,y:0,fill:"black","text-anchor":"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0};return t},n.getNoteRect=function(){var t={x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0};return t}},{}],130:[function(t,e,n){"use strict";function r(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getSeconds(),i=t.getMilliseconds();e<10&&(e="0"+e),n<10&&(n="0"+n),r<10&&(r="0"+r),i<100&&(i="0"+i),i<10&&(i="00"+i);var o=e+":"+n+":"+r+" ("+i+")";return o}function i(t){this.level=t,this.log=function(){var t=Array.prototype.slice.call(arguments),e=t.shift(),n=this.level;"undefined"==typeof n&&(n=a),n<=e&&"undefined"!=typeof console&&"undefined"!=typeof console.log&&(t.unshift("["+r(new Date)+"] "),console.log.apply(console,t.map(function(t){return"object"==typeof t?JSON.stringify(t,null,2):t})))},this.trace=function(t){var e=Array.prototype.slice.call(arguments);e.unshift(o.trace),this.log.apply(this,e)},this.debug=function(t){var e=Array.prototype.slice.call(arguments);e.unshift(o.debug),this.log.apply(this,e)},this.info=function(t){var e=Array.prototype.slice.call(arguments);e.unshift(o.info),this.log.apply(this,e)},this.warn=function(t){var e=Array.prototype.slice.call(arguments);e.unshift(o.warn),this.log.apply(this,e)},this.error=function(t){var e=Array.prototype.slice.call(arguments);e.unshift(o.error),this.log.apply(this,e)}}var o={debug:1,info:2,warn:3,error:4,fatal:5,default:5},a=o.error;n.setLogLevel=function(t){a=t},n.Log=i},{}],131:[function(t,e,n){(function(e){"use strict";var r=t("./logger"),i=new r.Log,o=t("./diagrams/flowchart/graphDb"),a=t("./utils"),s=t("./diagrams/flowchart/flowRenderer"),u=t("./diagrams/sequenceDiagram/sequenceRenderer"),l=t("./diagrams/example/exampleRenderer"),c=t("./diagrams/example/parser/example"),h=t("./diagrams/flowchart/parser/flow"),f=t("./diagrams/flowchart/parser/dot"),d=t("./diagrams/sequenceDiagram/parser/sequenceDiagram"),p=t("./diagrams/sequenceDiagram/sequenceDb"),g=t("./diagrams/example/exampleDb"),y=t("./diagrams/gantt/ganttRenderer"),v=t("./diagrams/gantt/parser/gantt"),m=t("./diagrams/gantt/ganttDb"),b=t("./diagrams/classDiagram/parser/classDiagram"),x=t("./diagrams/classDiagram/classRenderer"),w=t("./diagrams/classDiagram/classDb"),_=t("./diagrams/gitGraph/parser/gitGraph"),k=t("./diagrams/gitGraph/gitGraphRenderer"),A=t("./diagrams/gitGraph/gitGraphAst"),C=t("./d3");SVGElement.prototype.getTransformToElement=SVGElement.prototype.getTransformToElement||function(t){return t.getScreenCTM().inverse().multiply(this.getScreenCTM())};var S={logLevel:5,cloneCssStyles:!0,startOnLoad:!0,arrowMarkerAbsolute:!1,flowchart:{htmlLabels:!0,useMaxWidth:!0},sequenceDiagram:{diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,mirrorActors:!0,bottomMarginAdj:1,useMaxWidth:!0},gantt:{titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,leftPadding:75,gridLineStartPadding:35,fontSize:11,fontFamily:'"Open-Sans", "sans-serif"',numberSectionStyles:3,axisFormatter:[["%I:%M",function(t){return t.getHours()}],["w. %U",function(t){return 1==t.getDay()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%m-%y",function(t){return t.getMonth()}]]},classDiagram:{},gitGraph:{},info:{}};r.setLogLevel(S.logLevel);var E=function(t){var e,n=a.detectType(t);switch(n){case"gitGraph":e=_,e.parser.yy=A;break;case"graph":e=h,e.parser.yy=o;break;case"dotGraph":e=f,e.parser.yy=o;break;case"sequenceDiagram":e=d,e.parser.yy=p;break;case"info":e=c,e.parser.yy=g;break;case"gantt":e=v,e.parser.yy=m;break;case"classDiagram":e=b,e.parser.yy=w}try{return e.parse(t),!0}catch(t){return!1}};n.parse=E,n.version=function(){return t("../package.json").version},n.encodeEntities=function(t){var e=t;return e=e.replace(/style.*:\S*#.*;/g,function(t){var e=t.substring(0,t.length-1);return e}),e=e.replace(/classDef.*:\S*#.*;/g,function(t){var e=t.substring(0,t.length-1);return e}),e=e.replace(/#\w+\;/g,function(t){var e=t.substring(1,t.length-1),n=/^\+?\d+$/.test(e);return n?"ﬂ°°"+e+"¶ß":"ﬂ°"+e+"¶ß"})},n.decodeEntities=function(t){var e=t;return e=e.replace(/\ﬂ\°\°/g,function(){return"&#"}),e=e.replace(/\ﬂ\°/g,function(){return"&"}),e=e.replace(/¶ß/g,function(){return";"})};var T=function(t,e,r,c){"undefined"!=typeof c?C.select(c).append("div").attr("id","d"+t).append("svg").attr("id",t).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").append("g"):C.select("body").append("div").attr("id","d"+t).append("svg").attr("id",t).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").append("g"),window.txt=e,e=n.encodeEntities(e);var h=C.select("#d"+t).node(),f=a.detectType(e),d={};switch(f){case"gitGraph":S.flowchart.arrowMarkerAbsolute=S.arrowMarkerAbsolute,k.setConf(S.gitGraph),k.draw(e,t,!1);break;case"graph":S.flowchart.arrowMarkerAbsolute=S.arrowMarkerAbsolute,s.setConf(S.flowchart),s.draw(e,t,!1),S.cloneCssStyles&&(d=s.getClasses(e,!1),a.cloneCssStyles(h.firstChild,d));break;case"dotGraph":S.flowchart.arrowMarkerAbsolute=S.arrowMarkerAbsolute,s.setConf(S.flowchart),s.draw(e,t,!0),S.cloneCssStyles&&(d=s.getClasses(e,!0),a.cloneCssStyles(h.firstChild,d));break;case"sequenceDiagram":S.sequenceDiagram.arrowMarkerAbsolute=S.arrowMarkerAbsolute,u.setConf(S.sequenceDiagram),u.draw(e,t),S.cloneCssStyles&&a.cloneCssStyles(h.firstChild,[]);break;case"gantt":S.gantt.arrowMarkerAbsolute=S.arrowMarkerAbsolute,y.setConf(S.gantt),y.draw(e,t),S.cloneCssStyles&&a.cloneCssStyles(h.firstChild,[]);break;case"classDiagram":S.classDiagram.arrowMarkerAbsolute=S.arrowMarkerAbsolute,x.setConf(S.classDiagram),x.draw(e,t),S.cloneCssStyles&&a.cloneCssStyles(h.firstChild,[]);break;case"info":S.info.arrowMarkerAbsolute=S.arrowMarkerAbsolute,l.draw(e,t,n.version()),S.cloneCssStyles&&a.cloneCssStyles(h.firstChild,[])}C.select("#d"+t).selectAll("foreignobject div").attr("xmlns","http://www.w3.org/1999/xhtml");var p="";S.arrowMarkerAbsolute&&(p=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,p=p.replace(/\(/g,"\\("),p=p.replace(/\)/g,"\\)"));var g=C.select("#d"+t).node().innerHTML.replace(/url\(#arrowhead/g,"url("+p+"#arrowhead","g");g=n.decodeEntities(g),"undefined"!=typeof r?r(g,o.bindFunctions):i.warn("CB = undefined!");var v=C.select("#d"+t).node();return null!==v&&"function"==typeof v.remove&&C.select("#d"+t).node().remove(),g};n.render=function(t,e,n,r){try{if(1===arguments.length&&(e=t,t="mermaidId0"),"undefined"!=typeof document)return T(t,e,n,r)}catch(t){i.warn(t)}};var M=function(t){var e,n=Object.keys(t);for(e=0;e<n.length;e++)if("object"==typeof t[n[e]]){var r,o=Object.keys(t[n[e]]);for(r=0;r<o.length;r++)i.debug("Setting conf ",n[e],"-",o[r]),"undefined"==typeof S[n[e]]&&(S[n[e]]={}),i.debug("Setting config: "+n[e]+" "+o[r]+" to "+t[n[e]][o[r]]),S[n[e]][o[r]]=t[n[e]][o[r]]}else S[n[e]]=t[n[e]]};n.initialize=function(t){i.debug("Initializing mermaidAPI"),"object"==typeof t&&M(t),r.setLogLevel(S.logLevel)},n.getConfig=function(){return S},n.parseError=function(t,n){"undefined"!=typeof mermaid?e.mermaid.parseError(t,n):(i.debug("Mermaid Syntax error:"),i.debug(t))},e.mermaidAPI={render:n.render,parse:n.parse,initialize:n.initialize,detectType:a.detectType,parseError:n.parseError,getConfig:n.getConfig}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../package.json":107,"./d3":108,"./diagrams/classDiagram/classDb":109,"./diagrams/classDiagram/classRenderer":110,"./diagrams/classDiagram/parser/classDiagram":111,"./diagrams/example/exampleDb":112,"./diagrams/example/exampleRenderer":113,"./diagrams/example/parser/example":114,"./diagrams/flowchart/flowRenderer":116,"./diagrams/flowchart/graphDb":117,"./diagrams/flowchart/parser/dot":118,"./diagrams/flowchart/parser/flow":119,"./diagrams/gantt/ganttDb":120,"./diagrams/gantt/ganttRenderer":121,"./diagrams/gantt/parser/gantt":122,"./diagrams/gitGraph/gitGraphAst":123,"./diagrams/gitGraph/gitGraphRenderer":124,"./diagrams/gitGraph/parser/gitGraph":125,"./diagrams/sequenceDiagram/parser/sequenceDiagram":126,"./diagrams/sequenceDiagram/sequenceDb":127,"./diagrams/sequenceDiagram/sequenceRenderer":128,"./logger":130,"./utils":132}],132:[function(t,e,n){"use strict";var r=t("./logger"),i=new r.Log,o=function(t){return t=t.replace(/^\s*%%.*\n/g,"\n"),t.match(/^\s*sequenceDiagram/)?"sequenceDiagram":t.match(/^\s*digraph/)?"dotGraph":t.match(/^\s*info/)?"info":t.match(/^\s*gantt/)?"gantt":t.match(/^\s*classDiagram/)?(i.debug("Detected classDiagram syntax"),"classDiagram"):t.match(/^\s*gitGraph/)?(i.debug("Detected gitGraph syntax"),"gitGraph"):"graph"};n.detectType=o;var a=function(t,e){for(var n,r="",o=document.styleSheets,a=0;a<o.length;a++)if("mermaid-svg-internal-css"!==o[a].title)try{var s=o[a].cssRules;if(null!==s)for(var u=0;u<s.length;u++)if(n=s[u],"undefined"!=typeof n.style){var l;l=t.querySelectorAll(n.selectorText),l.length>0&&(r+=n.selectorText+" { "+n.style.cssText+"}\n")}}catch(t){"undefined"!=typeof n&&i.warn('Invalid CSS selector "'+n.selectorText+'"',t)}var c="",h="";for(var f in e)e.hasOwnProperty(f)&&"undefined"!=typeof f&&("default"===f?(e.default.styles instanceof Array&&(c+="#"+t.id.trim()+" .node>rect { "+e[f].styles.join("; ")+"; }\n"),e.default.nodeLabelStyles instanceof Array&&(c+="#"+t.id.trim()+" .node text  { "+e[f].nodeLabelStyles.join("; ")+"; }\n"),e.default.edgeLabelStyles instanceof Array&&(c+="#"+t.id.trim()+" .edgeLabel text  { "+e[f].edgeLabelStyles.join("; ")+"; }\n"),e.default.clusterStyles instanceof Array&&(c+="#"+t.id.trim()+" .cluster rect  { "+e[f].clusterStyles.join("; ")+"; }\n")):e[f].styles instanceof Array&&(h+="#"+t.id.trim()+" ."+f+">rect, ."+f+">polygon, ."+f+">ellipse { "+e[f].styles.join("; ")+"; }\n"));if(""!==r||""!==c||""!==h){var d=document.createElement("style");d.setAttribute("type","text/css"),d.setAttribute("title","mermaid-svg-internal-css"),d.innerHTML="/* <![CDATA[ */\n",""!==c&&(d.innerHTML+=c),""!==r&&(d.innerHTML+=r),""!==h&&(d.innerHTML+=h),d.innerHTML+="/* ]]> */\n",t.insertBefore(d,t.firstChild)}};n.cloneCssStyles=a},{"./logger":130}]},{},[131])(131)}),function(t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else{if("function"==typeof define&&define.amd)return define([],t);(this||window).CodeMirror=t()}}(function(){"use strict";function t(n,r){if(!(this instanceof t))return new t(n,r);this.options=r=r?Pi(r):{},Pi(ta,r,!1),d(r);var i=r.value;"string"==typeof i&&(i=new Aa(i,r.mode,null,r.lineSeparator)),this.doc=i;var o=new t.inputStyles[r.inputStyle](this),a=this.display=new e(n,i,o);a.wrapper.CodeMirror=this,l(this),s(this),r.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),r.autofocus&&!Mo&&a.input.focus(),v(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Di,keySeq:null,specialChars:null};var u=this;bo&&xo<11&&setTimeout(function(){u.display.input.reset(!0)},20),$e(this),Xi(),xe(this),this.curOp.forceUpdate=!0,Kr(this,i),r.autofocus&&!Mo||u.hasFocus()?setTimeout(Ri(vn,this),20):mn(this);for(var c in ea)ea.hasOwnProperty(c)&&ea[c](this,r[c],na);_(this),r.finishInit&&r.finishInit(this);for(var h=0;h<aa.length;++h)aa[h](this);_e(this),wo&&r.lineWrapping&&"optimizelegibility"==getComputedStyle(a.lineDiv).textRendering&&(a.lineDiv.style.textRendering="auto")}function e(t,e,n){var r=this;this.input=n,r.scrollbarFiller=$i("div",null,"CodeMirror-scrollbar-filler"),r.scrollbarFiller.setAttribute("cm-not-content","true"),r.gutterFiller=$i("div",null,"CodeMirror-gutter-filler"),r.gutterFiller.setAttribute("cm-not-content","true"),r.lineDiv=$i("div",null,"CodeMirror-code"),r.selectionDiv=$i("div",null,null,"position: relative; z-index: 1"),r.cursorDiv=$i("div",null,"CodeMirror-cursors"),r.measure=$i("div",null,"CodeMirror-measure"),r.lineMeasure=$i("div",null,"CodeMirror-measure"),r.lineSpace=$i("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none"),r.mover=$i("div",[$i("div",[r.lineSpace],"CodeMirror-lines")],null,"position: relative"),r.sizer=$i("div",[r.mover],"CodeMirror-sizer"),r.sizerWidth=null,r.heightForcer=$i("div",null,null,"position: absolute; height: "+Ia+"px; width: 1px;"),r.gutters=$i("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=$i("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=$i("div",[r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),bo&&xo<8&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),wo||yo&&Mo||(r.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(r.wrapper):t(r.wrapper)),r.viewFrom=r.viewTo=e.first,r.reportedViewFrom=r.reportedViewTo=e.first,r.view=[],r.renderedView=null,r.externalMeasured=null,r.viewOffset=0,r.lastWrapHeight=r.lastWrapWidth=0,r.updateLineNumbers=null,r.nativeBarWidth=r.barHeight=r.barWidth=0,r.scrollbarsClipped=!1,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.alignWidgets=!1,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r.shift=!1,r.selForContextMenu=null,r.activeTouch=null,n.init(r)}function n(e){e.doc.mode=t.getMode(e.options,e.doc.modeOption),r(e)}function r(t){t.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),t.doc.frontier=t.doc.first,jt(t,100),t.state.modeGen++,t.curOp&&Ie(t)}function i(t){t.options.lineWrapping?(Ja(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(Za(t.display.wrapper,"CodeMirror-wrap"),f(t)),a(t),Ie(t),se(t),setTimeout(function(){m(t)},100)}function o(t){var e=me(t.display),n=t.options.lineWrapping,r=n&&Math.max(5,t.display.scroller.clientWidth/be(t.display)-3);return function(i){if(_r(t.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*e:o+e}}function a(t){var e=t.doc,n=o(t);e.iter(function(t){var e=n(t);e!=t.height&&ti(t,e)})}function s(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),se(t)}function u(t){l(t),Ie(t),setTimeout(function(){w(t)},20)}function l(t){var e=t.display.gutters,n=t.options.gutters;qi(e);for(var r=0;r<n.length;++r){var i=n[r],o=e.appendChild($i("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(t.display.lineGutter=o,o.style.width=(t.display.lineNumWidth||1)+"px")}e.style.display=r?"":"none",c(t)}function c(t){var e=t.display.gutters.offsetWidth;t.display.sizer.style.marginLeft=e+"px"}function h(t){if(0==t.height)return 0;for(var e,n=t.text.length,r=t;e=gr(r);){var i=e.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=t;e=yr(r);){var i=e.find(0,!0);n-=r.text.length-i.from.ch,r=i.to.line,n+=r.text.length-i.to.ch}return n}function f(t){var e=t.display,n=t.doc;e.maxLine=Zr(n,n.first),e.maxLineLength=h(e.maxLine),e.maxLineChanged=!0,n.iter(function(t){var n=h(t);n>e.maxLineLength&&(e.maxLineLength=n,e.maxLine=t)})}function d(t){var e=Ni(t.gutters,"CodeMirror-linenumbers");e==-1&&t.lineNumbers?t.gutters=t.gutters.concat(["CodeMirror-linenumbers"]):e>-1&&!t.lineNumbers&&(t.gutters=t.gutters.slice(0),t.gutters.splice(e,1))}function p(t){var e=t.display,n=e.gutters.offsetWidth,r=Math.round(t.doc.height+zt(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Yt(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:n}}function g(t,e,n){this.cm=n;var r=this.vert=$i("div",[$i("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=$i("div",[$i("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");t(r),t(i),Da(r,"scroll",function(){r.clientHeight&&e(r.scrollTop,"vertical")}),Da(i,"scroll",function(){i.clientWidth&&e(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,bo&&xo<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function y(){}function v(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&Za(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new t.scrollbarModel[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),Da(t,"mousedown",function(){e.state.focused&&setTimeout(function(){e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){"horizontal"==n?on(e,t):rn(e,t)},e),e.display.scrollbars.addClass&&Ja(e.display.wrapper,e.display.scrollbars.addClass)}function m(t,e){e||(e=p(t));var n=t.display.barWidth,r=t.display.barHeight;b(t,e);for(var i=0;i<4&&n!=t.display.barWidth||r!=t.display.barHeight;i++)n!=t.display.barWidth&&t.options.lineWrapping&&L(t),b(t,p(t)),n=t.display.barWidth,r=t.display.barHeight}function b(t,e){var n=t.display,r=n.scrollbars.update(e);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=e.gutterWidth+"px"):n.gutterFiller.style.display=""}function x(t,e,n){var r=n&&null!=n.top?Math.max(0,n.top):t.scroller.scrollTop;r=Math.floor(r-qt(t));var i=n&&null!=n.bottom?n.bottom:r+t.wrapper.clientHeight,o=ni(e,r),a=ni(e,i);if(n&&n.ensure){var s=n.ensure.from.line,u=n.ensure.to.line;s<o?(o=s,a=ni(e,ri(Zr(e,s))+t.wrapper.clientHeight)):Math.min(u,e.lastLine())>=a&&(o=ni(e,ri(Zr(e,u))-t.wrapper.clientHeight),a=u)}return{from:o,to:Math.max(a,o+1)}}function w(t){var e=t.display,n=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var r=A(e)-e.scroller.scrollLeft+t.doc.scrollLeft,i=e.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){t.options.fixedGutter&&n[a].gutter&&(n[a].gutter.style.left=o);var s=n[a].alignable;if(s)for(var u=0;u<s.length;u++)s[u].style.left=o}t.options.fixedGutter&&(e.gutters.style.left=r+i+"px")}}function _(t){if(!t.options.lineNumbers)return!1;var e=t.doc,n=k(t.options,e.first+e.size-1),r=t.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild($i("div",[$i("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",c(t),!0}return!1}function k(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function A(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function C(t,e,n){var r=t.display;this.viewport=e,this.visible=x(r,t.doc,e),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Gt(t),this.force=n,this.dims=N(t),this.events=[]}function S(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=Yt(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=Yt(t)+"px",e.scrollbarsClipped=!0)}function E(t,e){var n=t.display,r=t.doc;if(e.editorIsHidden)return Pe(t),!1;if(!e.force&&e.visible.from>=n.viewFrom&&e.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==He(t))return!1;_(t)&&(Pe(t),e.dims=N(t));var i=r.first+r.size,o=Math.max(e.visible.from-t.options.viewportMargin,r.first),a=Math.min(i,e.visible.to+t.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(i,n.viewTo)),Po&&(o=xr(t.doc,o),a=wr(t.doc,a));var s=o!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=e.wrapperHeight||n.lastWrapWidth!=e.wrapperWidth;We(t,o,a),n.viewOffset=ri(Zr(t.doc,n.viewFrom)),t.display.mover.style.top=n.viewOffset+"px";var u=He(t);if(!s&&0==u&&!e.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var l=Ui();return u>4&&(n.lineDiv.style.display="none"),O(t,n.updateLineNumbers,e.dims),u>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,l&&Ui()!=l&&l.offsetHeight&&l.focus(),qi(n.cursorDiv),qi(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=e.wrapperHeight,n.lastWrapWidth=e.wrapperWidth,jt(t,400)),n.updateLineNumbers=null,!0}function T(t,e){for(var n=e.viewport,r=!0;(r&&t.options.lineWrapping&&e.oldDisplayWidth!=Gt(t)||(n&&null!=n.top&&(n={top:Math.min(t.doc.height+zt(t.display)-Vt(t),n.top)}),e.visible=x(t.display,t.doc,n),!(e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)))&&E(t,e);r=!1){L(t);var i=p(t);Ot(t),m(t,i),D(t,i)}e.signal(t,"update",t),t.display.viewFrom==t.display.reportedViewFrom&&t.display.viewTo==t.display.reportedViewTo||(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function M(t,e){var n=new C(t,e);if(E(t,n)){L(t),T(t,n);var r=p(t);Ot(t),m(t,r),D(t,r),n.finish()}}function D(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+Yt(t)+"px"}function L(t){for(var e=t.display,n=e.lineDiv.offsetTop,r=0;r<e.view.length;r++){var i,o=e.view[r];if(!o.hidden){if(bo&&xo<8){var a=o.node.offsetTop+o.node.offsetHeight;i=a-n,n=a}else{var s=o.node.getBoundingClientRect();i=s.bottom-s.top}var u=o.line.height-i;if(i<2&&(i=me(e)),(u>.001||u<-.001)&&(ti(o.line,i),F(o.line),o.rest))for(var l=0;l<o.rest.length;l++)F(o.rest[l])}}}function F(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e)t.widgets[e].height=t.widgets[e].node.parentNode.offsetHeight}function N(t){for(var e=t.display,n={},r={},i=e.gutters.clientLeft,o=e.gutters.firstChild,a=0;o;o=o.nextSibling,++a)n[t.options.gutters[a]]=o.offsetLeft+o.clientLeft+i,r[t.options.gutters[a]]=o.clientWidth;return{fixedPos:A(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:e.wrapper.clientWidth}}function O(t,e,n){function r(e){var n=e.nextSibling;return wo&&Do&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),n}for(var i=t.display,o=t.options.lineNumbers,a=i.lineDiv,s=a.firstChild,u=i.view,l=i.viewFrom,c=0;c<u.length;c++){var h=u[c];if(h.hidden);else if(h.node&&h.node.parentNode==a){for(;s!=h.node;)s=r(s);var f=o&&null!=e&&e<=l&&h.lineNumber;h.changes&&(Ni(h.changes,"gutter")>-1&&(f=!1),I(t,h,l,n)),f&&(qi(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(k(t.options,l)))),s=h.node.nextSibling}else{var d=q(t,h,l,n);a.insertBefore(d,s)}l+=h.size}for(;s;)s=r(s)}function I(t,e,n,r){for(var i=0;i<e.changes.length;i++){var o=e.changes[i];"text"==o?j(t,e):"gutter"==o?H(t,e,n,r):"class"==o?W(e):"widget"==o&&$(t,e,r)}e.changes=null}function B(t){return t.node==t.text&&(t.node=$i("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),bo&&xo<8&&(t.node.style.zIndex=2)),t.node}function P(t){var e=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(e&&(e+=" CodeMirror-linebackground"),t.background)e?t.background.className=e:(t.background.parentNode.removeChild(t.background),t.background=null);else if(e){var n=B(t);t.background=n.insertBefore($i("div",null,e),n.firstChild)}}function R(t,e){var n=t.display.externalMeasured;return n&&n.line==e.line?(t.display.externalMeasured=null,e.measure=n.measure,n.built):Rr(t,e)}function j(t,e){var n=e.text.className,r=R(t,e);e.text==e.node&&(e.node=r.pre),e.text.parentNode.replaceChild(r.pre,e.text),e.text=r.pre,r.bgClass!=e.bgClass||r.textClass!=e.textClass?(e.bgClass=r.bgClass,e.textClass=r.textClass,W(e)):n&&(e.text.className=n)}function W(t){P(t),t.line.wrapClass?B(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var e=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=e||""}function H(t,e,n,r){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var i=B(e);e.gutterBackground=$i("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),i.insertBefore(e.gutterBackground,e.text)}var o=e.line.gutterMarkers;if(t.options.lineNumbers||o){var i=B(e),a=e.gutter=$i("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(t.display.input.setUneditable(a),i.insertBefore(a,e.text),e.line.gutterClass&&(a.className+=" "+e.line.gutterClass),!t.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(e.lineNumber=a.appendChild($i("div",k(t.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),o)for(var s=0;s<t.options.gutters.length;++s){var u=t.options.gutters[s],l=o.hasOwnProperty(u)&&o[u];l&&a.appendChild($i("div",[l],"CodeMirror-gutter-elt","left: "+r.gutterLeft[u]+"px; width: "+r.gutterWidth[u]+"px"))}}}function $(t,e,n){e.alignable&&(e.alignable=null);for(var r,i=e.node.firstChild;i;i=r){var r=i.nextSibling;"CodeMirror-linewidget"==i.className&&e.node.removeChild(i)}z(t,e,n)}function q(t,e,n,r){var i=R(t,e);return e.text=e.node=i.pre,i.bgClass&&(e.bgClass=i.bgClass),i.textClass&&(e.textClass=i.textClass),W(e),H(t,e,n,r),z(t,e,r),e.node}function z(t,e,n){if(U(t,e.line,e,n,!0),e.rest)for(var r=0;r<e.rest.length;r++)U(t,e.rest[r],e,n,!1)}function U(t,e,n,r,i){if(e.widgets)for(var o=B(n),a=0,s=e.widgets;a<s.length;++a){var u=s[a],l=$i("div",[u.node],"CodeMirror-linewidget");u.handleMouseEvents||l.setAttribute("cm-ignore-events","true"),Y(u,l,n,r),t.display.input.setUneditable(l),i&&u.above?o.insertBefore(l,n.gutter||n.text):o.appendChild(l),Ai(u,"redraw")}}function Y(t,e,n,r){if(t.noHScroll){(n.alignable||(n.alignable=[])).push(e);var i=r.wrapperWidth;e.style.left=r.fixedPos+"px",t.coverGutter||(i-=r.gutterTotalWidth,e.style.paddingLeft=r.gutterTotalWidth+"px"),e.style.width=i+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-r.gutterTotalWidth+"px"))}function G(t){return Ro(t.line,t.ch)}function V(t,e){return jo(t,e)<0?e:t}function X(t,e){return jo(t,e)<0?t:e}function K(t){t.state.focused||(t.display.input.focus(),vn(t))}function Z(t,e,n,r,i){var o=t.doc;t.display.shift=!1,r||(r=o.sel);var a=t.state.pasteIncoming||"paste"==i,s=o.splitLines(e),u=null;if(a&&r.ranges.length>1)if(Wo&&Wo.text.join("\n")==e){if(r.ranges.length%Wo.text.length==0){u=[];for(var l=0;l<Wo.text.length;l++)u.push(o.splitLines(Wo.text[l]))}}else s.length==r.ranges.length&&(u=Oi(s,function(t){return[t]}));for(var l=r.ranges.length-1;l>=0;l--){var c=r.ranges[l],h=c.from(),f=c.to();c.empty()&&(n&&n>0?h=Ro(h.line,h.ch-n):t.state.overwrite&&!a?f=Ro(f.line,Math.min(Zr(o,f.line).text.length,f.ch+Fi(s).length)):Wo&&Wo.lineWise&&Wo.text.join("\n")==e&&(h=f=Ro(h.line,0)));var d=t.curOp.updateInput,p={from:h,to:f,text:u?u[l%u.length]:s,origin:i||(a?"paste":t.state.cutIncoming?"cut":"+input")};Sn(t.doc,p),Ai(t,"inputRead",t,p)}e&&!a&&Q(t,e),Rn(t),t.curOp.updateInput=d,t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=!1}function J(t,e){var n=t.clipboardData&&t.clipboardData.getData("text/plain");if(n)return t.preventDefault(),e.isReadOnly()||e.options.disableInput||Me(e,function(){Z(e,n,0,null,"paste")}),!0}function Q(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var n=t.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=t.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(e.indexOf(o.electricChars.charAt(s))>-1){a=Wn(t,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Zr(t.doc,i.head.line).text.slice(0,i.head.ch))&&(a=Wn(t,i.head.line,"smart"));a&&Ai(t,"electricInput",t,i.head.line)}}}function tt(t){for(var e=[],n=[],r=0;r<t.doc.sel.ranges.length;r++){var i=t.doc.sel.ranges[r].head.line,o={anchor:Ro(i,0),head:Ro(i+1,0)};n.push(o),e.push(t.getRange(o.anchor,o.head))}return{text:e,ranges:n}}function et(t){t.setAttribute("autocorrect","off"),t.setAttribute("autocapitalize","off"),t.setAttribute("spellcheck","false")}function nt(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new Di,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function rt(){var t=$i("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),e=$i("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return wo?t.style.width="1000px":t.setAttribute("wrap","off"),To&&(t.style.border="1px solid black"),et(t),e}function it(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Di,this.gracePeriod=!1}function ot(t,e){var n=Qt(t,e.line);if(!n||n.hidden)return null;var r=Zr(t.doc,e.line),i=Kt(n,r,e.line),o=ii(r),a="left";
if(o){var s=lo(o,e.ch);a=s%2?"right":"left"}var u=ne(i.map,e.ch,a);return u.offset="right"==u.collapse?u.end:u.start,u}function at(t,e){return e&&(t.bad=!0),t}function st(t,e,n){var r;if(e==t.display.lineDiv){if(r=t.display.lineDiv.childNodes[n],!r)return at(t.clipPos(Ro(t.display.viewTo-1)),!0);e=null,n=0}else for(r=e;;r=r.parentNode){if(!r||r==t.display.lineDiv)return null;if(r.parentNode&&r.parentNode==t.display.lineDiv)break}for(var i=0;i<t.display.view.length;i++){var o=t.display.view[i];if(o.node==r)return ut(o,e,n)}}function ut(t,e,n){function r(e,n,r){for(var i=-1;i<(c?c.length:0);i++)for(var o=i<0?l.map:c[i],a=0;a<o.length;a+=3){var s=o[a+2];if(s==e||s==n){var u=ei(i<0?t.line:t.rest[i]),h=o[a]+r;return(r<0||s!=e)&&(h=o[a+(r?1:0)]),Ro(u,h)}}}var i=t.text.firstChild,o=!1;if(!e||!Va(i,e))return at(Ro(ei(t.line),0),!0);if(e==i&&(o=!0,e=i.childNodes[n],n=0,!e)){var a=t.rest?Fi(t.rest):t.line;return at(Ro(ei(a),a.text.length),o)}var s=3==e.nodeType?e:null,u=e;for(s||1!=e.childNodes.length||3!=e.firstChild.nodeType||(s=e.firstChild,n&&(n=s.nodeValue.length));u.parentNode!=i;)u=u.parentNode;var l=t.measure,c=l.maps,h=r(s,u,n);if(h)return at(h,o);for(var f=u.nextSibling,d=s?s.nodeValue.length-n:0;f;f=f.nextSibling){if(h=r(f,f.firstChild,0))return at(Ro(h.line,h.ch-d),o);d+=f.textContent.length}for(var p=u.previousSibling,d=n;p;p=p.previousSibling){if(h=r(p,p.firstChild,-1))return at(Ro(h.line,h.ch+d),o);d+=f.textContent.length}}function lt(t,e,n,r,i){function o(t){return function(e){return e.id==t}}function a(e){if(1==e.nodeType){var n=e.getAttribute("cm-text");if(null!=n)return""==n&&(n=e.textContent.replace(/\u200b/g,"")),void(s+=n);var c,h=e.getAttribute("cm-marker");if(h){var f=t.findMarks(Ro(r,0),Ro(i+1,0),o(+h));return void(f.length&&(c=f[0].find())&&(s+=Jr(t.doc,c.from,c.to).join(l)))}if("false"==e.getAttribute("contenteditable"))return;for(var d=0;d<e.childNodes.length;d++)a(e.childNodes[d]);/^(pre|div|p)$/i.test(e.nodeName)&&(u=!0)}else if(3==e.nodeType){var p=e.nodeValue;if(!p)return;u&&(s+=l,u=!1),s+=p}}for(var s="",u=!1,l=t.doc.lineSeparator();a(e),e!=n;)e=e.nextSibling;return s}function ct(t,e){this.ranges=t,this.primIndex=e}function ht(t,e){this.anchor=t,this.head=e}function ft(t,e){var n=t[e];t.sort(function(t,e){return jo(t.from(),e.from())}),e=Ni(t,n);for(var r=1;r<t.length;r++){var i=t[r],o=t[r-1];if(jo(o.to(),i.from())>=0){var a=X(o.from(),i.from()),s=V(o.to(),i.to()),u=o.empty()?i.from()==i.head:o.from()==o.head;r<=e&&--e,t.splice(--r,2,new ht(u?s:a,u?a:s))}}return new ct(t,e)}function dt(t,e){return new ct([new ht(t,e||t)],0)}function pt(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function gt(t,e){if(e.line<t.first)return Ro(t.first,0);var n=t.first+t.size-1;return e.line>n?Ro(n,Zr(t,n).text.length):yt(e,Zr(t,e.line).text.length)}function yt(t,e){var n=t.ch;return null==n||n>e?Ro(t.line,e):n<0?Ro(t.line,0):t}function vt(t,e){return e>=t.first&&e<t.first+t.size}function mt(t,e){for(var n=[],r=0;r<e.length;r++)n[r]=gt(t,e[r]);return n}function bt(t,e,n,r){if(t.cm&&t.cm.display.shift||t.extend){var i=e.anchor;if(r){var o=jo(n,i)<0;o!=jo(r,i)<0?(i=n,n=r):o!=jo(n,r)<0&&(n=r)}return new ht(i,n)}return new ht(r||n,n)}function xt(t,e,n,r){St(t,new ct([bt(t,t.sel.primary(),e,n)],0),r)}function wt(t,e,n){for(var r=[],i=0;i<t.sel.ranges.length;i++)r[i]=bt(t,t.sel.ranges[i],e[i],null);var o=ft(r,t.sel.primIndex);St(t,o,n)}function _t(t,e,n,r){var i=t.sel.ranges.slice(0);i[e]=n,St(t,ft(i,t.sel.primIndex),r)}function kt(t,e,n,r){St(t,dt(e,n),r)}function At(t,e,n){var r={ranges:e.ranges,update:function(e){this.ranges=[];for(var n=0;n<e.length;n++)this.ranges[n]=new ht(gt(t,e[n].anchor),gt(t,e[n].head))},origin:n&&n.origin};return Na(t,"beforeSelectionChange",t,r),t.cm&&Na(t.cm,"beforeSelectionChange",t.cm,r),r.ranges!=e.ranges?ft(r.ranges,r.ranges.length-1):e}function Ct(t,e,n){var r=t.history.done,i=Fi(r);i&&i.ranges?(r[r.length-1]=e,Et(t,e,n)):St(t,e,n)}function St(t,e,n){Et(t,e,n),hi(t,t.sel,t.cm?t.cm.curOp.id:NaN,n)}function Et(t,e,n){(Ti(t,"beforeSelectionChange")||t.cm&&Ti(t.cm,"beforeSelectionChange"))&&(e=At(t,e,n));var r=n&&n.bias||(jo(e.primary().head,t.sel.primary().head)<0?-1:1);Tt(t,Dt(t,e,r,!0)),n&&n.scroll===!1||!t.cm||Rn(t.cm)}function Tt(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=t.cm.curOp.selectionChanged=!0,Ei(t.cm)),Ai(t,"cursorActivity",t))}function Mt(t){Tt(t,Dt(t,t.sel,null,!1),Pa)}function Dt(t,e,n,r){for(var i,o=0;o<e.ranges.length;o++){var a=e.ranges[o],s=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[o],u=Ft(t,a.anchor,s&&s.anchor,n,r),l=Ft(t,a.head,s&&s.head,n,r);(i||u!=a.anchor||l!=a.head)&&(i||(i=e.ranges.slice(0,o)),i[o]=new ht(u,l))}return i?ft(i,e.primIndex):e}function Lt(t,e,n,r,i){var o=Zr(t,e.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],u=s.marker;if((null==s.from||(u.inclusiveLeft?s.from<=e.ch:s.from<e.ch))&&(null==s.to||(u.inclusiveRight?s.to>=e.ch:s.to>e.ch))){if(i&&(Na(u,"beforeCursorEnter"),u.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!u.atomic)continue;if(n){var l,c=u.find(r<0?1:-1);if((r<0?u.inclusiveRight:u.inclusiveLeft)&&(c=Nt(t,c,-r,c&&c.line==e.line?o:null)),c&&c.line==e.line&&(l=jo(c,n))&&(r<0?l<0:l>0))return Lt(t,c,e,r,i)}var h=u.find(r<0?-1:1);return(r<0?u.inclusiveLeft:u.inclusiveRight)&&(h=Nt(t,h,r,h.line==e.line?o:null)),h?Lt(t,h,e,r,i):null}}return e}function Ft(t,e,n,r,i){var o=r||1,a=Lt(t,e,n,o,i)||!i&&Lt(t,e,n,o,!0)||Lt(t,e,n,-o,i)||!i&&Lt(t,e,n,-o,!0);return a?a:(t.cantEdit=!0,Ro(t.first,0))}function Nt(t,e,n,r){return n<0&&0==e.ch?e.line>t.first?gt(t,Ro(e.line-1)):null:n>0&&e.ch==(r||Zr(t,e.line)).text.length?e.line<t.first+t.size-1?Ro(e.line+1,0):null:new Ro(e.line,e.ch+n)}function Ot(t){t.display.input.showSelection(t.display.input.prepareSelection())}function It(t,e){for(var n=t.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(e!==!1||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=t.display.viewTo||s.to().line<t.display.viewFrom)){var u=s.empty();(u||t.options.showCursorWhenSelecting)&&Bt(t,s.head,i),u||Pt(t,s,o)}}return r}function Bt(t,e,n){var r=de(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),i=n.appendChild($i("div"," ","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*t.options.cursorHeight+"px",r.other){var o=n.appendChild($i("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function Pt(t,e,n){function r(t,e,n,r){e<0&&(e=0),e=Math.round(e),r=Math.round(r),s.appendChild($i("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px; top: "+e+"px; width: "+(null==n?c-t:n)+"px; height: "+(r-e)+"px"))}function i(e,n,i){function o(n,r){return fe(t,Ro(e,n),"div",h,r)}var s,u,h=Zr(a,e),f=h.text.length;return to(ii(h),n||0,null==i?f:i,function(t,e,a){var h,d,p,g=o(t,"left");if(t==e)h=g,d=p=g.left;else{if(h=o(e-1,"right"),"rtl"==a){var y=g;g=h,h=y}d=g.left,p=h.right}null==n&&0==t&&(d=l),h.top-g.top>3&&(r(d,g.top,null,g.bottom),d=l,g.bottom<h.top&&r(d,g.bottom,null,h.top)),null==i&&e==f&&(p=c),(!s||g.top<s.top||g.top==s.top&&g.left<s.left)&&(s=g),(!u||h.bottom>u.bottom||h.bottom==u.bottom&&h.right>u.right)&&(u=h),d<l+1&&(d=l),r(d,h.top,p-d,h.bottom)}),{start:s,end:u}}var o=t.display,a=t.doc,s=document.createDocumentFragment(),u=Ut(t.display),l=u.left,c=Math.max(o.sizerWidth,Gt(t)-o.sizer.offsetLeft)-u.right,h=e.from(),f=e.to();if(h.line==f.line)i(h.line,h.ch,f.ch);else{var d=Zr(a,h.line),p=Zr(a,f.line),g=mr(d)==mr(p),y=i(h.line,h.ch,g?d.text.length+1:null).end,v=i(f.line,g?0:null,f.ch).start;g&&(y.top<v.top-2?(r(y.right,y.top,null,y.bottom),r(l,v.top,v.left,v.bottom)):r(y.right,y.top,v.left-y.right,y.bottom)),y.bottom<v.top&&r(l,y.bottom,null,v.top)}n.appendChild(s)}function Rt(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var n=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval(function(){e.cursorDiv.style.visibility=(n=!n)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function jt(t,e){t.doc.mode.startState&&t.doc.frontier<t.display.viewTo&&t.state.highlight.set(e,Ri(Wt,t))}function Wt(t){var e=t.doc;if(e.frontier<e.first&&(e.frontier=e.first),!(e.frontier>=t.display.viewTo)){var n=+new Date+t.options.workTime,r=ua(e.mode,$t(t,e.frontier)),i=[];e.iter(e.frontier,Math.min(e.first+e.size,t.display.viewTo+500),function(o){if(e.frontier>=t.display.viewFrom){var a=o.styles,s=o.text.length>t.options.maxHighlightLength,u=Or(t,o,s?ua(e.mode,r):r,!0);o.styles=u.styles;var l=o.styleClasses,c=u.classes;c?o.styleClasses=c:l&&(o.styleClasses=null);for(var h=!a||a.length!=o.styles.length||l!=c&&(!l||!c||l.bgClass!=c.bgClass||l.textClass!=c.textClass),f=0;!h&&f<a.length;++f)h=a[f]!=o.styles[f];h&&i.push(e.frontier),o.stateAfter=s?r:ua(e.mode,r)}else o.text.length<=t.options.maxHighlightLength&&Br(t,o.text,r),o.stateAfter=e.frontier%5==0?ua(e.mode,r):null;if(++e.frontier,+new Date>n)return jt(t,t.options.workDelay),!0}),i.length&&Me(t,function(){for(var e=0;e<i.length;e++)Be(t,i[e],"text")})}}function Ht(t,e,n){for(var r,i,o=t.doc,a=n?-1:e-(t.doc.mode.innerMode?1e3:100),s=e;s>a;--s){if(s<=o.first)return o.first;var u=Zr(o,s-1);if(u.stateAfter&&(!n||s<=o.frontier))return s;var l=Wa(u.text,null,t.options.tabSize);(null==i||r>l)&&(i=s-1,r=l)}return i}function $t(t,e,n){var r=t.doc,i=t.display;if(!r.mode.startState)return!0;var o=Ht(t,e,n),a=o>r.first&&Zr(r,o-1).stateAfter;return a=a?ua(r.mode,a):la(r.mode),r.iter(o,e,function(n){Br(t,n.text,a);var s=o==e-1||o%5==0||o>=i.viewFrom&&o<i.viewTo;n.stateAfter=s?ua(r.mode,a):null,++o}),n&&(r.frontier=o),a}function qt(t){return t.lineSpace.offsetTop}function zt(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function Ut(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=zi(t.measure,$i("pre","x")),n=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(t.cachedPaddingH=r),r}function Yt(t){return Ia-t.display.nativeBarWidth}function Gt(t){return t.display.scroller.clientWidth-Yt(t)-t.display.barWidth}function Vt(t){return t.display.scroller.clientHeight-Yt(t)-t.display.barHeight}function Xt(t,e,n){var r=t.options.lineWrapping,i=r&&Gt(t);if(!e.measure.heights||r&&e.measure.width!=i){var o=e.measure.heights=[];if(r){e.measure.width=i;for(var a=e.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var u=a[s],l=a[s+1];Math.abs(u.bottom-l.bottom)>2&&o.push((u.bottom+l.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Kt(t,e,n){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var r=0;r<t.rest.length;r++)if(t.rest[r]==e)return{map:t.measure.maps[r],cache:t.measure.caches[r]};for(var r=0;r<t.rest.length;r++)if(ei(t.rest[r])>n)return{map:t.measure.maps[r],cache:t.measure.caches[r],before:!0}}function Zt(t,e){e=mr(e);var n=ei(e),r=t.display.externalMeasured=new Ne(t.doc,e,n);r.lineN=n;var i=r.built=Rr(t,r);return r.text=i.pre,zi(t.display.lineMeasure,i.pre),r}function Jt(t,e,n,r){return ee(t,te(t,e),n,r)}function Qt(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[Re(t,e)];var n=t.display.externalMeasured;return n&&e>=n.lineN&&e<n.lineN+n.size?n:void 0}function te(t,e){var n=ei(e),r=Qt(t,n);r&&!r.text?r=null:r&&r.changes&&(I(t,r,n,N(t)),t.curOp.forceUpdate=!0),r||(r=Zt(t,e));var i=Kt(r,e,n);return{line:e,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function ee(t,e,n,r,i){e.before&&(n=-1);var o,a=n+(r||"");return e.cache.hasOwnProperty(a)?o=e.cache[a]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(Xt(t,e.view,e.rect),e.hasHeights=!0),o=re(t,e,n,r),o.bogus||(e.cache[a]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function ne(t,e,n){for(var r,i,o,a,s=0;s<t.length;s+=3){var u=t[s],l=t[s+1];if(e<u?(i=0,o=1,a="left"):e<l?(i=e-u,o=i+1):(s==t.length-3||e==l&&t[s+3]>e)&&(o=l-u,i=o-1,e>=l&&(a="right")),null!=i){if(r=t[s+2],u==l&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==i)for(;s&&t[s-2]==t[s-3]&&t[s-1].insertLeft;)r=t[(s-=3)+2],a="left";if("right"==n&&i==l-u)for(;s<t.length-3&&t[s+3]==t[s+4]&&!t[s+5].insertLeft;)r=t[(s+=3)+2],a="right";break}}return{node:r,start:i,end:o,collapse:a,coverStart:u,coverEnd:l}}function re(t,e,n,r){var i,o=ne(e.map,n,r),a=o.node,s=o.start,u=o.end,l=o.collapse;if(3==a.nodeType){for(var c=0;c<4;c++){for(;s&&Hi(e.line.text.charAt(o.coverStart+s));)--s;for(;o.coverStart+u<o.coverEnd&&Hi(e.line.text.charAt(o.coverStart+u));)++u;if(bo&&xo<9&&0==s&&u==o.coverEnd-o.coverStart)i=a.parentNode.getBoundingClientRect();else if(bo&&t.options.lineWrapping){var h=za(a,s,u).getClientRects();i=h.length?h["right"==r?h.length-1:0]:zo}else i=za(a,s,u).getBoundingClientRect()||zo;if(i.left||i.right||0==s)break;u=s,s-=1,l="right"}bo&&xo<11&&(i=ie(t.display.measure,i))}else{s>0&&(l=r="right");var h;i=t.options.lineWrapping&&(h=a.getClientRects()).length>1?h["right"==r?h.length-1:0]:a.getBoundingClientRect()}if(bo&&xo<9&&!s&&(!i||!i.left&&!i.right)){var f=a.parentNode.getClientRects()[0];i=f?{left:f.left,right:f.left+be(t.display),top:f.top,bottom:f.bottom}:zo}for(var d=i.top-e.rect.top,p=i.bottom-e.rect.top,g=(d+p)/2,y=e.view.measure.heights,c=0;c<y.length-1&&!(g<y[c]);c++);var v=c?y[c-1]:0,m=y[c],b={left:("right"==l?i.right:i.left)-e.rect.left,right:("left"==l?i.left:i.right)-e.rect.left,top:v,bottom:m};return i.left||i.right||(b.bogus=!0),t.options.singleCursorHeightPerLine||(b.rtop=d,b.rbottom=p),b}function ie(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Qi(t))return e;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*n,right:e.right*n,top:e.top*r,bottom:e.bottom*r}}function oe(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function ae(t){t.display.externalMeasure=null,qi(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)oe(t.display.view[e])}function se(t){ae(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function ue(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function le(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function ce(t,e,n,r){if(e.widgets)for(var i=0;i<e.widgets.length;++i)if(e.widgets[i].above){var o=Cr(e.widgets[i]);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var a=ri(e);if("local"==r?a+=qt(t.display):a-=t.display.viewOffset,"page"==r||"window"==r){var s=t.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:le());var u=s.left+("window"==r?0:ue());n.left+=u,n.right+=u}return n.top+=a,n.bottom+=a,n}function he(t,e,n){if("div"==n)return e;var r=e.left,i=e.top;if("page"==n)r-=ue(),i-=le();else if("local"==n||!n){var o=t.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=t.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function fe(t,e,n,r,i){return r||(r=Zr(t.doc,e.line)),ce(t,r,Jt(t,r,e.ch,i),n)}function de(t,e,n,r,i,o){function a(e,a){var s=ee(t,i,e,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,ce(t,r,s,n)}function s(t,e){var n=u[e],r=n.level%2;return t==eo(n)&&e&&n.level<u[e-1].level?(n=u[--e],t=no(n)-(n.level%2?0:1),r=!0):t==no(n)&&e<u.length-1&&n.level<u[e+1].level&&(n=u[++e],t=eo(n)-n.level%2,r=!1),r&&t==n.to&&t>n.from?a(t-1):a(t,r)}r=r||Zr(t.doc,e.line),i||(i=te(t,r));var u=ii(r),l=e.ch;if(!u)return a(l);var c=lo(u,l),h=s(l,c);return null!=as&&(h.other=s(l,as)),h}function pe(t,e){var n=0,e=gt(t.doc,e);t.options.lineWrapping||(n=be(t.display)*e.ch);var r=Zr(t.doc,e.line),i=ri(r)+qt(t.display);return{left:n,right:n,top:i,bottom:i+r.height}}function ge(t,e,n,r){var i=Ro(t,e);return i.xRel=r,n&&(i.outside=!0),i}function ye(t,e,n){var r=t.doc;if(n+=t.display.viewOffset,n<0)return ge(r.first,0,!0,-1);var i=ni(r,n),o=r.first+r.size-1;if(i>o)return ge(r.first+r.size-1,Zr(r,o).text.length,!0,1);e<0&&(e=0);for(var a=Zr(r,i);;){var s=ve(t,a,i,e,n),u=yr(a),l=u&&u.find(0,!0);if(!u||!(s.ch>l.from.ch||s.ch==l.from.ch&&s.xRel>0))return s;i=ei(a=l.to.line)}}function ve(t,e,n,r,i){function o(r){var i=de(t,Ro(n,r),"line",e,l);return s=!0,a>i.bottom?i.left-u:a<i.top?i.left+u:(s=!1,i.left)}var a=i-ri(e),s=!1,u=2*t.display.wrapper.clientWidth,l=te(t,e),c=ii(e),h=e.text.length,f=ro(e),d=io(e),p=o(f),g=s,y=o(d),v=s;if(r>y)return ge(n,d,v,1);for(;;){if(c?d==f||d==ho(e,f,1):d-f<=1){var m=r<p||r-p<=y-r?f:d,b=m==f?g:v,x=r-(m==f?p:y);if(v&&!c&&!/\s/.test(e.text.charAt(m))&&x>0&&m<e.text.length&&l.view.measure.heights.length>1){var w=ee(t,l,m,"right");a<=w.bottom&&a>=w.top&&Math.abs(r-w.right)<x&&(b=!1,m++,x=r-w.right)}for(;Hi(e.text.charAt(m));)++m;var _=ge(n,m,b,x<-1?-1:x>1?1:0);return _}var k=Math.ceil(h/2),A=f+k;if(c){A=f;for(var C=0;C<k;++C)A=ho(e,A,1)}var S=o(A);S>r?(d=A,y=S,(v=s)&&(y+=1e3),h=k):(f=A,p=S,g=s,h-=k)}}function me(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==Ho){Ho=$i("pre");for(var e=0;e<49;++e)Ho.appendChild(document.createTextNode("x")),Ho.appendChild($i("br"));Ho.appendChild(document.createTextNode("x"))}zi(t.measure,Ho);var n=Ho.offsetHeight/50;return n>3&&(t.cachedTextHeight=n),qi(t.measure),n||1}function be(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=$i("span","xxxxxxxxxx"),n=$i("pre",[e]);zi(t.measure,n);var r=e.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(t.cachedCharWidth=i),i||10}function xe(t){t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Yo},Uo?Uo.ops.push(t.curOp):t.curOp.ownsGroup=Uo={ops:[t.curOp],delayedCallbacks:[]}}function we(t){var e=t.delayedCallbacks,n=0;do{for(;n<e.length;n++)e[n].call(null);for(var r=0;r<t.ops.length;r++){var i=t.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<e.length)}function _e(t){var e=t.curOp,n=e.ownsGroup;if(n)try{we(n)}finally{Uo=null;for(var r=0;r<n.ops.length;r++)n.ops[r].cm.curOp=null;ke(n)}}function ke(t){for(var e=t.ops,n=0;n<e.length;n++)Ae(e[n]);for(var n=0;n<e.length;n++)Ce(e[n]);for(var n=0;n<e.length;n++)Se(e[n]);for(var n=0;n<e.length;n++)Ee(e[n]);for(var n=0;n<e.length;n++)Te(e[n])}function Ae(t){var e=t.cm,n=e.display;S(e),t.updateMaxLine&&f(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<n.viewFrom||t.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new C(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function Ce(t){t.updatedDisplay=t.mustUpdate&&E(t.cm,t.update)}function Se(t){var e=t.cm,n=e.display;t.updatedDisplay&&L(e),t.barMeasure=p(e),n.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Jt(e,n.maxLine,n.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+t.adjustWidthTo+Yt(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+t.adjustWidthTo-Gt(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=n.input.prepareSelection(t.focus))}function Ee(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&on(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var n=t.focus&&t.focus==Ui()&&(!document.hasFocus||document.hasFocus());t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,n),(t.updatedDisplay||t.startHeight!=e.doc.height)&&m(e,t.barMeasure),t.updatedDisplay&&D(e,t.barMeasure),t.selectionChanged&&Rt(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),n&&K(t.cm)}function Te(t){var e=t.cm,n=e.display,r=e.doc;if(t.updatedDisplay&&T(e,t.update),null==n.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null==t.scrollTop||n.scroller.scrollTop==t.scrollTop&&!t.forceScroll||(r.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,t.scrollTop)),n.scrollbars.setScrollTop(r.scrollTop),n.scroller.scrollTop=r.scrollTop),null==t.scrollLeft||n.scroller.scrollLeft==t.scrollLeft&&!t.forceScroll||(r.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-n.scroller.clientWidth,t.scrollLeft)),n.scrollbars.setScrollLeft(r.scrollLeft),n.scroller.scrollLeft=r.scrollLeft,w(e)),t.scrollToPos){var i=On(e,gt(r,t.scrollToPos.from),gt(r,t.scrollToPos.to),t.scrollToPos.margin);t.scrollToPos.isCursor&&e.state.focused&&Nn(e,i)}var o=t.maybeHiddenMarkers,a=t.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||Na(o[s],"hide");if(a)for(var s=0;s<a.length;++s)a[s].lines.length&&Na(a[s],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&Na(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function Me(t,e){if(t.curOp)return e();xe(t);try{return e()}finally{_e(t)}}function De(t,e){return function(){if(t.curOp)return e.apply(t,arguments);xe(t);try{return e.apply(t,arguments)}finally{_e(t)}}}function Le(t){return function(){if(this.curOp)return t.apply(this,arguments);xe(this);try{return t.apply(this,arguments)}finally{_e(this)}}}function Fe(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);xe(e);try{return t.apply(this,arguments)}finally{_e(e)}}}function Ne(t,e,n){this.line=e,this.rest=br(e),this.size=this.rest?ei(Fi(this.rest))-n+1:1,this.node=this.text=null,this.hidden=_r(t,e)}function Oe(t,e,n){for(var r,i=[],o=e;o<n;o=r){var a=new Ne(t.doc,Zr(t.doc,o),o);r=o+a.size,i.push(a)}return i}function Ie(t,e,n,r){null==e&&(e=t.doc.first),null==n&&(n=t.doc.first+t.doc.size),r||(r=0);var i=t.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>e)&&(i.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=i.viewTo)Po&&xr(t.doc,e)<i.viewTo&&Pe(t);else if(n<=i.viewFrom)Po&&wr(t.doc,n+r)>i.viewFrom?Pe(t):(i.viewFrom+=r,i.viewTo+=r);else if(e<=i.viewFrom&&n>=i.viewTo)Pe(t);else if(e<=i.viewFrom){var o=je(t,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):Pe(t)}else if(n>=i.viewTo){var o=je(t,e,e,-1);o?(i.view=i.view.slice(0,o.index),i.viewTo=o.lineN):Pe(t)}else{var a=je(t,e,e,-1),s=je(t,n,n+r,1);a&&s?(i.view=i.view.slice(0,a.index).concat(Oe(t,a.lineN,s.lineN)).concat(i.view.slice(s.index)),i.viewTo+=r):Pe(t)}var u=i.externalMeasured;u&&(n<u.lineN?u.lineN+=r:e<u.lineN+u.size&&(i.externalMeasured=null))}function Be(t,e,n){t.curOp.viewChanged=!0;var r=t.display,i=t.display.externalMeasured;if(i&&e>=i.lineN&&e<i.lineN+i.size&&(r.externalMeasured=null),!(e<r.viewFrom||e>=r.viewTo)){var o=r.view[Re(t,e)];if(null!=o.node){var a=o.changes||(o.changes=[]);Ni(a,n)==-1&&a.push(n)}}}function Pe(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function Re(t,e){if(e>=t.display.viewTo)return null;if(e-=t.display.viewFrom,e<0)return null;for(var n=t.display.view,r=0;r<n.length;r++)if(e-=n[r].size,e<0)return r}function je(t,e,n,r){var i,o=Re(t,e),a=t.display.view;if(!Po||n==t.doc.first+t.doc.size)return{index:o,lineN:n};for(var s=0,u=t.display.viewFrom;s<o;s++)u+=a[s].size;if(u!=e){if(r>0){if(o==a.length-1)return null;i=u+a[o].size-e,o++}else i=u-e;e+=i,n+=i}for(;xr(t.doc,n)!=n;){if(o==(r<0?0:a.length-1))return null;n+=r*a[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function We(t,e,n){var r=t.display,i=r.view;0==i.length||e>=r.viewTo||n<=r.viewFrom?(r.view=Oe(t,e,n),r.viewFrom=e):(r.viewFrom>e?r.view=Oe(t,e,r.viewFrom).concat(r.view):r.viewFrom<e&&(r.view=r.view.slice(Re(t,e))),r.viewFrom=e,r.viewTo<n?r.view=r.view.concat(Oe(t,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,Re(t,n)))),r.viewTo=n}function He(t){for(var e=t.display.view,n=0,r=0;r<e.length;r++){var i=e[r];i.hidden||i.node&&!i.changes||++n}return n}function $e(t){function e(){i.activeTouch&&(o=setTimeout(function(){i.activeTouch=null},1e3),a=i.activeTouch,a.end=+new Date)}function n(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}function r(t,e){if(null==e.left)return!0;var n=e.left-t.left,r=e.top-t.top;return n*n+r*r>400}var i=t.display;Da(i.scroller,"mousedown",De(t,Ge)),bo&&xo<11?Da(i.scroller,"dblclick",De(t,function(e){if(!Si(t,e)){var n=Ye(t,e);if(n&&!Je(t,e)&&!Ue(t.display,e)){Ea(e);var r=t.findWordAt(n);xt(t.doc,r.anchor,r.head)}}})):Da(i.scroller,"dblclick",function(e){Si(t,e)||Ea(e)}),Io||Da(i.scroller,"contextmenu",function(e){bn(t,e)});var o,a={end:0};Da(i.scroller,"touchstart",function(e){if(!Si(t,e)&&!n(e)){clearTimeout(o);var r=+new Date;i.activeTouch={start:r,moved:!1,prev:r-a.end<=300?a:null},1==e.touches.length&&(i.activeTouch.left=e.touches[0].pageX,i.activeTouch.top=e.touches[0].pageY)}}),Da(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),Da(i.scroller,"touchend",function(n){var o=i.activeTouch;if(o&&!Ue(i,n)&&null!=o.left&&!o.moved&&new Date-o.start<300){var a,s=t.coordsChar(i.activeTouch,"page");a=!o.prev||r(o,o.prev)?new ht(s,s):!o.prev.prev||r(o,o.prev.prev)?t.findWordAt(s):new ht(Ro(s.line,0),gt(t.doc,Ro(s.line+1,0))),t.setSelection(a.anchor,a.head),t.focus(),Ea(n)}e()}),Da(i.scroller,"touchcancel",e),Da(i.scroller,"scroll",function(){i.scroller.clientHeight&&(rn(t,i.scroller.scrollTop),on(t,i.scroller.scrollLeft,!0),Na(t,"scroll",t))}),Da(i.scroller,"mousewheel",function(e){an(t,e)}),Da(i.scroller,"DOMMouseScroll",function(e){an(t,e)}),Da(i.wrapper,"scroll",function(){i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(e){Si(t,e)||Ma(e)},over:function(e){Si(t,e)||(en(t,e),Ma(e))},start:function(e){tn(t,e)},drop:De(t,Qe),leave:function(e){Si(t,e)||nn(t)}};var s=i.input.getField();Da(s,"keyup",function(e){pn.call(t,e)}),Da(s,"keydown",De(t,fn)),Da(s,"keypress",De(t,gn)),Da(s,"focus",Ri(vn,t)),Da(s,"blur",Ri(mn,t))}function qe(e,n,r){var i=r&&r!=t.Init;if(!n!=!i){var o=e.display.dragFunctions,a=n?Da:Fa;a(e.display.scroller,"dragstart",o.start),a(e.display.scroller,"dragenter",o.enter),a(e.display.scroller,"dragover",o.over),a(e.display.scroller,"dragleave",o.leave),a(e.display.scroller,"drop",o.drop)}}function ze(t){var e=t.display;e.lastWrapHeight==e.wrapper.clientHeight&&e.lastWrapWidth==e.wrapper.clientWidth||(e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize())}function Ue(t,e){for(var n=wi(e);n!=t.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==t.sizer&&n!=t.mover)return!0}function Ye(t,e,n,r){var i=t.display;if(!n&&"true"==wi(e).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=e.clientX-s.left,a=e.clientY-s.top}catch(t){return null}var u,l=ye(t,o,a);if(r&&1==l.xRel&&(u=Zr(t.doc,l.line).text).length==l.ch){var c=Wa(u,u.length,t.options.tabSize)-u.length;l=Ro(l.line,Math.max(0,Math.round((o-Ut(t.display).left)/be(t.display))-c))}return l}function Ge(t){var e=this,n=e.display;if(!(Si(e,t)||n.activeTouch&&n.input.supportsTouch())){if(n.shift=t.shiftKey,Ue(n,t))return void(wo||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100)));if(!Je(e,t)){var r=Ye(e,t);switch(window.focus(),_i(t)){case 1:e.state.selectingText?e.state.selectingText(t):r?Ve(e,t,r):wi(t)==n.scroller&&Ea(t);break;case 2:wo&&(e.state.lastMiddleDown=+new Date),r&&xt(e.doc,r),setTimeout(function(){n.input.focus()},20),Ea(t);break;case 3:Io?bn(e,t):yn(e)}}}}function Ve(t,e,n){bo?setTimeout(Ri(K,t),0):t.curOp.focus=Ui();var r,i=+new Date;qo&&qo.time>i-400&&0==jo(qo.pos,n)?r="triple":$o&&$o.time>i-400&&0==jo($o.pos,n)?(r="double",qo={time:i,pos:n}):(r="single",$o={time:i,pos:n});var o,a=t.doc.sel,s=Do?e.metaKey:e.ctrlKey;t.options.dragDrop&&ts&&!t.isReadOnly()&&"single"==r&&(o=a.contains(n))>-1&&(jo((o=a.ranges[o]).from(),n)<0||n.xRel>0)&&(jo(o.to(),n)>0||n.xRel<0)?Xe(t,e,n,s):Ke(t,e,n,r,s)}function Xe(t,e,n,r){var i=t.display,o=+new Date,a=De(t,function(s){wo&&(i.scroller.draggable=!1),t.state.draggingText=!1,Fa(document,"mouseup",a),Fa(i.scroller,"drop",a),Math.abs(e.clientX-s.clientX)+Math.abs(e.clientY-s.clientY)<10&&(Ea(s),!r&&+new Date-200<o&&xt(t.doc,n),wo||bo&&9==xo?setTimeout(function(){document.body.focus(),i.input.focus()},20):i.input.focus())});wo&&(i.scroller.draggable=!0),t.state.draggingText=a,a.copy=Do?e.altKey:e.ctrlKey,i.scroller.dragDrop&&i.scroller.dragDrop(),Da(document,"mouseup",a),Da(i.scroller,"drop",a)}function Ke(t,e,n,r,i){function o(e){if(0!=jo(y,e))if(y=e,"rect"==r){for(var i=[],o=t.options.tabSize,a=Wa(Zr(l,n.line).text,n.ch,o),s=Wa(Zr(l,e.line).text,e.ch,o),u=Math.min(a,s),d=Math.max(a,s),p=Math.min(n.line,e.line),g=Math.min(t.lastLine(),Math.max(n.line,e.line));p<=g;p++){var v=Zr(l,p).text,m=Ha(v,u,o);u==d?i.push(new ht(Ro(p,m),Ro(p,m))):v.length>m&&i.push(new ht(Ro(p,m),Ro(p,Ha(v,d,o))))}i.length||i.push(new ht(n,n)),St(l,ft(f.ranges.slice(0,h).concat(i),h),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var b=c,x=b.anchor,w=e;if("single"!=r){if("double"==r)var _=t.findWordAt(e);else var _=new ht(Ro(e.line,0),gt(l,Ro(e.line+1,0)));jo(_.anchor,x)>0?(w=_.head,x=X(b.from(),_.anchor)):(w=_.anchor,x=V(b.to(),_.head))}var i=f.ranges.slice(0);i[h]=new ht(gt(l,x),w),St(l,ft(i,h),Ra)}}function a(e){var n=++m,i=Ye(t,e,!0,"rect"==r);if(i)if(0!=jo(i,y)){t.curOp.focus=Ui(),o(i);var s=x(u,l);(i.line>=s.to||i.line<s.from)&&setTimeout(De(t,function(){m==n&&a(e)}),150)}else{var c=e.clientY<v.top?-20:e.clientY>v.bottom?20:0;c&&setTimeout(De(t,function(){m==n&&(u.scroller.scrollTop+=c,a(e))}),50)}}function s(e){t.state.selectingText=!1,m=1/0,Ea(e),u.input.focus(),Fa(document,"mousemove",b),Fa(document,"mouseup",w),l.history.lastSelOrigin=null}var u=t.display,l=t.doc;Ea(e);var c,h,f=l.sel,d=f.ranges;if(i&&!e.shiftKey?(h=l.sel.contains(n),c=h>-1?d[h]:new ht(n,n)):(c=l.sel.primary(),h=l.sel.primIndex),Lo?e.shiftKey&&e.metaKey:e.altKey)r="rect",i||(c=new ht(n,n)),n=Ye(t,e,!0,!0),h=-1;else if("double"==r){var p=t.findWordAt(n);c=t.display.shift||l.extend?bt(l,c,p.anchor,p.head):p}else if("triple"==r){var g=new ht(Ro(n.line,0),gt(l,Ro(n.line+1,0)));c=t.display.shift||l.extend?bt(l,c,g.anchor,g.head):g}else c=bt(l,c,n);i?h==-1?(h=d.length,St(l,ft(d.concat([c]),h),{scroll:!1,origin:"*mouse"})):d.length>1&&d[h].empty()&&"single"==r&&!e.shiftKey?(St(l,ft(d.slice(0,h).concat(d.slice(h+1)),0),{scroll:!1,origin:"*mouse"}),f=l.sel):_t(l,h,c,Ra):(h=0,St(l,new ct([c],0),Ra),f=l.sel);var y=n,v=u.wrapper.getBoundingClientRect(),m=0,b=De(t,function(t){_i(t)?a(t):s(t)}),w=De(t,s);t.state.selectingText=w,Da(document,"mousemove",b),Da(document,"mouseup",w)}function Ze(t,e,n,r){try{var i=e.clientX,o=e.clientY}catch(t){return!1}if(i>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;r&&Ea(e);var a=t.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!Ti(t,n))return xi(e);o-=s.top-a.viewOffset;for(var u=0;u<t.options.gutters.length;++u){var l=a.gutters.childNodes[u];if(l&&l.getBoundingClientRect().right>=i){var c=ni(t.doc,o),h=t.options.gutters[u];return Na(t,n,t,c,h,e),xi(e)}}}function Je(t,e){return Ze(t,e,"gutterClick",!0)}function Qe(t){var e=this;if(nn(e),!Si(e,t)&&!Ue(e.display,t)){Ea(t),bo&&(Go=+new Date);var n=Ye(e,t,!0),r=t.dataTransfer.files;if(n&&!e.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),a=0,s=function(t,r){
if(!e.options.allowDropFileTypes||Ni(e.options.allowDropFileTypes,t.type)!=-1){var s=new FileReader;s.onload=De(e,function(){var t=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(t)&&(t=""),o[r]=t,++a==i){n=gt(e.doc,n);var u={from:n,to:n,text:e.doc.splitLines(o.join(e.doc.lineSeparator())),origin:"paste"};Sn(e.doc,u),Ct(e.doc,dt(n,Qo(u)))}}),s.readAsText(t)}},u=0;u<i;++u)s(r[u],u);else{if(e.state.draggingText&&e.doc.sel.contains(n)>-1)return e.state.draggingText(t),void setTimeout(function(){e.display.input.focus()},20);try{var o=t.dataTransfer.getData("Text");if(o){if(e.state.draggingText&&!e.state.draggingText.copy)var l=e.listSelections();if(Et(e.doc,dt(n,n)),l)for(var u=0;u<l.length;++u)Fn(e.doc,"",l[u].anchor,l[u].head,"drag");e.replaceSelection(o,"around","paste"),e.display.input.focus()}}catch(t){}}}}function tn(t,e){if(bo&&(!t.state.draggingText||+new Date-Go<100))return void Ma(e);if(!Si(t,e)&&!Ue(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!Co)){var n=$i("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Ao&&(n.width=n.height=1,t.display.wrapper.appendChild(n),n._top=n.offsetTop),e.dataTransfer.setDragImage(n,0,0),Ao&&n.parentNode.removeChild(n)}}function en(t,e){var n=Ye(t,e);if(n){var r=document.createDocumentFragment();Bt(t,n,r),t.display.dragCursor||(t.display.dragCursor=$i("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),zi(t.display.dragCursor,r)}}function nn(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function rn(t,e){Math.abs(t.doc.scrollTop-e)<2||(t.doc.scrollTop=e,yo||M(t,{top:e}),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e),t.display.scrollbars.setScrollTop(e),yo&&M(t),jt(t,100))}function on(t,e,n){(n?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)||(e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),t.doc.scrollLeft=e,w(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function an(t,e){var n=Ko(e),r=n.x,i=n.y,o=t.display,a=o.scroller,s=a.scrollWidth>a.clientWidth,u=a.scrollHeight>a.clientHeight;if(r&&s||i&&u){if(i&&Do&&wo)t:for(var l=e.target,c=o.view;l!=a;l=l.parentNode)for(var h=0;h<c.length;h++)if(c[h].node==l){t.display.currentWheelTarget=l;break t}if(r&&!yo&&!Ao&&null!=Xo)return i&&u&&rn(t,Math.max(0,Math.min(a.scrollTop+i*Xo,a.scrollHeight-a.clientHeight))),on(t,Math.max(0,Math.min(a.scrollLeft+r*Xo,a.scrollWidth-a.clientWidth))),(!i||i&&u)&&Ea(e),void(o.wheelStartX=null);if(i&&null!=Xo){var f=i*Xo,d=t.doc.scrollTop,p=d+o.wrapper.clientHeight;f<0?d=Math.max(0,d+f-50):p=Math.min(t.doc.height,p+f+50),M(t,{top:d,bottom:p})}Vo<20&&(null==o.wheelStartX?(o.wheelStartX=a.scrollLeft,o.wheelStartY=a.scrollTop,o.wheelDX=r,o.wheelDY=i,setTimeout(function(){if(null!=o.wheelStartX){var t=a.scrollLeft-o.wheelStartX,e=a.scrollTop-o.wheelStartY,n=e&&o.wheelDY&&e/o.wheelDY||t&&o.wheelDX&&t/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(Xo=(Xo*Vo+n)/(Vo+1),++Vo)}},200)):(o.wheelDX+=r,o.wheelDY+=i))}}function sn(t,e,n){if("string"==typeof e&&(e=ca[e],!e))return!1;t.display.input.ensurePolled();var r=t.display.shift,i=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),n&&(t.display.shift=!1),i=e(t)!=Ba}finally{t.display.shift=r,t.state.suppressEdits=!1}return i}function un(t,e,n){for(var r=0;r<t.state.keyMaps.length;r++){var i=fa(e,t.state.keyMaps[r],n,t);if(i)return i}return t.options.extraKeys&&fa(e,t.options.extraKeys,n,t)||fa(e,t.options.keyMap,n,t)}function ln(t,e,n,r){var i=t.state.keySeq;if(i){if(da(e))return"handled";Zo.set(50,function(){t.state.keySeq==i&&(t.state.keySeq=null,t.display.input.reset())}),e=i+" "+e}var o=un(t,e,r);return"multi"==o&&(t.state.keySeq=e),"handled"==o&&Ai(t,"keyHandled",t,e,n),"handled"!=o&&"multi"!=o||(Ea(n),Rt(t)),i&&!o&&/\'$/.test(e)?(Ea(n),!0):!!o}function cn(t,e){var n=pa(e,!0);return!!n&&(e.shiftKey&&!t.state.keySeq?ln(t,"Shift-"+n,e,function(e){return sn(t,e,!0)})||ln(t,n,e,function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return sn(t,e)}):ln(t,n,e,function(e){return sn(t,e)}))}function hn(t,e,n){return ln(t,"'"+n+"'",e,function(e){return sn(t,e,!0)})}function fn(t){var e=this;if(e.curOp.focus=Ui(),!Si(e,t)){bo&&xo<11&&27==t.keyCode&&(t.returnValue=!1);var n=t.keyCode;e.display.shift=16==n||t.shiftKey;var r=cn(e,t);Ao&&(Jo=r?n:null,!r&&88==n&&!rs&&(Do?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||dn(e)}}function dn(t){function e(t){18!=t.keyCode&&t.altKey||(Za(n,"CodeMirror-crosshair"),Fa(document,"keyup",e),Fa(document,"mouseover",e))}var n=t.display.lineDiv;Ja(n,"CodeMirror-crosshair"),Da(document,"keyup",e),Da(document,"mouseover",e)}function pn(t){16==t.keyCode&&(this.doc.sel.shift=!1),Si(this,t)}function gn(t){var e=this;if(!(Ue(e.display,t)||Si(e,t)||t.ctrlKey&&!t.altKey||Do&&t.metaKey)){var n=t.keyCode,r=t.charCode;if(Ao&&n==Jo)return Jo=null,void Ea(t);if(!Ao||t.which&&!(t.which<10)||!cn(e,t)){var i=String.fromCharCode(null==r?n:r);hn(e,t,i)||e.display.input.onKeyPress(t)}}}function yn(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,mn(t))},100)}function vn(t){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(Na(t,"focus",t),t.state.focused=!0,Ja(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),wo&&setTimeout(function(){t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),Rt(t))}function mn(t){t.state.delayingBlurEvent||(t.state.focused&&(Na(t,"blur",t),t.state.focused=!1,Za(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function bn(t,e){Ue(t.display,e)||xn(t,e)||Si(t,e,"contextmenu")||t.display.input.onContextMenu(e)}function xn(t,e){return!!Ti(t,"gutterContextMenu")&&Ze(t,e,"gutterContextMenu",!1)}function wn(t,e){if(jo(t,e.from)<0)return t;if(jo(t,e.to)<=0)return Qo(e);var n=t.line+e.text.length-(e.to.line-e.from.line)-1,r=t.ch;return t.line==e.to.line&&(r+=Qo(e).ch-e.to.ch),Ro(n,r)}function _n(t,e){for(var n=[],r=0;r<t.sel.ranges.length;r++){var i=t.sel.ranges[r];n.push(new ht(wn(i.anchor,e),wn(i.head,e)))}return ft(n,t.sel.primIndex)}function kn(t,e,n){return t.line==e.line?Ro(n.line,t.ch-e.ch+n.ch):Ro(n.line+(t.line-e.line),t.ch)}function An(t,e,n){for(var r=[],i=Ro(t.first,0),o=i,a=0;a<e.length;a++){var s=e[a],u=kn(s.from,i,o),l=kn(Qo(s),i,o);if(i=s.to,o=l,"around"==n){var c=t.sel.ranges[a],h=jo(c.head,c.anchor)<0;r[a]=new ht(h?l:u,h?u:l)}else r[a]=new ht(u,u)}return new ct(r,t.sel.primIndex)}function Cn(t,e,n){var r={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){this.canceled=!0}};return n&&(r.update=function(e,n,r,i){e&&(this.from=gt(t,e)),n&&(this.to=gt(t,n)),r&&(this.text=r),void 0!==i&&(this.origin=i)}),Na(t,"beforeChange",t,r),t.cm&&Na(t.cm,"beforeChange",t.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function Sn(t,e,n){if(t.cm){if(!t.cm.curOp)return De(t.cm,Sn)(t,e,n);if(t.cm.state.suppressEdits)return}if(!(Ti(t,"beforeChange")||t.cm&&Ti(t.cm,"beforeChange"))||(e=Cn(t,e,!0))){var r=Bo&&!n&&ur(t,e.from,e.to);if(r)for(var i=r.length-1;i>=0;--i)En(t,{from:r[i].from,to:r[i].to,text:i?[""]:e.text});else En(t,e)}}function En(t,e){if(1!=e.text.length||""!=e.text[0]||0!=jo(e.from,e.to)){var n=_n(t,e);li(t,e,n,t.cm?t.cm.curOp.id:NaN),Dn(t,e,n,or(t,e));var r=[];Xr(t,function(t,n){n||Ni(r,t.history)!=-1||(bi(t.history,e),r.push(t.history)),Dn(t,e,null,or(t,e))})}}function Tn(t,e,n){if(!t.cm||!t.cm.state.suppressEdits){for(var r,i=t.history,o=t.sel,a="undo"==e?i.done:i.undone,s="undo"==e?i.undone:i.done,u=0;u<a.length&&(r=a[u],n?!r.ranges||r.equals(t.sel):r.ranges);u++);if(u!=a.length){for(i.lastOrigin=i.lastSelOrigin=null;r=a.pop(),r.ranges;){if(fi(r,s),n&&!r.equals(t.sel))return void St(t,r,{clearRedo:!1});o=r}var l=[];fi(o,s),s.push({changes:l,generation:i.generation}),i.generation=r.generation||++i.maxGeneration;for(var c=Ti(t,"beforeChange")||t.cm&&Ti(t.cm,"beforeChange"),u=r.changes.length-1;u>=0;--u){var h=r.changes[u];if(h.origin=e,c&&!Cn(t,h,!1))return void(a.length=0);l.push(ai(t,h));var f=u?_n(t,h):Fi(a);Dn(t,h,f,sr(t,h)),!u&&t.cm&&t.cm.scrollIntoView({from:h.from,to:Qo(h)});var d=[];Xr(t,function(t,e){e||Ni(d,t.history)!=-1||(bi(t.history,h),d.push(t.history)),Dn(t,h,null,sr(t,h))})}}}}function Mn(t,e){if(0!=e&&(t.first+=e,t.sel=new ct(Oi(t.sel.ranges,function(t){return new ht(Ro(t.anchor.line+e,t.anchor.ch),Ro(t.head.line+e,t.head.ch))}),t.sel.primIndex),t.cm)){Ie(t.cm,t.first,t.first-e,e);for(var n=t.cm.display,r=n.viewFrom;r<n.viewTo;r++)Be(t.cm,r,"gutter")}}function Dn(t,e,n,r){if(t.cm&&!t.cm.curOp)return De(t.cm,Dn)(t,e,n,r);if(e.to.line<t.first)return void Mn(t,e.text.length-1-(e.to.line-e.from.line));if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var i=e.text.length-1-(t.first-e.from.line);Mn(t,i),e={from:Ro(t.first,0),to:Ro(e.to.line+i,e.to.ch),text:[Fi(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:Ro(o,Zr(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=Jr(t,e.from,e.to),n||(n=_n(t,e)),t.cm?Ln(t.cm,e,r):Yr(t,e,r),Et(t,n,Pa)}}function Ln(t,e,n){var r=t.doc,i=t.display,a=e.from,s=e.to,u=!1,l=a.line;t.options.lineWrapping||(l=ei(mr(Zr(r,a.line))),r.iter(l,s.line+1,function(t){if(t==i.maxLine)return u=!0,!0})),r.sel.contains(e.from,e.to)>-1&&Ei(t),Yr(r,e,n,o(t)),t.options.lineWrapping||(r.iter(l,a.line+e.text.length,function(t){var e=h(t);e>i.maxLineLength&&(i.maxLine=t,i.maxLineLength=e,i.maxLineChanged=!0,u=!1)}),u&&(t.curOp.updateMaxLine=!0)),r.frontier=Math.min(r.frontier,a.line),jt(t,400);var c=e.text.length-(s.line-a.line)-1;e.full?Ie(t):a.line!=s.line||1!=e.text.length||Ur(t.doc,e)?Ie(t,a.line,s.line+1,c):Be(t,a.line,"text");var f=Ti(t,"changes"),d=Ti(t,"change");if(d||f){var p={from:a,to:s,text:e.text,removed:e.removed,origin:e.origin};d&&Ai(t,"change",t,p),f&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(p)}t.display.selForContextMenu=null}function Fn(t,e,n,r,i){if(r||(r=n),jo(r,n)<0){var o=r;r=n,n=o}"string"==typeof e&&(e=t.splitLines(e)),Sn(t,{from:n,to:r,text:e,origin:i})}function Nn(t,e){if(!Si(t,"scrollCursorIntoView")){var n=t.display,r=n.sizer.getBoundingClientRect(),i=null;if(e.top+r.top<0?i=!0:e.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!Eo){var o=$i("div","​",null,"position: absolute; top: "+(e.top-n.viewOffset-qt(t.display))+"px; height: "+(e.bottom-e.top+Yt(t)+n.barHeight)+"px; left: "+e.left+"px; width: 2px;");t.display.lineSpace.appendChild(o),o.scrollIntoView(i),t.display.lineSpace.removeChild(o)}}}function On(t,e,n,r){null==r&&(r=0);for(var i=0;i<5;i++){var o=!1,a=de(t,e),s=n&&n!=e?de(t,n):a,u=Bn(t,Math.min(a.left,s.left),Math.min(a.top,s.top)-r,Math.max(a.left,s.left),Math.max(a.bottom,s.bottom)+r),l=t.doc.scrollTop,c=t.doc.scrollLeft;if(null!=u.scrollTop&&(rn(t,u.scrollTop),Math.abs(t.doc.scrollTop-l)>1&&(o=!0)),null!=u.scrollLeft&&(on(t,u.scrollLeft),Math.abs(t.doc.scrollLeft-c)>1&&(o=!0)),!o)break}return a}function In(t,e,n,r,i){var o=Bn(t,e,n,r,i);null!=o.scrollTop&&rn(t,o.scrollTop),null!=o.scrollLeft&&on(t,o.scrollLeft)}function Bn(t,e,n,r,i){var o=t.display,a=me(t.display);n<0&&(n=0);var s=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:o.scroller.scrollTop,u=Vt(t),l={};i-n>u&&(i=n+u);var c=t.doc.height+zt(o),h=n<a,f=i>c-a;if(n<s)l.scrollTop=h?0:n;else if(i>s+u){var d=Math.min(n,(f?c:i)-u);d!=s&&(l.scrollTop=d)}var p=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:o.scroller.scrollLeft,g=Gt(t)-(t.options.fixedGutter?o.gutters.offsetWidth:0),y=r-e>g;return y&&(r=e+g),e<10?l.scrollLeft=0:e<p?l.scrollLeft=Math.max(0,e-(y?0:10)):r>g+p-3&&(l.scrollLeft=r+(y?0:10)-g),l}function Pn(t,e,n){null==e&&null==n||jn(t),null!=e&&(t.curOp.scrollLeft=(null==t.curOp.scrollLeft?t.doc.scrollLeft:t.curOp.scrollLeft)+e),null!=n&&(t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+n)}function Rn(t){jn(t);var e=t.getCursor(),n=e,r=e;t.options.lineWrapping||(n=e.ch?Ro(e.line,e.ch-1):e,r=Ro(e.line,e.ch+1)),t.curOp.scrollToPos={from:n,to:r,margin:t.options.cursorScrollMargin,isCursor:!0}}function jn(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;var n=pe(t,e.from),r=pe(t,e.to),i=Bn(t,Math.min(n.left,r.left),Math.min(n.top,r.top)-e.margin,Math.max(n.right,r.right),Math.max(n.bottom,r.bottom)+e.margin);t.scrollTo(i.scrollLeft,i.scrollTop)}}function Wn(t,e,n,r){var i,o=t.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=$t(t,e):n="prev");var a=t.options.tabSize,s=Zr(o,e),u=Wa(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var l,c=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&(l=o.mode.indent(i,s.text.slice(c.length),s.text),l==Ba||l>150)){if(!r)return;n="prev"}}else l=0,n="not";"prev"==n?l=e>o.first?Wa(Zr(o,e-1).text,null,a):0:"add"==n?l=u+t.options.indentUnit:"subtract"==n?l=u-t.options.indentUnit:"number"==typeof n&&(l=u+n),l=Math.max(0,l);var h="",f=0;if(t.options.indentWithTabs)for(var d=Math.floor(l/a);d;--d)f+=a,h+="\t";if(f<l&&(h+=Li(l-f)),h!=c)return Fn(o,h,Ro(e,0),Ro(e,c.length),"+input"),s.stateAfter=null,!0;for(var d=0;d<o.sel.ranges.length;d++){var p=o.sel.ranges[d];if(p.head.line==e&&p.head.ch<c.length){var f=Ro(e,c.length);_t(o,d,new ht(f,f));break}}}function Hn(t,e,n,r){var i=e,o=e;return"number"==typeof e?o=Zr(t,pt(t,e)):i=ei(e),null==i?null:(r(o,i)&&t.cm&&Be(t.cm,i,n),o)}function $n(t,e){for(var n=t.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=e(n[i]);r.length&&jo(o.from,Fi(r).to)<=0;){var a=r.pop();if(jo(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}Me(t,function(){for(var e=r.length-1;e>=0;e--)Fn(t.doc,"",r[e].from,r[e].to,"+delete");Rn(t)})}function qn(t,e,n,r,i){function o(){var e=s+n;return!(e<t.first||e>=t.first+t.size)&&(s=e,c=Zr(t,e))}function a(t){var e=(i?ho:fo)(c,u,n,!0);if(null==e){if(t||!o())return!1;u=i?(n<0?io:ro)(c):n<0?c.text.length:0}else u=e;return!0}var s=e.line,u=e.ch,l=n,c=Zr(t,s);if("char"==r)a();else if("column"==r)a(!0);else if("word"==r||"group"==r)for(var h=null,f="group"==r,d=t.cm&&t.cm.getHelper(e,"wordChars"),p=!0;!(n<0)||a(!p);p=!1){var g=c.text.charAt(u)||"\n",y=ji(g,d)?"w":f&&"\n"==g?"n":!f||/\s/.test(g)?null:"p";if(!f||p||y||(y="s"),h&&h!=y){n<0&&(n=1,a());break}if(y&&(h=y),n>0&&!a(!p))break}var v=Ft(t,Ro(s,u),e,l,!0);return jo(e,v)||(v.hitSide=!0),v}function zn(t,e,n,r){var i,o=t.doc,a=e.left;if("page"==r){var s=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);i=e.top+n*(s-(n<0?1.5:.5)*me(t.display))}else"line"==r&&(i=n>0?e.bottom+3:e.top-3);for(;;){var u=ye(t,a,i);if(!u.outside)break;if(n<0?i<=0:i>=o.height){u.hitSide=!0;break}i+=5*n}return u}function Un(e,n,r,i){t.defaults[e]=n,r&&(ea[e]=i?function(t,e,n){n!=na&&r(t,e,n)}:r)}function Yn(t){for(var e,n,r,i,o=t.split(/-(?!$)/),t=o[o.length-1],a=0;a<o.length-1;a++){var s=o[a];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))e=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)$/i.test(s))throw new Error("Unrecognized modifier name: "+s);r=!0}}return e&&(t="Alt-"+t),n&&(t="Ctrl-"+t),i&&(t="Cmd-"+t),r&&(t="Shift-"+t),t}function Gn(t){return"string"==typeof t?ha[t]:t}function Vn(t,e,n,r,i){if(r&&r.shared)return Xn(t,e,n,r,i);if(t.cm&&!t.cm.curOp)return De(t.cm,Vn)(t,e,n,r,i);var o=new va(t,i),a=jo(e,n);if(r&&Pi(r,o,!1),a>0||0==a&&o.clearWhenEmpty!==!1)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=$i("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(vr(t,e.line,e,n,o)||e.line!=n.line&&vr(t,n.line,e,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Po=!0}o.addToHistory&&li(t,{from:e,to:n,origin:"markText"},t.sel,NaN);var s,u=e.line,l=t.cm;if(t.iter(u,n.line+1,function(t){l&&o.collapsed&&!l.options.lineWrapping&&mr(t)==l.display.maxLine&&(s=!0),o.collapsed&&u!=e.line&&ti(t,0),nr(t,new Qn(o,u==e.line?e.ch:null,u==n.line?n.ch:null)),++u}),o.collapsed&&t.iter(e.line,n.line+1,function(e){_r(t,e)&&ti(e,0)}),o.clearOnEnter&&Da(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(Bo=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed&&(o.id=++ya,o.atomic=!0),l){if(s&&(l.curOp.updateMaxLine=!0),o.collapsed)Ie(l,e.line,n.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var c=e.line;c<=n.line;c++)Be(l,c,"text");o.atomic&&Mt(l.doc),Ai(l,"markerAdded",l,o)}return o}function Xn(t,e,n,r,i){r=Pi(r),r.shared=!1;var o=[Vn(t,e,n,r,i)],a=o[0],s=r.widgetNode;return Xr(t,function(t){s&&(r.widgetNode=s.cloneNode(!0)),o.push(Vn(t,gt(t,e),gt(t,n),r,i));for(var u=0;u<t.linked.length;++u)if(t.linked[u].isParent)return;a=Fi(o)}),new ma(o,a)}function Kn(t){return t.findMarks(Ro(t.first,0),t.clipPos(Ro(t.lastLine())),function(t){return t.parent})}function Zn(t,e){for(var n=0;n<e.length;n++){var r=e[n],i=r.find(),o=t.clipPos(i.from),a=t.clipPos(i.to);if(jo(o,a)){var s=Vn(t,o,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}function Jn(t){for(var e=0;e<t.length;e++){var n=t[e],r=[n.primary.doc];Xr(n.primary.doc,function(t){r.push(t)});for(var i=0;i<n.markers.length;i++){var o=n.markers[i];Ni(r,o.doc)==-1&&(o.parent=null,n.markers.splice(i--,1))}}}function Qn(t,e,n){this.marker=t,this.from=e,this.to=n}function tr(t,e){if(t)for(var n=0;n<t.length;++n){var r=t[n];if(r.marker==e)return r}}function er(t,e){for(var n,r=0;r<t.length;++r)t[r]!=e&&(n||(n=[])).push(t[r]);return n}function nr(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}function rr(t,e,n){if(t)for(var r,i=0;i<t.length;++i){var o=t[i],a=o.marker,s=null==o.from||(a.inclusiveLeft?o.from<=e:o.from<e);if(s||o.from==e&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var u=null==o.to||(a.inclusiveRight?o.to>=e:o.to>e);(r||(r=[])).push(new Qn(a,o.from,u?null:o.to))}}return r}function ir(t,e,n){if(t)for(var r,i=0;i<t.length;++i){var o=t[i],a=o.marker,s=null==o.to||(a.inclusiveRight?o.to>=e:o.to>e);if(s||o.from==e&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var u=null==o.from||(a.inclusiveLeft?o.from<=e:o.from<e);(r||(r=[])).push(new Qn(a,u?null:o.from-e,null==o.to?null:o.to-e))}}return r}function or(t,e){if(e.full)return null;var n=vt(t,e.from.line)&&Zr(t,e.from.line).markedSpans,r=vt(t,e.to.line)&&Zr(t,e.to.line).markedSpans;if(!n&&!r)return null;var i=e.from.ch,o=e.to.ch,a=0==jo(e.from,e.to),s=rr(n,i,a),u=ir(r,o,a),l=1==e.text.length,c=Fi(e.text).length+(l?i:0);if(s)for(var h=0;h<s.length;++h){var f=s[h];if(null==f.to){var d=tr(u,f.marker);d?l&&(f.to=null==d.to?null:d.to+c):f.to=i}}if(u)for(var h=0;h<u.length;++h){var f=u[h];if(null!=f.to&&(f.to+=c),null==f.from){var d=tr(s,f.marker);d||(f.from=c,l&&(s||(s=[])).push(f))}else f.from+=c,l&&(s||(s=[])).push(f)}s&&(s=ar(s)),u&&u!=s&&(u=ar(u));var p=[s];if(!l){var g,y=e.text.length-2;if(y>0&&s)for(var h=0;h<s.length;++h)null==s[h].to&&(g||(g=[])).push(new Qn(s[h].marker,null,null));for(var h=0;h<y;++h)p.push(g);p.push(u)}return p}function ar(t){for(var e=0;e<t.length;++e){var n=t[e];null!=n.from&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&t.splice(e--,1)}return t.length?t:null}function sr(t,e){var n=gi(t,e),r=or(t,e);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)t:for(var s=0;s<a.length;++s){for(var u=a[s],l=0;l<o.length;++l)if(o[l].marker==u.marker)continue t;o.push(u)}else a&&(n[i]=a)}return n}function ur(t,e,n){var r=null;if(t.iter(e.line,n.line+1,function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var n=t.markedSpans[e].marker;!n.readOnly||r&&Ni(r,n)!=-1||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:e,to:n}],o=0;o<r.length;++o)for(var a=r[o],s=a.find(0),u=0;u<i.length;++u){var l=i[u];if(!(jo(l.to,s.from)<0||jo(l.from,s.to)>0)){var c=[u,1],h=jo(l.from,s.from),f=jo(l.to,s.to);(h<0||!a.inclusiveLeft&&!h)&&c.push({from:l.from,to:s.from}),(f>0||!a.inclusiveRight&&!f)&&c.push({from:s.to,to:l.to}),i.splice.apply(i,c),u+=c.length-1}}return i}function lr(t){var e=t.markedSpans;if(e){for(var n=0;n<e.length;++n)e[n].marker.detachLine(t);t.markedSpans=null}}function cr(t,e){if(e){for(var n=0;n<e.length;++n)e[n].marker.attachLine(t);t.markedSpans=e}}function hr(t){return t.inclusiveLeft?-1:0}function fr(t){return t.inclusiveRight?1:0}function dr(t,e){var n=t.lines.length-e.lines.length;if(0!=n)return n;var r=t.find(),i=e.find(),o=jo(r.from,i.from)||hr(t)-hr(e);if(o)return-o;var a=jo(r.to,i.to)||fr(t)-fr(e);return a?a:e.id-t.id}function pr(t,e){var n,r=Po&&t.markedSpans;if(r)for(var i,o=0;o<r.length;++o)i=r[o],i.marker.collapsed&&null==(e?i.from:i.to)&&(!n||dr(n,i.marker)<0)&&(n=i.marker);return n}function gr(t){return pr(t,!0)}function yr(t){return pr(t,!1)}function vr(t,e,n,r,i){var o=Zr(t,e),a=Po&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var u=a[s];if(u.marker.collapsed){var l=u.marker.find(0),c=jo(l.from,n)||hr(u.marker)-hr(i),h=jo(l.to,r)||fr(u.marker)-fr(i);if(!(c>=0&&h<=0||c<=0&&h>=0)&&(c<=0&&(u.marker.inclusiveRight&&i.inclusiveLeft?jo(l.to,n)>=0:jo(l.to,n)>0)||c>=0&&(u.marker.inclusiveRight&&i.inclusiveLeft?jo(l.from,r)<=0:jo(l.from,r)<0)))return!0}}}function mr(t){for(var e;e=gr(t);)t=e.find(-1,!0).line;return t}function br(t){for(var e,n;e=yr(t);)t=e.find(1,!0).line,(n||(n=[])).push(t);return n}function xr(t,e){var n=Zr(t,e),r=mr(n);return n==r?e:ei(r)}function wr(t,e){if(e>t.lastLine())return e;var n,r=Zr(t,e);if(!_r(t,r))return e;for(;n=yr(r);)r=n.find(1,!0).line;return ei(r)+1}function _r(t,e){var n=Po&&e.markedSpans;if(n)for(var r,i=0;i<n.length;++i)if(r=n[i],r.marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&kr(t,e,r))return!0}}function kr(t,e,n){if(null==n.to){var r=n.marker.find(1,!0);return kr(t,r.line,tr(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==e.text.length)return!0;for(var i,o=0;o<e.markedSpans.length;++o)if(i=e.markedSpans[o],i.marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&kr(t,e,i))return!0}function Ar(t,e,n){ri(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&Pn(t,null,n)}function Cr(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!Va(document.body,t.node)){var n="position: relative;";t.coverGutter&&(n+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(n+="width: "+e.display.wrapper.clientWidth+"px;"),zi(e.display.measure,$i("div",[t.node],null,n))}return t.height=t.node.parentNode.offsetHeight}function Sr(t,e,n,r){var i=new ba(t,n,r),o=t.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),Hn(t,e,"widget",function(e){var n=e.widgets||(e.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=e,o&&!_r(t,e)){var r=ri(e)<t.scrollTop;ti(e,e.height+Cr(i)),r&&Pn(o,null,i.height),o.curOp.forceUpdate=!0}return!0}),i}function Er(t,e,n,r){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),lr(t),cr(t,n);var i=r?r(t):1;i!=t.height&&ti(t,i)}function Tr(t){t.parent=null,lr(t)}function Mr(t,e){if(t)for(;;){var n=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;t=t.slice(0,n.index)+t.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==e[r]?e[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(e[r])||(e[r]+=" "+n[2])}return t}function Dr(e,n){if(e.blankLine)return e.blankLine(n);if(e.innerMode){var r=t.innerMode(e,n);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function Lr(e,n,r,i){for(var o=0;o<10;o++){i&&(i[0]=t.innerMode(e,r).mode);var a=e.token(n,r);if(n.pos>n.start)return a}throw new Error("Mode "+e.name+" failed to advance stream.")}function Fr(t,e,n,r){function i(t){return{start:h.start,end:h.pos,string:h.current(),type:o||null,state:t?ua(a.mode,c):c}}var o,a=t.doc,s=a.mode;e=gt(a,e);var u,l=Zr(a,e.line),c=$t(t,e.line,n),h=new ga(l.text,t.options.tabSize);for(r&&(u=[]);(r||h.pos<e.ch)&&!h.eol();)h.start=h.pos,o=Lr(s,h,c),r&&u.push(i(!0));return r?u:i()}function Nr(t,e,n,r,i,o,a){var s=n.flattenSpans;null==s&&(s=t.options.flattenSpans);var u,l=0,c=null,h=new ga(e,t.options.tabSize),f=t.options.addModeClass&&[null];for(""==e&&Mr(Dr(n,r),o);!h.eol();){if(h.pos>t.options.maxHighlightLength?(s=!1,a&&Br(t,e,r,h.pos),h.pos=e.length,u=null):u=Mr(Lr(n,h,r,f),o),f){var d=f[0].name;d&&(u="m-"+(u?d+" "+u:d))}if(!s||c!=u){for(;l<h.start;)l=Math.min(h.start,l+5e4),i(l,c);c=u}h.start=h.pos}for(;l<h.pos;){var p=Math.min(h.pos,l+5e4);i(p,c),l=p}}function Or(t,e,n,r){var i=[t.state.modeGen],o={};Nr(t,e.text,t.doc.mode,n,function(t,e){i.push(t,e)},o,r);for(var a=0;a<t.state.overlays.length;++a){var s=t.state.overlays[a],u=1,l=0;Nr(t,e.text,s.mode,!0,function(t,e){for(var n=u;l<t;){var r=i[u];r>t&&i.splice(u,1,t,i[u+1],r),u+=2,l=Math.min(t,r)}if(e)if(s.opaque)i.splice(n,u-n,t,"cm-overlay "+e),u=n+2;else for(;n<u;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"cm-overlay "+e}},o)}return{styles:i,classes:o.bgClass||o.textClass?o:null}}function Ir(t,e,n){if(!e.styles||e.styles[0]!=t.state.modeGen){var r=$t(t,ei(e)),i=Or(t,e,e.text.length>t.options.maxHighlightLength?ua(t.doc.mode,r):r);e.stateAfter=r,e.styles=i.styles,i.classes?e.styleClasses=i.classes:e.styleClasses&&(e.styleClasses=null),n===t.doc.frontier&&t.doc.frontier++}return e.styles}function Br(t,e,n,r){var i=t.doc.mode,o=new ga(e,t.options.tabSize);for(o.start=o.pos=r||0,""==e&&Dr(i,n);!o.eol();)Lr(i,o,n),o.start=o.pos}function Pr(t,e){if(!t||/^\s*$/.test(t))return null;var n=e.addModeClass?_a:wa;return n[t]||(n[t]=t.replace(/\S+/g,"cm-$&"))}function Rr(t,e){var n=$i("span",null,null,wo?"padding-right: .1px":null),r={pre:$i("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:t,splitSpaces:(bo||wo)&&t.getOption("lineWrapping")};e.measure={};for(var i=0;i<=(e.rest?e.rest.length:0);i++){var o,a=i?e.rest[i-1]:e.line;r.pos=0,r.addToken=Wr,Ji(t.display.measure)&&(o=ii(a))&&(r.addToken=$r(r.addToken,o)),r.map=[];var s=e!=t.display.externalMeasured&&ei(a);zr(a,r,Ir(t,a,s)),a.styleClasses&&(a.styleClasses.bgClass&&(r.bgClass=Gi(a.styleClasses.bgClass,r.bgClass||"")),a.styleClasses.textClass&&(r.textClass=Gi(a.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Zi(t.display.measure))),0==i?(e.measure.map=r.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(r.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(wo){var u=r.content.lastChild;(/\bcm-tab\b/.test(u.className)||u.querySelector&&u.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return Na(t,"renderLine",t,e.line,r.pre),r.pre.className&&(r.textClass=Gi(r.pre.className,r.textClass||"")),r}function jr(t){var e=$i("span","•","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function Wr(t,e,n,r,i,o,a){if(e){var s=t.splitSpaces?e.replace(/ {3,}/g,Hr):e,u=t.cm.state.specialChars,l=!1;if(u.test(e))for(var c=document.createDocumentFragment(),h=0;;){u.lastIndex=h;var f=u.exec(e),d=f?f.index-h:e.length-h;if(d){var p=document.createTextNode(s.slice(h,h+d));bo&&xo<9?c.appendChild($i("span",[p])):c.appendChild(p),t.map.push(t.pos,t.pos+d,p),t.col+=d,t.pos+=d}if(!f)break;if(h+=d+1,"\t"==f[0]){var g=t.cm.options.tabSize,y=g-t.col%g,p=c.appendChild($i("span",Li(y),"cm-tab"));p.setAttribute("role","presentation"),p.setAttribute("cm-text","\t"),t.col+=y}else if("\r"==f[0]||"\n"==f[0]){var p=c.appendChild($i("span","\r"==f[0]?"␍":"␤","cm-invalidchar"));p.setAttribute("cm-text",f[0]),t.col+=1}else{var p=t.cm.options.specialCharPlaceholder(f[0]);p.setAttribute("cm-text",f[0]),bo&&xo<9?c.appendChild($i("span",[p])):c.appendChild(p),t.col+=1}t.map.push(t.pos,t.pos+1,p),t.pos++}else{t.col+=e.length;var c=document.createTextNode(s);t.map.push(t.pos,t.pos+e.length,c),bo&&xo<9&&(l=!0),t.pos+=e.length}if(n||r||i||l||a){var v=n||"";r&&(v+=r),i&&(v+=i);var m=$i("span",[c],v,a);return o&&(m.title=o),t.content.appendChild(m)}t.content.appendChild(c)}}function Hr(t){for(var e=" ",n=0;n<t.length-2;++n)e+=n%2?" ":" ";return e+=" "}function $r(t,e){return function(n,r,i,o,a,s,u){i=i?i+" cm-force-border":"cm-force-border";for(var l=n.pos,c=l+r.length;;){for(var h=0;h<e.length;h++){var f=e[h];if(f.to>l&&f.from<=l)break}if(f.to>=c)return t(n,r,i,o,a,s,u);t(n,r.slice(0,f.to-l),i,o,null,s,u),o=null,r=r.slice(f.to-l),l=f.to}}}function qr(t,e,n,r){var i=!r&&n.widgetNode;i&&t.map.push(t.pos,t.pos+e,i),!r&&t.cm.display.input.needsContentAttribute&&(i||(i=t.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(t.cm.display.input.setUneditable(i),t.content.appendChild(i)),t.pos+=e}function zr(t,e,n){var r=t.markedSpans,i=t.text,o=0;if(r)for(var a,s,u,l,c,h,f,d=i.length,p=0,g=1,y="",v=0;;){if(v==p){u=l=c=h=s="",f=null,v=1/0;for(var m,b=[],x=0;x<r.length;++x){var w=r[x],_=w.marker;"bookmark"==_.type&&w.from==p&&_.widgetNode?b.push(_):w.from<=p&&(null==w.to||w.to>p||_.collapsed&&w.to==p&&w.from==p)?(null!=w.to&&w.to!=p&&v>w.to&&(v=w.to,l=""),_.className&&(u+=" "+_.className),_.css&&(s=(s?s+";":"")+_.css),_.startStyle&&w.from==p&&(c+=" "+_.startStyle),_.endStyle&&w.to==v&&(m||(m=[])).push(_.endStyle,w.to),_.title&&!h&&(h=_.title),_.collapsed&&(!f||dr(f.marker,_)<0)&&(f=w)):w.from>p&&v>w.from&&(v=w.from)}if(m)for(var x=0;x<m.length;x+=2)m[x+1]==v&&(l+=" "+m[x]);if(!f||f.from==p)for(var x=0;x<b.length;++x)qr(e,0,b[x]);if(f&&(f.from||0)==p){if(qr(e,(null==f.to?d+1:f.to)-p,f.marker,null==f.from),null==f.to)return;f.to==p&&(f=!1)}}if(p>=d)break;for(var k=Math.min(d,v);;){if(y){var A=p+y.length;if(!f){var C=A>k?y.slice(0,k-p):y;e.addToken(e,C,a?a+u:u,c,p+C.length==v?l:"",h,s)}if(A>=k){y=y.slice(k-p),p=k;break}p=A,c=""}y=i.slice(o,o=n[g++]),a=Pr(n[g++],e.cm.options)}}else for(var g=1;g<n.length;g+=2)e.addToken(e,i.slice(o,o=n[g]),Pr(n[g+1],e.cm.options))}function Ur(t,e){return 0==e.from.ch&&0==e.to.ch&&""==Fi(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Yr(t,e,n,r){function i(t){return n?n[t]:null}function o(t,n,i){Er(t,n,i,r),Ai(t,"change",t,e)}function a(t,e){for(var n=t,o=[];n<e;++n)o.push(new xa(l[n],i(n),r));return o}var s=e.from,u=e.to,l=e.text,c=Zr(t,s.line),h=Zr(t,u.line),f=Fi(l),d=i(l.length-1),p=u.line-s.line;if(e.full)t.insert(0,a(0,l.length)),t.remove(l.length,t.size-l.length);else if(Ur(t,e)){var g=a(0,l.length-1);o(h,h.text,d),p&&t.remove(s.line,p),g.length&&t.insert(s.line,g)}else if(c==h)if(1==l.length)o(c,c.text.slice(0,s.ch)+f+c.text.slice(u.ch),d);else{var g=a(1,l.length-1);g.push(new xa(f+c.text.slice(u.ch),d,r)),o(c,c.text.slice(0,s.ch)+l[0],i(0)),t.insert(s.line+1,g)}else if(1==l.length)o(c,c.text.slice(0,s.ch)+l[0]+h.text.slice(u.ch),i(0)),t.remove(s.line+1,p);else{o(c,c.text.slice(0,s.ch)+l[0],i(0)),o(h,f+h.text.slice(u.ch),d);var g=a(1,l.length-1);p>1&&t.remove(s.line+1,p-1),t.insert(s.line+1,g)}Ai(t,"change",t,e)}function Gr(t){this.lines=t,this.parent=null;for(var e=0,n=0;e<t.length;++e)t[e].parent=this,n+=t[e].height;this.height=n}function Vr(t){this.children=t;for(var e=0,n=0,r=0;r<t.length;++r){var i=t[r];e+=i.chunkSize(),n+=i.height,i.parent=this}this.size=e,this.height=n,this.parent=null}function Xr(t,e,n){function r(t,i,o){if(t.linked)for(var a=0;a<t.linked.length;++a){var s=t.linked[a];if(s.doc!=i){var u=o&&s.sharedHist;n&&!u||(e(s.doc,u),r(s.doc,t,u))}}}r(t,null,!0)}function Kr(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,a(t),n(t),t.options.lineWrapping||f(t),
t.options.mode=e.modeOption,Ie(t)}function Zr(t,e){if(e-=t.first,e<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var n=t;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(e<o){n=i;break}e-=o}return n.lines[e]}function Jr(t,e,n){var r=[],i=e.line;return t.iter(e.line,n.line+1,function(t){var o=t.text;i==n.line&&(o=o.slice(0,n.ch)),i==e.line&&(o=o.slice(e.ch)),r.push(o),++i}),r}function Qr(t,e,n){var r=[];return t.iter(e,n,function(t){r.push(t.text)}),r}function ti(t,e){var n=e-t.height;if(n)for(var r=t;r;r=r.parent)r.height+=n}function ei(t){if(null==t.parent)return null;for(var e=t.parent,n=Ni(e.lines,t),r=e.parent;r;e=r,r=r.parent)for(var i=0;r.children[i]!=e;++i)n+=r.children[i].chunkSize();return n+e.first}function ni(t,e){var n=t.first;t:do{for(var r=0;r<t.children.length;++r){var i=t.children[r],o=i.height;if(e<o){t=i;continue t}e-=o,n+=i.chunkSize()}return n}while(!t.lines);for(var r=0;r<t.lines.length;++r){var a=t.lines[r],s=a.height;if(e<s)break;e-=s}return n+r}function ri(t){t=mr(t);for(var e=0,n=t.parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==t)break;e+=i.height}for(var o=n.parent;o;n=o,o=n.parent)for(var r=0;r<o.children.length;++r){var a=o.children[r];if(a==n)break;e+=a.height}return e}function ii(t){var e=t.order;return null==e&&(e=t.order=ss(t.text)),e}function oi(t){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t||1}function ai(t,e){var n={from:G(e.from),to:Qo(e),text:Jr(t,e.from,e.to)};return di(t,n,e.from.line,e.to.line+1),Xr(t,function(t){di(t,n,e.from.line,e.to.line+1)},!0),n}function si(t){for(;t.length;){var e=Fi(t);if(!e.ranges)break;t.pop()}}function ui(t,e){return e?(si(t.done),Fi(t.done)):t.done.length&&!Fi(t.done).ranges?Fi(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),Fi(t.done)):void 0}function li(t,e,n,r){var i=t.history;i.undone.length=0;var o,a=+new Date;if((i.lastOp==r||i.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&t.cm&&i.lastModTime>a-t.cm.options.historyEventDelay||"*"==e.origin.charAt(0)))&&(o=ui(i,i.lastOp==r))){var s=Fi(o.changes);0==jo(e.from,e.to)&&0==jo(e.from,s.to)?s.to=Qo(e):o.changes.push(ai(t,e))}else{var u=Fi(i.done);for(u&&u.ranges||fi(t.sel,i.done),o={changes:[ai(t,e)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=a,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=e.origin,s||Na(t,"historyAdded")}function ci(t,e,n,r){var i=e.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function hi(t,e,n,r){var i=t.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||ci(t,o,Fi(i.done),e))?i.done[i.done.length-1]=e:fi(e,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&r.clearRedo!==!1&&si(i.undone)}function fi(t,e){var n=Fi(e);n&&n.ranges&&n.equals(t)||e.push(t)}function di(t,e,n,r){var i=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,n),Math.min(t.first+t.size,r),function(n){n.markedSpans&&((i||(i=e["spans_"+t.id]={}))[o]=n.markedSpans),++o})}function pi(t){if(!t)return null;for(var e,n=0;n<t.length;++n)t[n].marker.explicitlyCleared?e||(e=t.slice(0,n)):e&&e.push(t[n]);return e?e.length?e:null:t}function gi(t,e){var n=e["spans_"+t.id];if(!n)return null;for(var r=0,i=[];r<e.text.length;++r)i.push(pi(n[r]));return i}function yi(t,e,n){for(var r=0,i=[];r<t.length;++r){var o=t[r];if(o.ranges)i.push(n?ct.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];i.push({changes:s});for(var u=0;u<a.length;++u){var l,c=a[u];if(s.push({from:c.from,to:c.to,text:c.text}),e)for(var h in c)(l=h.match(/^spans_(\d+)$/))&&Ni(e,Number(l[1]))>-1&&(Fi(s)[h]=c[h],delete c[h])}}}return i}function vi(t,e,n,r){n<t.line?t.line+=r:e<t.line&&(t.line=e,t.ch=0)}function mi(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i],a=!0;if(o.ranges){o.copied||(o=t[i]=o.deepCopy(),o.copied=!0);for(var s=0;s<o.ranges.length;s++)vi(o.ranges[s].anchor,e,n,r),vi(o.ranges[s].head,e,n,r)}else{for(var s=0;s<o.changes.length;++s){var u=o.changes[s];if(n<u.from.line)u.from=Ro(u.from.line+r,u.from.ch),u.to=Ro(u.to.line+r,u.to.ch);else if(e<=u.to.line){a=!1;break}}a||(t.splice(0,i+1),i=0)}}}function bi(t,e){var n=e.from.line,r=e.to.line,i=e.text.length-(r-n)-1;mi(t.done,n,r,i),mi(t.undone,n,r,i)}function xi(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function wi(t){return t.target||t.srcElement}function _i(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),Do&&t.ctrlKey&&1==e&&(e=3),e}function ki(t,e,n){var r=t._handlers&&t._handlers[e];return n?r&&r.length>0?r.slice():La:r||La}function Ai(t,e){function n(t){return function(){t.apply(null,o)}}var r=ki(t,e,!1);if(r.length){var i,o=Array.prototype.slice.call(arguments,2);Uo?i=Uo.delayedCallbacks:Oa?i=Oa:(i=Oa=[],setTimeout(Ci,0));for(var a=0;a<r.length;++a)i.push(n(r[a]))}}function Ci(){var t=Oa;Oa=null;for(var e=0;e<t.length;++e)t[e]()}function Si(t,e,n){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),Na(t,n||e.type,t,e),xi(e)||e.codemirrorIgnore}function Ei(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var n=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),r=0;r<e.length;++r)Ni(n,e[r])==-1&&n.push(e[r])}function Ti(t,e){return ki(t,e).length>0}function Mi(t){t.prototype.on=function(t,e){Da(this,t,e)},t.prototype.off=function(t,e){Fa(this,t,e)}}function Di(){this.id=null}function Li(t){for(;$a.length<=t;)$a.push(Fi($a)+" ");return $a[t]}function Fi(t){return t[t.length-1]}function Ni(t,e){for(var n=0;n<t.length;++n)if(t[n]==e)return n;return-1}function Oi(t,e){for(var n=[],r=0;r<t.length;r++)n[r]=e(t[r],r);return n}function Ii(){}function Bi(t,e){var n;return Object.create?n=Object.create(t):(Ii.prototype=t,n=new Ii),e&&Pi(e,n),n}function Pi(t,e,n){e||(e={});for(var r in t)!t.hasOwnProperty(r)||n===!1&&e.hasOwnProperty(r)||(e[r]=t[r]);return e}function Ri(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function ji(t,e){return e?!!(e.source.indexOf("\\w")>-1&&Ya(t))||e.test(t):Ya(t)}function Wi(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}function Hi(t){return t.charCodeAt(0)>=768&&Ga.test(t)}function $i(t,e,n,r){var i=document.createElement(t);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof e)i.appendChild(document.createTextNode(e));else if(e)for(var o=0;o<e.length;++o)i.appendChild(e[o]);return i}function qi(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function zi(t,e){return qi(t).appendChild(e)}function Ui(){for(var t=document.activeElement;t&&t.root&&t.root.activeElement;)t=t.root.activeElement;return t}function Yi(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}function Gi(t,e){for(var n=t.split(" "),r=0;r<n.length;r++)n[r]&&!Yi(n[r]).test(e)&&(e+=" "+n[r]);return e}function Vi(t){if(document.body.getElementsByClassName)for(var e=document.body.getElementsByClassName("CodeMirror"),n=0;n<e.length;n++){var r=e[n].CodeMirror;r&&t(r)}}function Xi(){Qa||(Ki(),Qa=!0)}function Ki(){var t;Da(window,"resize",function(){null==t&&(t=setTimeout(function(){t=null,Vi(ze)},100))}),Da(window,"blur",function(){Vi(mn)})}function Zi(t){if(null==Xa){var e=$i("span","​");zi(t,$i("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(Xa=e.offsetWidth<=1&&e.offsetHeight>2&&!(bo&&xo<8))}var n=Xa?$i("span","​"):$i("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Ji(t){if(null!=Ka)return Ka;var e=zi(t,document.createTextNode("AخA")),n=za(e,0,1).getBoundingClientRect();if(!n||n.left==n.right)return!1;var r=za(e,1,2).getBoundingClientRect();return Ka=r.right-n.right<3}function Qi(t){if(null!=is)return is;var e=zi(t,$i("span","x")),n=e.getBoundingClientRect(),r=za(e,0,1).getBoundingClientRect();return is=Math.abs(n.left-r.left)>1}function to(t,e,n,r){if(!t)return r(e,n,"ltr");for(var i=!1,o=0;o<t.length;++o){var a=t[o];(a.from<n&&a.to>e||e==n&&a.to==e)&&(r(Math.max(a.from,e),Math.min(a.to,n),1==a.level?"rtl":"ltr"),i=!0)}i||r(e,n,"ltr")}function eo(t){return t.level%2?t.to:t.from}function no(t){return t.level%2?t.from:t.to}function ro(t){var e=ii(t);return e?eo(e[0]):0}function io(t){var e=ii(t);return e?no(Fi(e)):t.text.length}function oo(t,e){var n=Zr(t.doc,e),r=mr(n);r!=n&&(e=ei(r));var i=ii(r),o=i?i[0].level%2?io(r):ro(r):0;return Ro(e,o)}function ao(t,e){for(var n,r=Zr(t.doc,e);n=yr(r);)r=n.find(1,!0).line,e=null;var i=ii(r),o=i?i[0].level%2?ro(r):io(r):r.text.length;return Ro(null==e?ei(r):e,o)}function so(t,e){var n=oo(t,e.line),r=Zr(t.doc,n.line),i=ii(r);if(!i||0==i[0].level){var o=Math.max(0,r.text.search(/\S/)),a=e.line==n.line&&e.ch<=o&&e.ch;return Ro(n.line,a?0:o)}return n}function uo(t,e,n){var r=t[0].level;return e==r||n!=r&&e<n}function lo(t,e){as=null;for(var n,r=0;r<t.length;++r){var i=t[r];if(i.from<e&&i.to>e)return r;if(i.from==e||i.to==e){if(null!=n)return uo(t,i.level,t[n].level)?(i.from!=i.to&&(as=n),r):(i.from!=i.to&&(as=r),n);n=r}}return n}function co(t,e,n,r){if(!r)return e+n;do e+=n;while(e>0&&Hi(t.text.charAt(e)));return e}function ho(t,e,n,r){var i=ii(t);if(!i)return fo(t,e,n,r);for(var o=lo(i,e),a=i[o],s=co(t,e,a.level%2?-n:n,r);;){if(s>a.from&&s<a.to)return s;if(s==a.from||s==a.to)return lo(i,s)==o?s:(a=i[o+=n],n>0==a.level%2?a.to:a.from);if(a=i[o+=n],!a)return null;s=n>0==a.level%2?co(t,a.to,-1,r):co(t,a.from,1,r)}}function fo(t,e,n,r){var i=e+n;if(r)for(;i>0&&Hi(t.text.charAt(i));)i+=n;return i<0||i>t.text.length?null:i}var po=navigator.userAgent,go=navigator.platform,yo=/gecko\/\d/i.test(po),vo=/MSIE \d/.test(po),mo=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(po),bo=vo||mo,xo=bo&&(vo?document.documentMode||6:mo[1]),wo=/WebKit\//.test(po),_o=wo&&/Qt\/\d+\.\d+/.test(po),ko=/Chrome\//.test(po),Ao=/Opera\//.test(po),Co=/Apple Computer/.test(navigator.vendor),So=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(po),Eo=/PhantomJS/.test(po),To=/AppleWebKit/.test(po)&&/Mobile\/\w+/.test(po),Mo=To||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(po),Do=To||/Mac/.test(go),Lo=/\bCrOS\b/.test(po),Fo=/win/i.test(go),No=Ao&&po.match(/Version\/(\d*\.\d*)/);No&&(No=Number(No[1])),No&&No>=15&&(Ao=!1,wo=!0);var Oo=Do&&(_o||Ao&&(null==No||No<12.11)),Io=yo||bo&&xo>=9,Bo=!1,Po=!1;g.prototype=Pi({update:function(t){var e=t.scrollWidth>t.clientWidth+1,n=t.scrollHeight>t.clientHeight+1,r=t.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=e?r+"px":"0";var i=t.viewHeight-(e?r:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=t.barLeft+"px";var o=t.viewWidth-t.barLeft-(n?r:0);this.horiz.firstChild.style.width=t.scrollWidth-t.clientWidth+o+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:e?r:0}},setScrollLeft:function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var t=Do&&!So?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Di,this.disableVert=new Di},enableZeroWidthBar:function(t,e){function n(){var r=t.getBoundingClientRect(),i=document.elementFromPoint(r.left+1,r.bottom-1);i!=t?t.style.pointerEvents="none":e.set(1e3,n)}t.style.pointerEvents="auto",e.set(1e3,n)},clear:function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)}},g.prototype),y.prototype=Pi({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},y.prototype),t.scrollbarModel={native:g,null:y},C.prototype.signal=function(t,e){Ti(t,e)&&this.events.push(arguments)},C.prototype.finish=function(){for(var t=0;t<this.events.length;t++)Na.apply(null,this.events[t])};var Ro=t.Pos=function(t,e){return this instanceof Ro?(this.line=t,void(this.ch=e)):new Ro(t,e)},jo=t.cmpPos=function(t,e){return t.line-e.line||t.ch-e.ch},Wo=null;nt.prototype=Pi({init:function(t){function e(t){if(!Si(r,t)){if(r.somethingSelected())Wo={lineWise:!1,text:r.getSelections()},n.inaccurateSelection&&(n.prevInput="",n.inaccurateSelection=!1,o.value=Wo.text.join("\n"),qa(o));else{if(!r.options.lineWiseCopyCut)return;var e=tt(r);Wo={lineWise:!0,text:e.text},"cut"==t.type?r.setSelections(e.ranges,null,Pa):(n.prevInput="",o.value=e.text.join("\n"),qa(o))}"cut"==t.type&&(r.state.cutIncoming=!0)}}var n=this,r=this.cm,i=this.wrapper=rt(),o=this.textarea=i.firstChild;t.wrapper.insertBefore(i,t.wrapper.firstChild),To&&(o.style.width="0px"),Da(o,"input",function(){bo&&xo>=9&&n.hasSelection&&(n.hasSelection=null),n.poll()}),Da(o,"paste",function(t){Si(r,t)||J(t,r)||(r.state.pasteIncoming=!0,n.fastPoll())}),Da(o,"cut",e),Da(o,"copy",e),Da(t.scroller,"paste",function(e){Ue(t,e)||Si(r,e)||(r.state.pasteIncoming=!0,n.focus())}),Da(t.lineSpace,"selectstart",function(e){Ue(t,e)||Ea(e)}),Da(o,"compositionstart",function(){var t=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:t,range:r.markText(t,r.getCursor("to"),{className:"CodeMirror-composing"})}}),Da(o,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},prepareSelection:function(){var t=this.cm,e=t.display,n=t.doc,r=It(t);if(t.options.moveInputWithCursor){var i=de(t,n.sel.primary().head,"div"),o=e.wrapper.getBoundingClientRect(),a=e.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},showSelection:function(t){var e=this.cm,n=e.display;zi(n.cursorDiv,t.cursors),zi(n.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},reset:function(t){if(!this.contextMenuPending){var e,n,r=this.cm,i=r.doc;if(r.somethingSelected()){this.prevInput="";var o=i.sel.primary();e=rs&&(o.to().line-o.from().line>100||(n=r.getSelection()).length>1e3);var a=e?"-":n||r.getSelection();this.textarea.value=a,r.state.focused&&qa(this.textarea),bo&&xo>=9&&(this.hasSelection=a)}else t||(this.prevInput=this.textarea.value="",bo&&xo>=9&&(this.hasSelection=null));this.inaccurateSelection=e}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!Mo||Ui()!=this.textarea))try{this.textarea.focus()}catch(t){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var t=this;t.pollingFast||t.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},fastPoll:function(){function t(){var r=n.poll();r||e?(n.pollingFast=!1,n.slowPoll()):(e=!0,n.polling.set(60,t))}var e=!1,n=this;n.pollingFast=!0,n.polling.set(20,t)},poll:function(){var t=this.cm,e=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||ns(e)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var r=e.value;if(r==n&&!t.somethingSelected())return!1;if(bo&&xo>=9&&this.hasSelection===r||Do&&/[\uf700-\uf7ff]/.test(r))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var i=r.charCodeAt(0);if(8203!=i||n||(n="​"),8666==i)return this.reset(),this.cm.execCommand("undo")}for(var o=0,a=Math.min(n.length,r.length);o<a&&n.charCodeAt(o)==r.charCodeAt(o);)++o;var s=this;return Me(t,function(){Z(t,r.slice(o),n.length-o,null,s.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?e.value=s.prevInput="":s.prevInput=r,s.composing&&(s.composing.range.clear(),s.composing.range=t.markText(s.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){bo&&xo>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(t){function e(){if(null!=a.selectionStart){var t=i.somethingSelected(),e="​"+(t?a.value:"");a.value="⇚",a.value=e,r.prevInput=t?"":"​",a.selectionStart=1,a.selectionEnd=e.length,o.selForContextMenu=i.doc.sel}}function n(){if(r.contextMenuPending=!1,r.wrapper.style.cssText=h,a.style.cssText=c,bo&&xo<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=u),null!=a.selectionStart){(!bo||bo&&xo<9)&&e();var t=0,n=function(){o.selForContextMenu==i.doc.sel&&0==a.selectionStart&&a.selectionEnd>0&&"​"==r.prevInput?De(i,ca.selectAll)(i):t++<10?o.detectingSelectAll=setTimeout(n,500):o.input.reset()};o.detectingSelectAll=setTimeout(n,200)}}var r=this,i=r.cm,o=i.display,a=r.textarea,s=Ye(i,t),u=o.scroller.scrollTop;if(s&&!Ao){var l=i.options.resetSelectionOnContextMenu;l&&i.doc.sel.contains(s)==-1&&De(i,St)(i.doc,dt(s),Pa);var c=a.style.cssText,h=r.wrapper.style.cssText;r.wrapper.style.cssText="position: absolute";var f=r.wrapper.getBoundingClientRect();if(a.style.cssText="position: absolute; width: 30px; height: 30px; top: "+(t.clientY-f.top-5)+"px; left: "+(t.clientX-f.left-5)+"px; z-index: 1000; background: "+(bo?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",wo)var d=window.scrollY;if(o.input.focus(),wo&&window.scrollTo(null,d),o.input.reset(),i.somethingSelected()||(a.value=r.prevInput=" "),r.contextMenuPending=!0,o.selForContextMenu=i.doc.sel,clearTimeout(o.detectingSelectAll),bo&&xo>=9&&e(),Io){Ma(t);var p=function(){Fa(window,"mouseup",p),setTimeout(n,20)};Da(window,"mouseup",p)}else setTimeout(n,50)}},readOnlyChanged:function(t){t||this.reset()},setUneditable:Ii,needsContentAttribute:!1},nt.prototype),it.prototype=Pi({init:function(t){function e(t){if(!Si(r,t)){if(r.somethingSelected())Wo={lineWise:!1,text:r.getSelections()},"cut"==t.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var e=tt(r);Wo={lineWise:!0,text:e.text},"cut"==t.type&&r.operation(function(){r.setSelections(e.ranges,0,Pa),r.replaceSelection("",null,"cut")})}if(t.clipboardData&&!To)t.preventDefault(),t.clipboardData.clearData(),t.clipboardData.setData("text/plain",Wo.text.join("\n"));else{var n=rt(),i=n.firstChild;r.display.lineSpace.insertBefore(n,r.display.lineSpace.firstChild),i.value=Wo.text.join("\n");var o=document.activeElement;qa(i),setTimeout(function(){r.display.lineSpace.removeChild(n),o.focus()},50)}}}var n=this,r=n.cm,i=n.div=t.lineDiv;et(i),Da(i,"paste",function(t){Si(r,t)||J(t,r)}),Da(i,"compositionstart",function(t){var e=t.data;if(n.composing={sel:r.doc.sel,data:e,startData:e},e){var i=r.doc.sel.primary(),o=r.getLine(i.head.line),a=o.indexOf(e,Math.max(0,i.head.ch-e.length));a>-1&&a<=i.head.ch&&(n.composing.sel=dt(Ro(i.head.line,a),Ro(i.head.line,a+e.length)))}}),Da(i,"compositionupdate",function(t){n.composing.data=t.data}),Da(i,"compositionend",function(t){var e=n.composing;e&&(t.data==e.startData||/\u200b/.test(t.data)||(e.data=t.data),setTimeout(function(){e.handled||n.applyComposition(e),n.composing==e&&(n.composing=null)},50))}),Da(i,"touchstart",function(){n.forceCompositionEnd()}),Da(i,"input",function(){n.composing||!r.isReadOnly()&&n.pollContent()||Me(n.cm,function(){Ie(r)})}),Da(i,"copy",e),Da(i,"cut",e)},prepareSelection:function(){var t=It(this.cm,!1);return t.focus=this.cm.state.focused,t},showSelection:function(t,e){t&&this.cm.display.view.length&&((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},showPrimarySelection:function(){var t=window.getSelection(),e=this.cm.doc.sel.primary(),n=st(this.cm,t.anchorNode,t.anchorOffset),r=st(this.cm,t.focusNode,t.focusOffset);if(!n||n.bad||!r||r.bad||0!=jo(X(n,r),e.from())||0!=jo(V(n,r),e.to())){var i=ot(this.cm,e.from()),o=ot(this.cm,e.to());if(i||o){var a=this.cm.display.view,s=t.rangeCount&&t.getRangeAt(0);if(i){if(!o){var u=a[a.length-1].measure,l=u.maps?u.maps[u.maps.length-1]:u.map;o={node:l[l.length-1],offset:l[l.length-2]-l[l.length-3]}}}else i={node:a[0].measure.map[2],offset:0};try{var c=za(i.node,i.offset,o.offset,o.node)}catch(t){}c&&(!yo&&this.cm.state.focused?(t.collapse(i.node,i.offset),c.collapsed||t.addRange(c)):(t.removeAllRanges(),t.addRange(c)),s&&null==t.anchorNode?t.addRange(s):yo&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){t.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(t){zi(this.cm.display.cursorDiv,t.cursors),zi(this.cm.display.selectionDiv,t.selection)},rememberSelection:function(){var t=window.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},selectionInEditor:function(){var t=window.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return Va(this.div,e)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}var e=this;this.selectionInEditor()?this.pollSelection():Me(this.cm,function(){e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,t)},selectionChanged:function(){var t=window.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var t=window.getSelection(),e=this.cm;this.rememberSelection();var n=st(e,t.anchorNode,t.anchorOffset),r=st(e,t.focusNode,t.focusOffset);n&&r&&Me(e,function(){St(e.doc,dt(n,r),Pa),(n.bad||r.bad)&&(e.curOp.selectionChanged=!0)})}},pollContent:function(){var t=this.cm,e=t.display,n=t.doc.sel.primary(),r=n.from(),i=n.to();if(r.line<e.viewFrom||i.line>e.viewTo-1)return!1;var o;if(r.line==e.viewFrom||0==(o=Re(t,r.line)))var a=ei(e.view[0].line),s=e.view[0].node;else var a=ei(e.view[o].line),s=e.view[o-1].node.nextSibling;var u=Re(t,i.line);if(u==e.view.length-1)var l=e.viewTo-1,c=e.lineDiv.lastChild;else var l=ei(e.view[u+1].line)-1,c=e.view[u+1].node.previousSibling;for(var h=t.doc.splitLines(lt(t,s,c,a,l)),f=Jr(t.doc,Ro(a,0),Ro(l,Zr(t.doc,l).text.length));h.length>1&&f.length>1;)if(Fi(h)==Fi(f))h.pop(),f.pop(),l--;else{if(h[0]!=f[0])break;h.shift(),f.shift(),a++}for(var d=0,p=0,g=h[0],y=f[0],v=Math.min(g.length,y.length);d<v&&g.charCodeAt(d)==y.charCodeAt(d);)++d;for(var m=Fi(h),b=Fi(f),x=Math.min(m.length-(1==h.length?d:0),b.length-(1==f.length?d:0));p<x&&m.charCodeAt(m.length-p-1)==b.charCodeAt(b.length-p-1);)++p;h[h.length-1]=m.slice(0,m.length-p),h[0]=h[0].slice(d);var w=Ro(a,d),_=Ro(l,f.length?Fi(f).length-p:0);return h.length>1||h[0]||jo(w,_)?(Fn(t.doc,h,w,_,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(t){this.cm.isReadOnly()?De(this.cm,Ie)(this.cm):t.data&&t.data!=t.startData&&De(this.cm,Z)(this.cm,t.data,0,t.sel)},setUneditable:function(t){t.contentEditable="false"},onKeyPress:function(t){t.preventDefault(),this.cm.isReadOnly()||De(this.cm,Z)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0)},readOnlyChanged:function(t){this.div.contentEditable=String("nocursor"!=t)},onContextMenu:Ii,resetPosition:Ii,needsContentAttribute:!0},it.prototype),t.inputStyles={textarea:nt,contenteditable:it},ct.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var n=this.ranges[e],r=t.ranges[e];if(0!=jo(n.anchor,r.anchor)||0!=jo(n.head,r.head))return!1}return!0},deepCopy:function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new ht(G(this.ranges[e].anchor),G(this.ranges[e].head));return new ct(t,this.primIndex)},somethingSelected:function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},contains:function(t,e){e||(e=t);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(jo(e,r.from())>=0&&jo(t,r.to())<=0)return n}return-1}},ht.prototype={from:function(){return X(this.anchor,this.head)},to:function(){return V(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Ho,$o,qo,zo={left:0,right:0,top:0,bottom:0},Uo=null,Yo=0,Go=0,Vo=0,Xo=null;bo?Xo=-.53:yo?Xo=15:ko?Xo=-.7:Co&&(Xo=-1/3);var Ko=function(t){var e=t.wheelDeltaX,n=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==n&&t.detail&&t.axis==t.VERTICAL_AXIS?n=t.detail:null==n&&(n=t.wheelDelta),{x:e,y:n}};t.wheelEventPixels=function(t){var e=Ko(t);return e.x*=Xo,e.y*=Xo,e};var Zo=new Di,Jo=null,Qo=t.changeEnd=function(t){return t.text?Ro(t.from.line+t.text.length-1,Fi(t.text).length+(1==t.text.length?t.from.ch:0)):t.to};t.prototype={constructor:t,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,e){var n=this.options,r=n[t];n[t]==e&&"mode"!=t||(n[t]=e,ea.hasOwnProperty(t)&&De(this,ea[t])(this,e,r))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](Gn(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,n=0;n<e.length;++n)if(e[n]==t||e[n].name==t)return e.splice(n,1),!0},addOverlay:Le(function(e,n){var r=e.token?e:t.getMode(this.options,e);if(r.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:r,modeSpec:e,opaque:n&&n.opaque}),this.state.modeGen++,Ie(this)}),removeOverlay:Le(function(t){for(var e=this.state.overlays,n=0;n<e.length;++n){var r=e[n].modeSpec;if(r==t||"string"==typeof t&&r.name==t)return e.splice(n,1),this.state.modeGen++,void Ie(this)}}),indentLine:Le(function(t,e,n){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),vt(this.doc,t)&&Wn(this,t,e,n)}),indentSelection:Le(function(t){for(var e=this.doc.sel.ranges,n=-1,r=0;r<e.length;r++){var i=e[r];if(i.empty())i.head.line>n&&(Wn(this,i.head.line,t,!0),n=i.head.line,r==this.doc.sel.primIndex&&Rn(this));else{var o=i.from(),a=i.to(),s=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var u=s;u<n;++u)Wn(this,u,t);var l=this.doc.sel.ranges;0==o.ch&&e.length==l.length&&l[r].from().ch>0&&_t(this.doc,r,new ht(o,l[r].to()),Pa)}}}),getTokenAt:function(t,e){return Fr(this,t,e)},getLineTokens:function(t,e){return Fr(this,Ro(t),e,!0)},getTokenTypeAt:function(t){t=gt(this.doc,t);var e,n=Ir(this,Zr(this.doc,t.line)),r=0,i=(n.length-1)/2,o=t.ch;if(0==o)e=n[2];else for(;;){var a=r+i>>1;if((a?n[2*a-1]:0)>=o)i=a;else{if(!(n[2*a+1]<o)){e=n[2*a+2];break}r=a+1}}var s=e?e.indexOf("cm-overlay "):-1;return s<0?e:0==s?null:e.slice(0,s-1)},getModeAt:function(e){var n=this.doc.mode;return n.innerMode?t.innerMode(n,this.getTokenAt(e).state).mode:n},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var n=[];if(!sa.hasOwnProperty(e))return n;var r=sa[e],i=this.getModeAt(t);if("string"==typeof i[e])r[i[e]]&&n.push(r[i[e]]);else if(i[e])for(var o=0;o<i[e].length;o++){var a=r[i[e][o]];a&&n.push(a)}else i.helperType&&r[i.helperType]?n.push(r[i.helperType]):r[i.name]&&n.push(r[i.name]);for(var o=0;o<r._global.length;o++){var s=r._global[o];s.pred(i,this)&&Ni(n,s.val)==-1&&n.push(s.val)}return n},getStateAfter:function(t,e){var n=this.doc;return t=pt(n,null==t?n.first+n.size-1:t),$t(this,t+1,e)},cursorCoords:function(t,e){var n,r=this.doc.sel.primary();return n=null==t?r.head:"object"==typeof t?gt(this.doc,t):t?r.from():r.to(),de(this,n,e||"page")},charCoords:function(t,e){return fe(this,gt(this.doc,t),e||"page")},coordsChar:function(t,e){return t=he(this,t,e||"page"),ye(this,t.left,t.top)},lineAtHeight:function(t,e){return t=he(this,{top:t,left:0},e||"page").top,ni(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e){var n,r=!1;if("number"==typeof t){var i=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>i&&(t=i,r=!0),n=Zr(this.doc,t)}else n=t;return ce(this,n,{top:0,left:0},e||"page").top+(r?this.doc.height-ri(n):0)},defaultTextHeight:function(){return me(this.display)},defaultCharWidth:function(){return be(this.display)},setGutterMarker:Le(function(t,e,n){return Hn(this.doc,t,"gutter",function(t){var r=t.gutterMarkers||(t.gutterMarkers={});return r[e]=n,!n&&Wi(r)&&(t.gutterMarkers=null),!0})}),clearGutter:Le(function(t){var e=this,n=e.doc,r=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[t]&&(n.gutterMarkers[t]=null,Be(e,r,"gutter"),Wi(n.gutterMarkers)&&(n.gutterMarkers=null)),++r})}),lineInfo:function(t){if("number"==typeof t){if(!vt(this.doc,t))return null;var e=t;if(t=Zr(this.doc,t),!t)return null}else{var e=ei(t);if(null==e)return null}return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,n,r,i){var o=this.display;t=de(this,gt(this.doc,t));var a=t.bottom,s=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),o.sizer.appendChild(e),"over"==r)a=t.top;else if("above"==r||"near"==r){var u=Math.max(o.wrapper.clientHeight,this.doc.height),l=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||t.bottom+e.offsetHeight>u)&&t.top>e.offsetHeight?a=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=u&&(a=t.bottom),s+e.offsetWidth>l&&(s=l-e.offsetWidth)}e.style.top=a+"px",e.style.left=e.style.right="","right"==i?(s=o.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-e.offsetWidth)/2),e.style.left=s+"px"),n&&In(this,s,a,s+e.offsetWidth,a+e.offsetHeight)},triggerOnKeyDown:Le(fn),triggerOnKeyPress:Le(gn),triggerOnKeyUp:pn,execCommand:function(t){if(ca.hasOwnProperty(t))return ca[t].call(null,this)},triggerElectric:Le(function(t){Q(this,t)}),findPosH:function(t,e,n,r){var i=1;e<0&&(i=-1,e=-e);for(var o=0,a=gt(this.doc,t);o<e&&(a=qn(this.doc,a,i,n,r),!a.hitSide);++o);return a},moveH:Le(function(t,e){var n=this;n.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?qn(n.doc,r.head,t,e,n.options.rtlMoveVisually):t<0?r.from():r.to()},ja)}),deleteH:Le(function(t,e){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):$n(this,function(n){var i=qn(r,n.head,t,e,!1);return t<0?{from:i,to:n.head}:{from:n.head,to:i}})}),findPosV:function(t,e,n,r){var i=1,o=r;e<0&&(i=-1,
e=-e);for(var a=0,s=gt(this.doc,t);a<e;++a){var u=de(this,s,"div");if(null==o?o=u.left:u.left=o,s=zn(this,u,i,n),s.hitSide)break}return s},moveV:Le(function(t,e){var n=this,r=this.doc,i=[],o=!n.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(a){if(o)return t<0?a.from():a.to();var s=de(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var u=zn(n,s,t,e);return"page"==e&&a==r.sel.primary()&&Pn(n,null,fe(n,u,"div").top-s.top),u},ja),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]}),findWordAt:function(t){var e=this.doc,n=Zr(e,t.line).text,r=t.ch,i=t.ch;if(n){var o=this.getHelper(t,"wordChars");(t.xRel<0||i==n.length)&&r?--r:++i;for(var a=n.charAt(r),s=ji(a,o)?function(t){return ji(t,o)}:/\s/.test(a)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!ji(t)};r>0&&s(n.charAt(r-1));)--r;for(;i<n.length&&s(n.charAt(i));)++i}return new ht(Ro(t.line,r),Ro(t.line,i))},toggleOverwrite:function(t){null!=t&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Ja(this.display.cursorDiv,"CodeMirror-overwrite"):Za(this.display.cursorDiv,"CodeMirror-overwrite"),Na(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Ui()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Le(function(t,e){null==t&&null==e||jn(this),null!=t&&(this.curOp.scrollLeft=t),null!=e&&(this.curOp.scrollTop=e)}),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-Yt(this)-this.display.barHeight,width:t.scrollWidth-Yt(this)-this.display.barWidth,clientHeight:Vt(this),clientWidth:Gt(this)}},scrollIntoView:Le(function(t,e){if(null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:Ro(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line)jn(this),this.curOp.scrollToPos=t;else{var n=Bn(this,Math.min(t.from.left,t.to.left),Math.min(t.from.top,t.to.top)-t.margin,Math.max(t.from.right,t.to.right),Math.max(t.from.bottom,t.to.bottom)+t.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:Le(function(t,e){function n(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t}var r=this;null!=t&&(r.display.wrapper.style.width=n(t)),null!=e&&(r.display.wrapper.style.height=n(e)),r.options.lineWrapping&&ae(this);var i=r.display.viewFrom;r.doc.iter(i,r.display.viewTo,function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){Be(r,i,"widget");break}++i}),r.curOp.forceUpdate=!0,Na(r,"refresh",this)}),operation:function(t){return Me(this,t)},refresh:Le(function(){var t=this.display.cachedTextHeight;Ie(this),this.curOp.forceUpdate=!0,se(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),c(this),(null==t||Math.abs(t-me(this.display))>.5)&&a(this),Na(this,"refresh",this)}),swapDoc:Le(function(t){var e=this.doc;return e.cm=null,Kr(this,t),se(this),this.display.input.reset(),this.scrollTo(t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,Ai(this,"swapDoc",this,e),e}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Mi(t);var ta=t.defaults={},ea=t.optionHandlers={},na=t.Init={toString:function(){return"CodeMirror.Init"}};Un("value","",function(t,e){t.setValue(e)},!0),Un("mode",null,function(t,e){t.doc.modeOption=e,n(t)},!0),Un("indentUnit",2,n,!0),Un("indentWithTabs",!1),Un("smartIndent",!0),Un("tabSize",4,function(t){r(t),se(t),Ie(t)},!0),Un("lineSeparator",null,function(t,e){if(t.doc.lineSep=e,e){var n=[],r=t.doc.first;t.doc.iter(function(t){for(var i=0;;){var o=t.text.indexOf(e,i);if(o==-1)break;i=o+e.length,n.push(Ro(r,o))}r++});for(var i=n.length-1;i>=0;i--)Fn(t.doc,e,n[i],Ro(n[i].line,n[i].ch+e.length))}}),Un("specialChars",/[\u0000-\u001f\u007f\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,n,r){e.state.specialChars=new RegExp(n.source+(n.test("\t")?"":"|\t"),"g"),r!=t.Init&&e.refresh()}),Un("specialCharPlaceholder",jr,function(t){t.refresh()},!0),Un("electricChars",!0),Un("inputStyle",Mo?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),Un("rtlMoveVisually",!Fo),Un("wholeLineUpdateBefore",!0),Un("theme","default",function(t){s(t),u(t)},!0),Un("keyMap","default",function(e,n,r){var i=Gn(n),o=r!=t.Init&&Gn(r);o&&o.detach&&o.detach(e,i),i.attach&&i.attach(e,o||null)}),Un("extraKeys",null),Un("lineWrapping",!1,i,!0),Un("gutters",[],function(t){d(t.options),u(t)},!0),Un("fixedGutter",!0,function(t,e){t.display.gutters.style.left=e?A(t.display)+"px":"0",t.refresh()},!0),Un("coverGutterNextToScrollbar",!1,function(t){m(t)},!0),Un("scrollbarStyle","native",function(t){v(t),m(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)},!0),Un("lineNumbers",!1,function(t){d(t.options),u(t)},!0),Un("firstLineNumber",1,u,!0),Un("lineNumberFormatter",function(t){return t},u,!0),Un("showCursorWhenSelecting",!1,Ot,!0),Un("resetSelectionOnContextMenu",!0),Un("lineWiseCopyCut",!0),Un("readOnly",!1,function(t,e){"nocursor"==e?(mn(t),t.display.input.blur(),t.display.disabled=!0):t.display.disabled=!1,t.display.input.readOnlyChanged(e)}),Un("disableInput",!1,function(t,e){e||t.display.input.reset()},!0),Un("dragDrop",!0,qe),Un("allowDropFileTypes",null),Un("cursorBlinkRate",530),Un("cursorScrollMargin",0),Un("cursorHeight",1,Ot,!0),Un("singleCursorHeightPerLine",!0,Ot,!0),Un("workTime",100),Un("workDelay",100),Un("flattenSpans",!0,r,!0),Un("addModeClass",!1,r,!0),Un("pollInterval",100),Un("undoDepth",200,function(t,e){t.doc.history.undoDepth=e}),Un("historyEventDelay",1250),Un("viewportMargin",10,function(t){t.refresh()},!0),Un("maxHighlightLength",1e4,r,!0),Un("moveInputWithCursor",!0,function(t,e){e||t.display.input.resetPosition()}),Un("tabindex",null,function(t,e){t.display.input.getField().tabIndex=e||""}),Un("autofocus",null);var ra=t.modes={},ia=t.mimeModes={};t.defineMode=function(e,n){t.defaults.mode||"null"==e||(t.defaults.mode=e),arguments.length>2&&(n.dependencies=Array.prototype.slice.call(arguments,2)),ra[e]=n},t.defineMIME=function(t,e){ia[t]=e},t.resolveMode=function(e){if("string"==typeof e&&ia.hasOwnProperty(e))e=ia[e];else if(e&&"string"==typeof e.name&&ia.hasOwnProperty(e.name)){var n=ia[e.name];"string"==typeof n&&(n={name:n}),e=Bi(n,e),e.name=n.name}else if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return t.resolveMode("application/xml");return"string"==typeof e?{name:e}:e||{name:"null"}},t.getMode=function(e,n){var n=t.resolveMode(n),r=ra[n.name];if(!r)return t.getMode(e,"text/plain");var i=r(e,n);if(oa.hasOwnProperty(n.name)){var o=oa[n.name];for(var a in o)o.hasOwnProperty(a)&&(i.hasOwnProperty(a)&&(i["_"+a]=i[a]),i[a]=o[a])}if(i.name=n.name,n.helperType&&(i.helperType=n.helperType),n.modeProps)for(var a in n.modeProps)i[a]=n.modeProps[a];return i},t.defineMode("null",function(){return{token:function(t){t.skipToEnd()}}}),t.defineMIME("text/plain","null");var oa=t.modeExtensions={};t.extendMode=function(t,e){var n=oa.hasOwnProperty(t)?oa[t]:oa[t]={};Pi(e,n)},t.defineExtension=function(e,n){t.prototype[e]=n},t.defineDocExtension=function(t,e){Aa.prototype[t]=e},t.defineOption=Un;var aa=[];t.defineInitHook=function(t){aa.push(t)};var sa=t.helpers={};t.registerHelper=function(e,n,r){sa.hasOwnProperty(e)||(sa[e]=t[e]={_global:[]}),sa[e][n]=r},t.registerGlobalHelper=function(e,n,r,i){t.registerHelper(e,n,i),sa[e]._global.push({pred:r,val:i})};var ua=t.copyState=function(t,e){if(e===!0)return e;if(t.copyState)return t.copyState(e);var n={};for(var r in e){var i=e[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n},la=t.startState=function(t,e,n){return!t.startState||t.startState(e,n)};t.innerMode=function(t,e){for(;t.innerMode;){var n=t.innerMode(e);if(!n||n.mode==t)break;e=n.state,t=n.mode}return n||{mode:t,state:e}};var ca=t.commands={selectAll:function(t){t.setSelection(Ro(t.firstLine(),0),Ro(t.lastLine()),Pa)},singleSelection:function(t){t.setSelection(t.getCursor("anchor"),t.getCursor("head"),Pa)},killLine:function(t){$n(t,function(e){if(e.empty()){var n=Zr(t.doc,e.head.line).text.length;return e.head.ch==n&&e.head.line<t.lastLine()?{from:e.head,to:Ro(e.head.line+1,0)}:{from:e.head,to:Ro(e.head.line,n)}}return{from:e.from(),to:e.to()}})},deleteLine:function(t){$n(t,function(e){return{from:Ro(e.from().line,0),to:gt(t.doc,Ro(e.to().line+1,0))}})},delLineLeft:function(t){$n(t,function(t){return{from:Ro(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(t){$n(t,function(e){var n=t.charCoords(e.head,"div").top+5,r=t.coordsChar({left:0,top:n},"div");return{from:r,to:e.from()}})},delWrappedLineRight:function(t){$n(t,function(e){var n=t.charCoords(e.head,"div").top+5,r=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div");return{from:e.from(),to:r}})},undo:function(t){t.undo()},redo:function(t){t.redo()},undoSelection:function(t){t.undoSelection()},redoSelection:function(t){t.redoSelection()},goDocStart:function(t){t.extendSelection(Ro(t.firstLine(),0))},goDocEnd:function(t){t.extendSelection(Ro(t.lastLine()))},goLineStart:function(t){t.extendSelectionsBy(function(e){return oo(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){t.extendSelectionsBy(function(e){return so(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){t.extendSelectionsBy(function(e){return ao(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){t.extendSelectionsBy(function(e){var n=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div")},ja)},goLineLeft:function(t){t.extendSelectionsBy(function(e){var n=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:n},"div")},ja)},goLineLeftSmart:function(t){t.extendSelectionsBy(function(e){var n=t.charCoords(e.head,"div").top+5,r=t.coordsChar({left:0,top:n},"div");return r.ch<t.getLine(r.line).search(/\S/)?so(t,e.head):r},ja)},goLineUp:function(t){t.moveV(-1,"line")},goLineDown:function(t){t.moveV(1,"line")},goPageUp:function(t){t.moveV(-1,"page")},goPageDown:function(t){t.moveV(1,"page")},goCharLeft:function(t){t.moveH(-1,"char")},goCharRight:function(t){t.moveH(1,"char")},goColumnLeft:function(t){t.moveH(-1,"column")},goColumnRight:function(t){t.moveH(1,"column")},goWordLeft:function(t){t.moveH(-1,"word")},goGroupRight:function(t){t.moveH(1,"group")},goGroupLeft:function(t){t.moveH(-1,"group")},goWordRight:function(t){t.moveH(1,"word")},delCharBefore:function(t){t.deleteH(-1,"char")},delCharAfter:function(t){t.deleteH(1,"char")},delWordBefore:function(t){t.deleteH(-1,"word")},delWordAfter:function(t){t.deleteH(1,"word")},delGroupBefore:function(t){t.deleteH(-1,"group")},delGroupAfter:function(t){t.deleteH(1,"group")},indentAuto:function(t){t.indentSelection("smart")},indentMore:function(t){t.indentSelection("add")},indentLess:function(t){t.indentSelection("subtract")},insertTab:function(t){t.replaceSelection("\t")},insertSoftTab:function(t){for(var e=[],n=t.listSelections(),r=t.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=Wa(t.getLine(o.line),o.ch,r);e.push(Li(r-a%r))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){Me(t,function(){for(var e=t.listSelections(),n=[],r=0;r<e.length;r++){var i=e[r].head,o=Zr(t.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new Ro(i.line,i.ch-1)),i.ch>0)i=new Ro(i.line,i.ch+1),t.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),Ro(i.line,i.ch-2),i,"+transpose");else if(i.line>t.doc.first){var a=Zr(t.doc,i.line-1).text;a&&t.replaceRange(o.charAt(0)+t.doc.lineSeparator()+a.charAt(a.length-1),Ro(i.line-1,a.length-1),Ro(i.line,1),"+transpose")}n.push(new ht(i,i))}t.setSelections(n)})},newlineAndIndent:function(t){Me(t,function(){for(var e=t.listSelections().length,n=0;n<e;n++){var r=t.listSelections()[n];t.replaceRange(t.doc.lineSeparator(),r.anchor,r.head,"+input"),t.indentLine(r.from().line+1,null,!0)}Rn(t)})},openLine:function(t){t.replaceSelection("\n","start")},toggleOverwrite:function(t){t.toggleOverwrite()}},ha=t.keyMap={};ha.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},ha.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},ha.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},ha.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},ha.default=Do?ha.macDefault:ha.pcDefault,t.normalizeKeyMap=function(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete t[n];continue}for(var i=Oi(n.split(" "),Yn),o=0;o<i.length;o++){var a,s;o==i.length-1?(s=i.join(" "),a=r):(s=i.slice(0,o+1).join(" "),a="...");var u=e[s];if(u){if(u!=a)throw new Error("Inconsistent bindings for "+s)}else e[s]=a}delete t[n]}for(var l in e)t[l]=e[l];return t};var fa=t.lookupKey=function(t,e,n,r){e=Gn(e);var i=e.call?e.call(t,r):e[t];if(i===!1)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return fa(t,e.fallthrough,n,r);for(var o=0;o<e.fallthrough.length;o++){var a=fa(t,e.fallthrough[o],n,r);if(a)return a}}},da=t.isModifierKey=function(t){var e="string"==typeof t?t:os[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e},pa=t.keyName=function(t,e){if(Ao&&34==t.keyCode&&t.char)return!1;var n=os[t.keyCode],r=n;return null!=r&&!t.altGraphKey&&(t.altKey&&"Alt"!=n&&(r="Alt-"+r),(Oo?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(r="Ctrl-"+r),(Oo?t.ctrlKey:t.metaKey)&&"Cmd"!=n&&(r="Cmd-"+r),!e&&t.shiftKey&&"Shift"!=n&&(r="Shift-"+r),r)};t.fromTextArea=function(e,n){function r(){e.value=u.getValue()}if(n=n?Pi(n):{},n.value=e.value,!n.tabindex&&e.tabIndex&&(n.tabindex=e.tabIndex),!n.placeholder&&e.placeholder&&(n.placeholder=e.placeholder),null==n.autofocus){var i=Ui();n.autofocus=i==e||null!=e.getAttribute("autofocus")&&i==document.body}if(e.form&&(Da(e.form,"submit",r),!n.leaveSubmitMethodAlone)){var o=e.form,a=o.submit;try{var s=o.submit=function(){r(),o.submit=a,o.submit(),o.submit=s}}catch(t){}}n.finishInit=function(t){t.save=r,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,r(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(Fa(e.form,"submit",r),"function"==typeof e.form.submit&&(e.form.submit=a))}},e.style.display="none";var u=t(function(t){e.parentNode.insertBefore(t,e.nextSibling)},n);return u};var ga=t.StringStream=function(t,e){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};ga.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(t){var e=this.string.charAt(this.pos);if("string"==typeof t)var n=e==t;else var n=e&&(t.test?t.test(e):t(e));if(n)return++this.pos,e},eatWhile:function(t){for(var e=this.pos;this.eat(t););return this.pos>e},eatSpace:function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},backUp:function(t){this.pos-=t},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Wa(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Wa(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Wa(this.string,null,this.tabSize)-(this.lineStart?Wa(this.string,this.lineStart,this.tabSize):0)},match:function(t,e,n){if("string"!=typeof t){var r=this.string.slice(this.pos).match(t);return r&&r.index>0?null:(r&&e!==!1&&(this.pos+=r[0].length),r)}var i=function(t){return n?t.toLowerCase():t},o=this.string.substr(this.pos,t.length);if(i(o)==i(t))return e!==!1&&(this.pos+=t.length),!0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}}};var ya=0,va=t.TextMarker=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++ya};Mi(va),va.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&xe(t),Ti(this,"clear")){var n=this.find();n&&Ai(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=tr(a.markedSpans,this);t&&!this.collapsed?Be(t,ei(a),"text"):t&&(null!=s.to&&(i=ei(a)),null!=s.from&&(r=ei(a))),a.markedSpans=er(a.markedSpans,s),null==s.from&&this.collapsed&&!_r(this.doc,a)&&t&&ti(a,me(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var o=0;o<this.lines.length;++o){var u=mr(this.lines[o]),l=h(u);l>t.display.maxLineLength&&(t.display.maxLine=u,t.display.maxLineLength=l,t.display.maxLineChanged=!0)}null!=r&&t&&this.collapsed&&Ie(t,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Mt(t.doc)),t&&Ai(t,"markerCleared",t,this),e&&_e(t),this.parent&&this.parent.clear()}},va.prototype.find=function(t,e){null==t&&"bookmark"==this.type&&(t=1);for(var n,r,i=0;i<this.lines.length;++i){var o=this.lines[i],a=tr(o.markedSpans,this);if(null!=a.from&&(n=Ro(e?o:ei(o),a.from),t==-1))return n;if(null!=a.to&&(r=Ro(e?o:ei(o),a.to),1==t))return r}return n&&{from:n,to:r}},va.prototype.changed=function(){var t=this.find(-1,!0),e=this,n=this.doc.cm;t&&n&&Me(n,function(){var r=t.line,i=ei(t.line),o=Qt(n,i);if(o&&(oe(o),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!_r(e.doc,r)&&null!=e.height){var a=e.height;e.height=null;var s=Cr(e)-a;s&&ti(r,r.height+s)}})},va.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&Ni(e.maybeHiddenMarkers,this)!=-1||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},va.prototype.detachLine=function(t){if(this.lines.splice(Ni(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}};var ya=0,ma=t.SharedTextMarker=function(t,e){this.markers=t,this.primary=e;for(var n=0;n<t.length;++n)t[n].parent=this};Mi(ma),ma.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();Ai(this,"clear")}},ma.prototype.find=function(t,e){return this.primary.find(t,e)};var ba=t.LineWidget=function(t,e,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=t,this.node=e};Mi(ba),ba.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,n=this.line,r=ei(n);if(null!=r&&e){for(var i=0;i<e.length;++i)e[i]==this&&e.splice(i--,1);e.length||(n.widgets=null);var o=Cr(this);ti(n,Math.max(0,n.height-o)),t&&Me(t,function(){Ar(t,n,-o),Be(t,r,"widget")})}},ba.prototype.changed=function(){var t=this.height,e=this.doc.cm,n=this.line;this.height=null;var r=Cr(this)-t;r&&(ti(n,n.height+r),e&&Me(e,function(){e.curOp.forceUpdate=!0,Ar(e,n,r)}))};var xa=t.Line=function(t,e,n){this.text=t,cr(this,e),this.height=n?n(this):1};Mi(xa),xa.prototype.lineNo=function(){return ei(this)};var wa={},_a={};Gr.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var n=t,r=t+e;n<r;++n){var i=this.lines[n];this.height-=i.height,Tr(i),Ai(i,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,n){this.height+=n,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var r=0;r<e.length;++r)e[r].parent=this},iterN:function(t,e,n){for(var r=t+e;t<r;++t)if(n(this.lines[t]))return!0}},Vr.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(t<i){var o=Math.min(e,i-t),a=r.height;if(r.removeInner(t,o),this.height-=a-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(e-=o))break;t=0}else t-=i}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof Gr))){var s=[];this.collapse(s),this.children=[new Gr(s)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,n){this.size+=e.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(t<=o){if(i.insertInner(t,e,n),i.lines&&i.lines.length>50){for(var a=i.lines.length%25+25,s=a;s<i.lines.length;){var u=new Gr(i.lines.slice(s,s+=25));i.height-=u.height,this.children.splice(++r,0,u),u.parent=this}i.lines=i.lines.slice(0,a),this.maybeSpill()}break}t-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),n=new Vr(e);if(t.parent){t.size-=n.size,t.height-=n.height;var r=Ni(t.parent.children,t);t.parent.children.splice(r+1,0,n)}else{var i=new Vr(t.children);i.parent=t,t.children=[i,n],t=i}n.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(t<o){var a=Math.min(e,o-t);if(i.iterN(t,a,n))return!0;if(0==(e-=a))break;t=0}else t-=o}}};var ka=0,Aa=t.Doc=function(t,e,n,r){if(!(this instanceof Aa))return new Aa(t,e,n,r);null==n&&(n=0),Vr.call(this,[new Gr([new xa("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var i=Ro(n,0);this.sel=dt(i),this.history=new oi(null),this.id=++ka,this.modeOption=e,this.lineSep=r,this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),Yr(this,{from:i,to:i,text:t}),St(this,dt(i),Pa)};Aa.prototype=Bi(Vr.prototype,{constructor:Aa,iter:function(t,e,n){n?this.iterN(t-this.first,e-t,n):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var n=0,r=0;r<e.length;++r)n+=e[r].height;this.insertInner(t-this.first,e,n)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=Qr(this,this.first,this.first+this.size);return t===!1?e:e.join(t||this.lineSeparator())},setValue:Fe(function(t){var e=Ro(this.first,0),n=this.first+this.size-1;Sn(this,{from:e,to:Ro(n,Zr(this,n).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),St(this,dt(e))}),replaceRange:function(t,e,n,r){e=gt(this,e),n=n?gt(this,n):e,Fn(this,t,e,n,r)},getRange:function(t,e,n){var r=Jr(this,gt(this,t),gt(this,e));return n===!1?r:r.join(n||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(vt(this,t))return Zr(this,t)},getLineNumber:function(t){return ei(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=Zr(this,t)),mr(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return gt(this,t)},getCursor:function(t){var e,n=this.sel.primary();return e=null==t||"head"==t?n.head:"anchor"==t?n.anchor:"end"==t||"to"==t||t===!1?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Fe(function(t,e,n){kt(this,gt(this,"number"==typeof t?Ro(t,e||0):t),null,n)}),setSelection:Fe(function(t,e,n){kt(this,gt(this,t),gt(this,e||t),n)}),extendSelection:Fe(function(t,e,n){xt(this,gt(this,t),e&&gt(this,e),n)}),extendSelections:Fe(function(t,e){wt(this,mt(this,t),e)}),extendSelectionsBy:Fe(function(t,e){var n=Oi(this.sel.ranges,t);wt(this,mt(this,n),e)}),setSelections:Fe(function(t,e,n){if(t.length){for(var r=0,i=[];r<t.length;r++)i[r]=new ht(gt(this,t[r].anchor),gt(this,t[r].head));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),St(this,ft(i,e),n)}}),addSelection:Fe(function(t,e,n){var r=this.sel.ranges.slice(0);r.push(new ht(gt(this,t),gt(this,e||t))),St(this,ft(r,r.length-1),n)}),getSelection:function(t){for(var e,n=this.sel.ranges,r=0;r<n.length;r++){var i=Jr(this,n[r].from(),n[r].to());e=e?e.concat(i):i}return t===!1?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=Jr(this,n[r].from(),n[r].to());t!==!1&&(i=i.join(t||this.lineSeparator())),e[r]=i}return e},replaceSelection:function(t,e,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=t;this.replaceSelections(r,e,n||"+input")},replaceSelections:Fe(function(t,e,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];r[o]={from:a.from(),to:a.to(),text:this.splitLines(t[o]),origin:n}}for(var s=e&&"end"!=e&&An(this,r,e),o=r.length-1;o>=0;o--)Sn(this,r[o]);s?Ct(this,s):this.cm&&Rn(this.cm)}),undo:Fe(function(){Tn(this,"undo")}),redo:Fe(function(){Tn(this,"redo")}),undoSelection:Fe(function(){Tn(this,"undo",!0)}),redoSelection:Fe(function(){Tn(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,n=0,r=0;r<t.done.length;r++)t.done[r].ranges||++e;for(var r=0;r<t.undone.length;r++)t.undone[r].ranges||++n;return{undo:e,redo:n}},clearHistory:function(){this.history=new oi(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:yi(this.history.done),undone:yi(this.history.undone)}},setHistory:function(t){var e=this.history=new oi(this.history.maxGeneration);e.done=yi(t.done.slice(0),null,!0),e.undone=yi(t.undone.slice(0),null,!0)},addLineClass:Fe(function(t,e,n){return Hn(this,t,"gutter"==e?"gutter":"class",function(t){var r="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass";if(t[r]){if(Yi(n).test(t[r]))return!1;t[r]+=" "+n}else t[r]=n;return!0})}),removeLineClass:Fe(function(t,e,n){return Hn(this,t,"gutter"==e?"gutter":"class",function(t){var r="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass",i=t[r];if(!i)return!1;if(null==n)t[r]=null;else{var o=i.match(Yi(n));if(!o)return!1;var a=o.index+o[0].length;t[r]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0})}),addLineWidget:Fe(function(t,e,n){return Sr(this,t,e,n)}),removeLineWidget:function(t){t.clear()},markText:function(t,e,n){return Vn(this,gt(this,t),gt(this,e),n,n&&n.type||"range")},setBookmark:function(t,e){var n={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return t=gt(this,t),Vn(this,t,t,n,"bookmark")},findMarksAt:function(t){t=gt(this,t);var e=[],n=Zr(this,t.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=t.ch)&&(null==i.to||i.to>=t.ch)&&e.push(i.marker.parent||i.marker)}return e},findMarks:function(t,e,n){t=gt(this,t),e=gt(this,e);var r=[],i=t.line;return this.iter(t.line,e.line+1,function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var u=a[s];null!=u.to&&i==t.line&&t.ch>=u.to||null==u.from&&i!=t.line||null!=u.from&&i==e.line&&u.from>=e.ch||n&&!n(u.marker)||r.push(u.marker.parent||u.marker)}++i}),r},getAllMarks:function(){var t=[];return this.iter(function(e){var n=e.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&t.push(n[r].marker)}),t},posFromIndex:function(t){var e,n=this.first,r=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+r;return o>t?(e=t,!0):(t-=o,void++n)}),gt(this,Ro(n,e))},indexFromPos:function(t){t=gt(this,t);var e=t.ch;if(t.line<this.first||t.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,t.line,function(t){e+=t.text.length+n}),e},copy:function(t){var e=new Aa(Qr(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,n=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<n&&(n=t.to);var r=new Aa(Qr(this,e,n),t.mode||this.modeOption,e,this.lineSep);return t.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:t.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],Zn(r,Kn(this)),r},unlinkDoc:function(e){if(e instanceof t&&(e=e.doc),this.linked)for(var n=0;n<this.linked.length;++n){var r=this.linked[n];if(r.doc==e){this.linked.splice(n,1),e.unlinkDoc(this),Jn(Kn(this));break}}if(e.history==this.history){var i=[e.id];Xr(e,function(t){i.push(t.id)},!0),e.history=new oi(null),e.history.done=yi(this.history.done,i),e.history.undone=yi(this.history.undone,i)}},iterLinkedDocs:function(t){Xr(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):es(t)},lineSeparator:function(){return this.lineSep||"\n"}}),Aa.prototype.eachLine=Aa.prototype.iter;var Ca="iter insert remove copy getEditor constructor".split(" ");for(var Sa in Aa.prototype)Aa.prototype.hasOwnProperty(Sa)&&Ni(Ca,Sa)<0&&(t.prototype[Sa]=function(t){return function(){return t.apply(this.doc,arguments)}}(Aa.prototype[Sa]));Mi(Aa);var Ea=t.e_preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},Ta=t.e_stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0;
},Ma=t.e_stop=function(t){Ea(t),Ta(t)},Da=t.on=function(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent)t.attachEvent("on"+e,n);else{var r=t._handlers||(t._handlers={}),i=r[e]||(r[e]=[]);i.push(n)}},La=[],Fa=t.off=function(t,e,n){if(t.removeEventListener)t.removeEventListener(e,n,!1);else if(t.detachEvent)t.detachEvent("on"+e,n);else for(var r=ki(t,e,!1),i=0;i<r.length;++i)if(r[i]==n){r.splice(i,1);break}},Na=t.signal=function(t,e){var n=ki(t,e,!0);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)},Oa=null,Ia=30,Ba=t.Pass={toString:function(){return"CodeMirror.Pass"}},Pa={scroll:!1},Ra={origin:"*mouse"},ja={origin:"+move"};Di.prototype.set=function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)};var Wa=t.countColumn=function(t,e,n,r,i){null==e&&(e=t.search(/[^\s\u00a0]/),e==-1&&(e=t.length));for(var o=r||0,a=i||0;;){var s=t.indexOf("\t",o);if(s<0||s>=e)return a+(e-o);a+=s-o,a+=n-a%n,o=s+1}},Ha=t.findColumn=function(t,e,n){for(var r=0,i=0;;){var o=t.indexOf("\t",r);o==-1&&(o=t.length);var a=o-r;if(o==t.length||i+a>=e)return r+Math.min(a,e-i);if(i+=o-r,i+=n-i%n,r=o+1,i>=e)return r}},$a=[""],qa=function(t){t.select()};To?qa=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:bo&&(qa=function(t){try{t.select()}catch(t){}});var za,Ua=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Ya=t.isWordChar=function(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Ua.test(t))},Ga=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;za=document.createRange?function(t,e,n,r){var i=document.createRange();return i.setEnd(r||t,n),i.setStart(t,e),i}:function(t,e,n){var r=document.body.createTextRange();try{r.moveToElementText(t.parentNode)}catch(t){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",e),r};var Va=t.contains=function(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do if(11==e.nodeType&&(e=e.host),e==t)return!0;while(e=e.parentNode)};bo&&xo<11&&(Ui=function(){try{return document.activeElement}catch(t){return document.body}});var Xa,Ka,Za=t.rmClass=function(t,e){var n=t.className,r=Yi(e).exec(n);if(r){var i=n.slice(r.index+r[0].length);t.className=n.slice(0,r.index)+(i?r[1]+i:"")}},Ja=t.addClass=function(t,e){var n=t.className;Yi(e).test(n)||(t.className+=(n?" ":"")+e)},Qa=!1,ts=function(){if(bo&&xo<9)return!1;var t=$i("div");return"draggable"in t||"dragDrop"in t}(),es=t.splitLines=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,n=[],r=t.length;e<=r;){var i=t.indexOf("\n",e);i==-1&&(i=t.length);var o=t.slice(e,"\r"==t.charAt(i-1)?i-1:i),a=o.indexOf("\r");a!=-1?(n.push(o.slice(0,a)),e+=a+1):(n.push(o),e=i+1)}return n}:function(t){return t.split(/\r\n?|\n/)},ns=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(t){return!1}}:function(t){try{var e=t.ownerDocument.selection.createRange()}catch(t){}return!(!e||e.parentElement()!=t)&&0!=e.compareEndPoints("StartToEnd",e)},rs=function(){var t=$i("div");return"oncopy"in t||(t.setAttribute("oncopy","return;"),"function"==typeof t.oncopy)}(),is=null,os=t.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(var t=0;t<10;t++)os[t+48]=os[t+96]=String(t);for(var t=65;t<=90;t++)os[t]=String.fromCharCode(t);for(var t=1;t<=12;t++)os[t+111]=os[t+63235]="F"+t}();var as,ss=function(){function t(t){return t<=247?n.charAt(t):1424<=t&&t<=1524?"R":1536<=t&&t<=1773?r.charAt(t-1536):1774<=t&&t<=2220?"r":8192<=t&&t<=8203?"w":8204==t?"b":"L"}function e(t,e,n){this.level=t,this.from=e,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",r="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,a=/[LRr]/,s=/[Lb1n]/,u=/[1n]/,l="L";return function(n){if(!i.test(n))return!1;for(var r,c=n.length,h=[],f=0;f<c;++f)h.push(r=t(n.charCodeAt(f)));for(var f=0,d=l;f<c;++f){var r=h[f];"m"==r?h[f]=d:d=r}for(var f=0,p=l;f<c;++f){var r=h[f];"1"==r&&"r"==p?h[f]="n":a.test(r)&&(p=r,"r"==r&&(h[f]="R"))}for(var f=1,d=h[0];f<c-1;++f){var r=h[f];"+"==r&&"1"==d&&"1"==h[f+1]?h[f]="1":","!=r||d!=h[f+1]||"1"!=d&&"n"!=d||(h[f]=d),d=r}for(var f=0;f<c;++f){var r=h[f];if(","==r)h[f]="N";else if("%"==r){for(var g=f+1;g<c&&"%"==h[g];++g);for(var y=f&&"!"==h[f-1]||g<c&&"1"==h[g]?"1":"N",v=f;v<g;++v)h[v]=y;f=g-1}}for(var f=0,p=l;f<c;++f){var r=h[f];"L"==p&&"1"==r?h[f]="L":a.test(r)&&(p=r)}for(var f=0;f<c;++f)if(o.test(h[f])){for(var g=f+1;g<c&&o.test(h[g]);++g);for(var m="L"==(f?h[f-1]:l),b="L"==(g<c?h[g]:l),y=m||b?"L":"R",v=f;v<g;++v)h[v]=y;f=g-1}for(var x,w=[],f=0;f<c;)if(s.test(h[f])){var _=f;for(++f;f<c&&s.test(h[f]);++f);w.push(new e(0,_,f))}else{var k=f,A=w.length;for(++f;f<c&&"L"!=h[f];++f);for(var v=k;v<f;)if(u.test(h[v])){k<v&&w.splice(A,0,new e(1,k,v));var C=v;for(++v;v<f&&u.test(h[v]);++v);w.splice(A,0,new e(2,C,v)),k=v}else++v;k<f&&w.splice(A,0,new e(1,k,f))}return 1==w[0].level&&(x=n.match(/^\s+/))&&(w[0].from=x[0].length,w.unshift(new e(0,0,x[0].length))),1==Fi(w).level&&(x=n.match(/\s+$/))&&(Fi(w).to-=x[0].length,w.push(new e(0,c-x[0].length,c))),2==w[0].level&&w.unshift(new e(1,w[0].to,w[0].to)),w[0].level!=Fi(w).level&&w.push(new e(w[0].level,c,c)),w}}();return t.version="5.16.0",t}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function e(t,e){if(!t.hasOwnProperty(e))throw new Error("Undefined state "+e+" in simple mode")}function n(t,e){if(!t)return/(?:)/;var n="";return t instanceof RegExp?(t.ignoreCase&&(n="i"),t=t.source):t=String(t),new RegExp((e===!1?"":"^")+"(?:"+t+")",n)}function r(t){if(!t)return null;if("string"==typeof t)return t.replace(/\./g," ");for(var e=[],n=0;n<t.length;n++)e.push(t[n]&&t[n].replace(/\./g," "));return e}function i(t,i){(t.next||t.push)&&e(i,t.next||t.push),this.regex=n(t.regex),this.token=r(t.token),this.data=t}function o(t,e){return function(n,r){if(r.pending){var i=r.pending.shift();return 0==r.pending.length&&(r.pending=null),n.pos+=i.text.length,i.token}if(r.local){if(r.local.end&&n.match(r.local.end)){var o=r.local.endToken||null;return r.local=r.localState=null,o}var a,o=r.local.mode.token(n,r.localState);return r.local.endScan&&(a=r.local.endScan.exec(n.current()))&&(n.pos=n.start+a.index),o}for(var u=t[r.state],l=0;l<u.length;l++){var c=u[l],h=(!c.data.sol||n.sol())&&n.match(c.regex);if(h){if(c.data.next?r.state=c.data.next:c.data.push?((r.stack||(r.stack=[])).push(r.state),r.state=c.data.push):c.data.pop&&r.stack&&r.stack.length&&(r.state=r.stack.pop()),c.data.mode&&s(e,r,c.data.mode,c.token),c.data.indent&&r.indent.push(n.indentation()+e.indentUnit),c.data.dedent&&r.indent.pop(),h.length>2){r.pending=[];for(var f=2;f<h.length;f++)h[f]&&r.pending.push({text:h[f],token:c.token[f-1]});return n.backUp(h[0].length-(h[1]?h[1].length:0)),c.token[0]}return c.token&&c.token.join?c.token[0]:c.token}}return n.next(),null}}function a(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;var n=0;for(var r in t)if(t.hasOwnProperty(r)){if(!e.hasOwnProperty(r)||!a(t[r],e[r]))return!1;n++}for(var r in e)e.hasOwnProperty(r)&&n--;return 0==n}function s(e,r,i,o){var s;if(i.persistent)for(var u=r.persistentStates;u&&!s;u=u.next)(i.spec?a(i.spec,u.spec):i.mode==u.mode)&&(s=u);var l=s?s.mode:i.mode||t.getMode(e,i.spec),c=s?s.state:t.startState(l);i.persistent&&!s&&(r.persistentStates={mode:l,spec:i.spec,state:c,next:r.persistentStates}),r.localState=c,r.local={mode:l,end:i.end&&n(i.end),endScan:i.end&&i.forceEnd!==!1&&n(i.end,!1),endToken:o&&o.join?o[o.length-1]:o}}function u(t,e){for(var n=0;n<e.length;n++)if(e[n]===t)return!0}function l(e,n){return function(r,i,o){if(r.local&&r.local.mode.indent)return r.local.mode.indent(r.localState,i,o);if(null==r.indent||r.local||n.dontIndentStates&&u(r.state,n.dontIndentStates)>-1)return t.Pass;var a=r.indent.length-1,s=e[r.state];t:for(;;){for(var l=0;l<s.length;l++){var c=s[l];if(c.data.dedent&&c.data.dedentIfLineStart!==!1){var h=c.regex.exec(i);if(h&&h[0]){a--,(c.next||c.push)&&(s=e[c.next||c.push]),i=i.slice(h[0].length);continue t}}}break}return a<0?0:r.indent[a]}}t.defineSimpleMode=function(e,n){t.defineMode(e,function(e){return t.simpleMode(e,n)})},t.simpleMode=function(n,r){e(r,"start");var a={},s=r.meta||{},u=!1;for(var c in r)if(c!=s&&r.hasOwnProperty(c))for(var h=a[c]=[],f=r[c],d=0;d<f.length;d++){var p=f[d];h.push(new i(p,r)),(p.indent||p.dedent)&&(u=!0)}var g={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:u?[]:null}},copyState:function(e){var n={state:e.state,pending:e.pending,local:e.local,localState:null,indent:e.indent&&e.indent.slice(0)};e.localState&&(n.localState=t.copyState(e.local.mode,e.localState)),e.stack&&(n.stack=e.stack.slice(0));for(var r=e.persistentStates;r;r=r.next)n.persistentStates={mode:r.mode,spec:r.spec,state:r.state==e.localState?n.localState:t.copyState(r.mode,r.state),next:n.persistentStates};return n},token:o(a,n),innerMode:function(t){return t.local&&{mode:t.local.mode,state:t.localState}},indent:l(a,s)};if(s)for(var y in s)s.hasOwnProperty(y)&&(g[y]=s[y]);return g}}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function e(t,e){this.cm=t,this.options=e,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var n=this;t.on("cursorActivity",this.activityFunc=function(){n.cursorActivity()})}function n(e,n){var r=t.cmpPos(n.from,e.from);return r>0&&e.to.ch-e.from.ch!=n.to.ch-n.from.ch}function r(t,e,n){var r=t.options.hintOptions,i={};for(var o in g)i[o]=g[o];if(r)for(var o in r)void 0!==r[o]&&(i[o]=r[o]);if(n)for(var o in n)void 0!==n[o]&&(i[o]=n[o]);return i.hint.resolve&&(i.hint=i.hint.resolve(t,e)),i}function i(t){return"string"==typeof t?t:t.text}function o(t,e){function n(t,n){var i;i="string"!=typeof n?function(t){return n(t,e)}:r.hasOwnProperty(n)?r[n]:n,o[t]=i}var r={Up:function(){e.moveFocus(-1)},Down:function(){e.moveFocus(1)},PageUp:function(){e.moveFocus(-e.menuSize()+1,!0)},PageDown:function(){e.moveFocus(e.menuSize()-1,!0)},Home:function(){e.setFocus(0)},End:function(){e.setFocus(e.length-1)},Enter:e.pick,Tab:e.pick,Esc:e.close},i=t.options.customKeys,o=i?{}:r;if(i)for(var a in i)i.hasOwnProperty(a)&&n(a,i[a]);var s=t.options.extraKeys;if(s)for(var a in s)s.hasOwnProperty(a)&&n(a,s[a]);return o}function a(t,e){for(;e&&e!=t;){if("LI"===e.nodeName.toUpperCase()&&e.parentNode==t)return e;e=e.parentNode}}function s(e,n){this.completion=e,this.data=n,this.picked=!1;var r=this,s=e.cm,u=this.hints=document.createElement("ul");u.className="CodeMirror-hints",this.selectedHint=n.selectedHint||0;for(var l=n.list,c=0;c<l.length;++c){var d=u.appendChild(document.createElement("li")),p=l[c],g=h+(c!=this.selectedHint?"":" "+f);null!=p.className&&(g=p.className+" "+g),d.className=g,p.render?p.render(d,n,p):d.appendChild(document.createTextNode(p.displayText||i(p))),d.hintId=c}var y=s.cursorCoords(e.options.alignWithWord?n.from:null),v=y.left,m=y.bottom,b=!0;u.style.left=v+"px",u.style.top=m+"px";var x=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),w=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(e.options.container||document.body).appendChild(u);var _=u.getBoundingClientRect(),k=_.bottom-w,A=u.scrollHeight>u.clientHeight+1;if(k>0){var C=_.bottom-_.top,S=y.top-(y.bottom-_.top);if(S-C>0)u.style.top=(m=y.top-C)+"px",b=!1;else if(C>w){u.style.height=w-5+"px",u.style.top=(m=y.bottom-_.top)+"px";var E=s.getCursor();n.from.ch!=E.ch&&(y=s.cursorCoords(E),u.style.left=(v=y.left)+"px",_=u.getBoundingClientRect())}}var T=_.right-x;if(T>0&&(_.right-_.left>x&&(u.style.width=x-5+"px",T-=_.right-_.left-x),u.style.left=(v=y.left-T)+"px"),A)for(var M=u.firstChild;M;M=M.nextSibling)M.style.paddingRight=s.display.nativeBarWidth+"px";if(s.addKeyMap(this.keyMap=o(e,{moveFocus:function(t,e){r.changeActive(r.selectedHint+t,e)},setFocus:function(t){r.changeActive(t)},menuSize:function(){return r.screenAmount()},length:l.length,close:function(){e.close()},pick:function(){r.pick()},data:n})),e.options.closeOnUnfocus){var D;s.on("blur",this.onBlur=function(){D=setTimeout(function(){e.close()},100)}),s.on("focus",this.onFocus=function(){clearTimeout(D)})}var L=s.getScrollInfo();return s.on("scroll",this.onScroll=function(){var t=s.getScrollInfo(),n=s.getWrapperElement().getBoundingClientRect(),r=m+L.top-t.top,i=r-(window.pageYOffset||(document.documentElement||document.body).scrollTop);return b||(i+=u.offsetHeight),i<=n.top||i>=n.bottom?e.close():(u.style.top=r+"px",void(u.style.left=v+L.left-t.left+"px"))}),t.on(u,"dblclick",function(t){var e=a(u,t.target||t.srcElement);e&&null!=e.hintId&&(r.changeActive(e.hintId),r.pick())}),t.on(u,"click",function(t){var n=a(u,t.target||t.srcElement);n&&null!=n.hintId&&(r.changeActive(n.hintId),e.options.completeOnSingleClick&&r.pick())}),t.on(u,"mousedown",function(){setTimeout(function(){s.focus()},20)}),t.signal(n,"select",l[0],u.firstChild),!0}function u(t,e){if(!t.somethingSelected())return e;for(var n=[],r=0;r<e.length;r++)e[r].supportsSelection&&n.push(e[r]);return n}function l(t,e,n,r){if(t.async)t(e,r,n);else{var i=t(e,n);i&&i.then?i.then(r):r(i)}}function c(e,n){var r,i=e.getHelpers(n,"hint");if(i.length){var o=function(t,e,n){function r(i){return i==o.length?e(null):void l(o[i],t,n,function(t){t&&t.list.length>0?e(t):r(i+1)})}var o=u(t,i);r(0)};return o.async=!0,o.supportsSelection=!0,o}return(r=e.getHelper(e.getCursor(),"hintWords"))?function(e){return t.hint.fromList(e,{words:r})}:t.hint.anyword?function(e,n){return t.hint.anyword(e,n)}:function(){}}var h="CodeMirror-hint",f="CodeMirror-hint-active";t.showHint=function(t,e,n){if(!e)return t.showHint(n);n&&n.async&&(e.async=!0);var r={hint:e};if(n)for(var i in n)r[i]=n[i];return t.showHint(r)},t.defineExtension("showHint",function(n){n=r(this,this.getCursor("start"),n);var i=this.listSelections();if(!(i.length>1)){if(this.somethingSelected()){if(!n.hint.supportsSelection)return;for(var o=0;o<i.length;o++)if(i[o].head.line!=i[o].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var a=this.state.completionActive=new e(this,n);a.options.hint&&(t.signal(this,"startCompletion",this),a.update(!0))}});var d=window.requestAnimationFrame||function(t){return setTimeout(t,1e3/60)},p=window.cancelAnimationFrame||clearTimeout;e.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&t.signal(this.data,"close"),this.widget&&this.widget.close(),t.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(e,n){var r=e.list[n];r.hint?r.hint(this.cm,e,r):this.cm.replaceRange(i(r),r.from||e.from,r.to||e.to,"complete"),t.signal(e,"pick",r),this.close()},cursorActivity:function(){this.debounce&&(p(this.debounce),this.debounce=0);var t=this.cm.getCursor(),e=this.cm.getLine(t.line);if(t.line!=this.startPos.line||e.length-t.ch!=this.startLen-this.startPos.ch||t.ch<this.startPos.ch||this.cm.somethingSelected()||t.ch&&this.options.closeCharacters.test(e.charAt(t.ch-1)))this.close();else{var n=this;this.debounce=d(function(){n.update()}),this.widget&&this.widget.disable()}},update:function(t){if(null!=this.tick){var e=this,n=++this.tick;l(this.options.hint,this.cm,this.options,function(r){e.tick==n&&e.finishUpdate(r,t)})}},finishUpdate:function(e,r){this.data&&t.signal(this.data,"update");var i=this.widget&&this.widget.picked||r&&this.options.completeSingle;this.widget&&this.widget.close(),e&&this.data&&n(this.data,e)||(this.data=e,e&&e.list.length&&(i&&1==e.list.length?this.pick(e,0):(this.widget=new s(this,e),t.signal(e,"shown"))))}},s.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var t=this.completion.cm;this.completion.options.closeOnUnfocus&&(t.off("blur",this.onBlur),t.off("focus",this.onFocus)),t.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var t=this;this.keyMap={Enter:function(){t.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(e,n){if(e>=this.data.list.length?e=n?this.data.list.length-1:0:e<0&&(e=n?0:this.data.list.length-1),this.selectedHint!=e){var r=this.hints.childNodes[this.selectedHint];r.className=r.className.replace(" "+f,""),r=this.hints.childNodes[this.selectedHint=e],r.className+=" "+f,r.offsetTop<this.hints.scrollTop?this.hints.scrollTop=r.offsetTop-3:r.offsetTop+r.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=r.offsetTop+r.offsetHeight-this.hints.clientHeight+3),t.signal(this.data,"select",this.data.list[this.selectedHint],r)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},t.registerHelper("hint","auto",{resolve:c}),t.registerHelper("hint","fromList",function(e,n){var r=e.getCursor(),i=e.getTokenAt(r),o=t.Pos(r.line,i.end);if(i.string&&/\w/.test(i.string[i.string.length-1]))var a=i.string,s=t.Pos(r.line,i.start);else var a="",s=o;for(var u=[],l=0;l<n.words.length;l++){var c=n.words[l];c.slice(0,a.length)==a&&u.push(c)}if(u.length)return{list:u,from:s,to:o}}),t.commands.autocomplete=t.showHint;var g={hint:t.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null};t.defineOption("hintOptions",null)}),function(t){"use strict";function e(){var e=t.crypto||t.msCrypto;if(!s&&e&&e.getRandomValues)try{var n=new Uint8Array(16);c=s=function(){return e.getRandomValues(n),n},s()}catch(t){}if(!s){var r=new Array(16);u=s=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),r[e]=t>>>((3&e)<<3)&255;return r},"undefined"!=typeof console&&console.warn&&console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")}}function n(){if("function"==typeof require)try{var t=require("crypto").randomBytes;l=s=t&&function(){return t(16)},s()}catch(t){}}function r(t,e,n){var r=e&&n||0,i=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){i<16&&(e[r+i++]=p[t])});i<16;)e[r+i++]=0;return e}function i(t,e){var n=e||0,r=d;return r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]}function o(t,e,n){var r=e&&n||0,o=e||[];t=t||{};var a=null!=t.clockseq?t.clockseq:m,s=null!=t.msecs?t.msecs:(new Date).getTime(),u=null!=t.nsecs?t.nsecs:x+1,l=s-b+(u-x)/1e4;if(l<0&&null==t.clockseq&&(a=a+1&16383),(l<0||s>b)&&null==t.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");b=s,x=u,m=a,s+=122192928e5;var c=(1e4*(268435455&s)+u)%4294967296;o[r++]=c>>>24&255,o[r++]=c>>>16&255,o[r++]=c>>>8&255,o[r++]=255&c;var h=s/4294967296*1e4&268435455;o[r++]=h>>>8&255,o[r++]=255&h,o[r++]=h>>>24&15|16,o[r++]=h>>>16&255,o[r++]=a>>>8|128,o[r++]=255&a;for(var f=t.node||v,d=0;d<6;d++)o[r+d]=f[d];return e?e:i(o)}function a(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"===t?new f(16):null,t=null),t=t||{};var o=t.random||(t.rng||s)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var a=0;a<16;a++)e[r+a]=o[a];return e||i(o)}var s,u,l,c,h;t?e():n();for(var f="function"==typeof Buffer?Buffer:Array,d=[],p={},g=0;g<256;g++)d[g]=(g+256).toString(16).substr(1),p[d[g]]=g;var y=s(),v=[1|y[0],y[1],y[2],y[3],y[4],y[5]],m=16383&(y[6]<<8|y[7]),b=0,x=0,w=a;w.v1=o,w.v4=a,w.parse=r,w.unparse=i,w.BufferClass=f,w._rng=s,w._mathRNG=u,w._nodeRNG=l,w._whatwgRNG=c,"undefined"!=typeof module&&module.exports?module.exports=w:"function"==typeof define&&define.amd?define(function(){return w}):(h=t.uuid,w.noConflict=function(){return t.uuid=h,w},t.uuid=w)}("undefined"!=typeof window?window:null),function(t){"object"==typeof exports&&"object"==typeof module?t(require(".js/codemirror")):"function"==typeof define&&define.amd?define(["js/codemirror"],t):t(CodeMirror)}(function(t){"use strict";t.registerHelper("hint","seqdef",function(e,n){function r(t,e){for(var n=t;n>=0;n--){var r=e.getLineTokens(n).filter(function(t){return t.type});if(r.length>=3&&"actor"==r[0].type&&"arrow"==r[1].type&&"actor"==r[2].type)return[r[0].string,r[2].string]}return null}function i(t,e){var n=t.indexOf(e.trim());return n!=-1?n+1<t.length?t[n+1]:t[0]:e}function o(t,e,n){var r=t.slice();return n&&"string"==typeof n&&r.unshift(n.trim()),e&&"string"==typeof e&&r.unshift(e.trim()),_.toArray(_.uniq(r))}function a(t,e){return t.filter(function(t){return"string"==typeof t?0==t.toLowerCase().indexOf(e.toLowerCase()):!!t.text&&0==t.text.toLowerCase().indexOf(e.trim().toLowerCase())})}function s(n){if("actor-1"==n||"actor-2"==n){"actor"==g.type&&(p=g.start);var s=f.slice(p,d),v=r(h.line-1,e);if(v&&"actor-2"==n)var m=o(u,v[0],i(u,y[0].string));else if(v&&"actor-1"==n)var m=o(u,v[1]);else if(y[0]&&"actor-2"==n)var m=o(u,i(u,y[0].string));else var m=u;"actor-1"==n&&(m=m.concat(l));var b="actor-1"==n?" -":": ";m=a(m,s)}else if("arrow"==n){for(;p&&/[->x]/.test(f.charAt(p-1));)--p;var x=f.slice(p,d),m=a(c,x),b=" "}var w={list:m,from:t.Pos(h.line,p),to:t.Pos(h.line,d)};return t.on(w,"pick",function(r){if("string"==typeof r&&"actor-1"==n&&y[0]&&"keyword note"==y[0].type){var i=e.getCursor().line,o=e.getLine(i);e.setSelection(t.Pos(i,o.indexOf("note text")),t.Pos(i,o.length))}else if("string"==typeof r)e.replaceRange(b,e.getCursor());else if("loop fragment"==r.displayText||"opt fragment"==r.displayText){var i=e.getCursor().line-1,o=e.getLine(i);e.setSelection(t.Pos(i,o.indexOf("Describing text")),t.Pos(i,o.length))}else if("alt fragment"==r.displayText){var i=e.getCursor().line-2,o=e.getLine(i);e.setSelection(t.Pos(i,o.indexOf("Describing text")),t.Pos(i,o.length))}else if("note"==r.displayText){var i=e.getCursor().line,o=e.getLine(i);e.setSelection(t.Pos(i,o.indexOf("[Actor]")),t.Pos(i,o.indexOf("[Actor]")+7))}}),w}var u=n.actors.slice(),l=[{displayText:"participant declaration",text:"participant ",class:"fragment"},,{displayText:"loop fragment",text:"loop Describing text\nend",class:"fragment"},{displayText:"alt fragment",text:"alt Describing text\nelse \nend",class:"fragment"},{displayText:"opt fragment",text:"opt Describing text\nend",class:"fragment"},{displayText:"note",text:"note left of [Actor]: note text",class:"fragment"}],c=["->>","-->>","-x","--x","-->"],h=e.getCursor(),f=e.getLine(h.line),d=h.ch,p=d,g=(e.getTokenTypeAt(h),e.getTokenAt(h)),y=e.getLineTokens(h.line).filter(function(t){return t.type});return y.length>=2&&"actor"==y[0].type&&"arrow"==y[1].type&&("actor"==g.type||null==g.type)&&h.ch>y[1].end?s("actor-2"):y.length>=2&&"actor"==y[0].type&&"arrow"==y[1].type&&"arrow"==g.type||y.length>=1&&"actor"==y[0].type&&null==g.type?s("arrow"):y.length>0&&"actor"==g.type&&"keyword participant"!==y[0].type||0==y.length?s("actor-1"):void 0})}),function(t){"object"==typeof exports&&"object"==typeof module?t(require(".js/codemirror")):"function"==typeof define&&define.amd?define(["js/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function e(t,e){for(var n=t;n>=0;n--){var r=_.filter(e.getLineTokens(n),function(t){return t.type&&t.type.indexOf("box")!=-1});if(2==r.length)return r[1]}return null}t.registerHelper("hint","flowchart",function(n,r){var i=n.getCursor(),o=n.getLineTokens(n.getCursor().line).filter(function(t){return t.type}),a={displayText:"subgraph declaration",text:"subgraph title\nend",class:"fragment"};if(/^\s*$/.test(n.getLine(i.line))){if(r.changeObj.from.line==i.line&&r.changeObj.from.ch==i.ch&&""==r.changeObj.text[0])return;var s=e(i.line-1,n);if(!s)return;if("box decision"==s.type){n.replaceRange(s.string+" - No ->> \n"+s.string+" - Yes ->> ",i);var u=n.getCursor().line-1;n.setCursor(u,n.getLine(u).length)}else s.type.indexOf("box")!=-1&&n.replaceRange(s.string+" ->> ",i)}else if(1==o.length){var l=o[0].string;if(0==a.text.indexOf(l)){var c={list:[a],from:t.Pos(i.line,o[0].start),to:t.Pos(i.line,o[0].end)};return t.on(c,"pick",function(e){var r=n.getCursor().line-1,i=n.getLine(r);n.setSelection(t.Pos(r,i.indexOf("title")),t.Pos(r,i.length))}),c}}})}),$(function(){"use strict";function t(t){r.innerHTML=t}function e(t,e){this.message=t,this.lineNumber=e,this.stack=(new Error).stack}function n(t,e){this.message=t,this.id=e,this.stack=(new Error).stack}$(".splashscreen").remove(),$(".hidden").removeClass("hidden"),$("#newFlowchart").on($.modal.CLOSE,function(t,e){$("form.new-chart").trigger("reset")}),$("#newSequenceDiagram").on($.modal.CLOSE,function(t,e){$("form.new-chart").trigger("reset")}),$(".new-chart").submit(function(t){t.preventDefault(),a.newChart(this.getAttribute("data-chart-type"),_.escape(this.name.value))}),$("#show-charts-button").click(function(){var t=a.getAllCharts(),e=t.map(function(t){var e=t.id==a.currentChart.id?"select-chart current-chart":"select-chart",n="flowchart"==t.type?"flowchart-label":"sequence-diagram-label";return"<tr class='"+e+"' data-chart-id='"+t.id+"'><td><p class='"+n+"'>"+t.type[0].toUpperCase()+"</p></td><td style='width:100%;'>"+t.name+"</td><td><a class='rename-chart' href='javascript:void(0);' data-chart-name='"+t.name+"'>Rename</a></td><td><a class='delete-chart' href='javascript:void(0);' data-chart-name='"+t.name+"'>Delete</a></td></tr>"}).join("");$("#chartsList tbody")[0].innerHTML=e,$(".select-chart").hover(function(){$(this).addClass("active-row")},function(){$(this).removeClass("active-row")}),$(".select-chart").click(function(){a.openChartByID(this.getAttribute("data-chart-id"))}),$(".delete-chart").click(function(t){return t.preventDefault(),$("#confirm-delete-chart strong").text(this.getAttribute("data-chart-name")),$("#cancel-del-button").click(function(){$.modal.close()}),$("#confirm-del-button").attr("data-chart-id",this.parentNode.parentNode.getAttribute("data-chart-id")),$("#confirm-del-button").click(function(){var t=this.getAttribute("data-chart-id");a.deleteChartByID(t),t!=a.currentChart.id?$("#show-charts-button").click():window.location.reload()}),$("#confirm-delete-chart").modal({closeExisting:!1}),!1}),$(".rename-chart").click(function(t){return t.preventDefault(),$("#rename-chart-modal strong").text(this.getAttribute("data-chart-name")),$("#rename-chart-modal form")[0].reset(),$("#rename-chart-modal form").attr("data-chart-id",this.parentNode.parentNode.getAttribute("data-chart-id")),$("#rename-chart-modal").modal({closeExisting:!1}),!1}),$("#rename-form").submit(function(t){t.preventDefault(),a.renameChartByID(this.getAttribute("data-chart-id"),_.escape(this.name.value)),$("#show-charts-button").click()})}),$("#export-diagram").click(function(t){t.preventDefault();var e=$("#graphDiv")[0],n=(new XMLSerializer).serializeToString(e),r="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(n))),i=new Image;i.src=r,i.onload=function(){var t=document.createElement("canvas");t.width=i.width,t.height=i.height;var e=t.getContext("2d");e.clearRect(0,0,i.width,i.height),e.fillStyle="white",e.fillRect(0,0,t.width,t.height),e.drawImage(i,0,0);var n=document.createElement("a");n.setAttribute("class","hidden"),document.body.appendChild(n),n.download=a.currentChart.name+".png";try{n.href=t.toDataURL("image/png"),n.click()}catch(t){"flowchart"==a.currentChart.type?$("#can-not-export-flowchart").modal():"sequenceDiagram"==a.currentChart.type&&$("#can-not-export-seq").modal()}}}),$("#show-syntax").click(function(){"flowchart"==a.currentChart.type?$("#flowchart-syntax").modal():"sequenceDiagram"==a.currentChart.type&&$("#sequence-diagram-syntax").modal()}),mermaidAPI.initialize({startOnLoad:!0,cloneCssStyles:!0,flowchart:{useMaxWidth:!1},sequenceDiagram:{useMaxWidth:!1,width:150,height:65,actorMargin:120}}),mermaidAPI.parseError=function(t,e){o.markErrorAtLine(e.line-1)};var r=document.querySelector("#chart");e.prototype=Object.create(Error.prototype),e.prototype.name="TranslateError",n.prototype=Object.create(Error.prototype),n.prototype.name="ChartNotFoundError";var i={_sequenceDiagramExample:"participant Alice\nparticipant John\nAlice ->> John: No need to memorize the syntax.\nJohn -->> Alice: You will be hinted during typing.\nNote right of John: Text in note",_flowchartExample:"((Terminal)) ->> Process\nProcess ->> Decision?\nDecision? - No ->> Process 1\nDecision? - Yes ->> Process 2\nsubgraph Subgraph Title\n  Process 2 ->> Process 3\nend",_charts:JSON.parse(localStorage.getItem("spells")),_lastOpenID:localStorage.getItem("lastOpenID"),init:function(){this._charts&&0!=this._charts.length||(this._charts=[{
id:uuid.v4(),type:"sequenceDiagram",name:"Sample sequence diagram",content:this._sequenceDiagramExample,createTime:Date.now(),lastModified:Date.now()},{id:uuid.v4(),type:"flowchart",direction:"TB",name:"Sample flowchart",content:this._flowchartExample,createTime:Date.now(),lastModified:Date.now()}],localStorage.setItem("spells",JSON.stringify(this._charts)));var t=this._lastOpenID;if(!t||void 0==_(this._charts).find(function(e){return e.id==t})){if(this._lastOpenID=this._charts[0].id,!this._lastOpenID)throw new Error("modal._charts maybe contaminated.");localStorage.setItem("lastOpenID",this._lastOpenID)}},getChartByID:function(t){var e=_(this._charts).find(function(e){return e.id==t});if(!e)throw new n("Chart not found.",t);return e},setChartByID:function(t,e){var r=_(this._charts).find(function(e){return e.id==t});if(!r)throw new n("Chart not found.",t);r.content=e,r.lastModified=Date.now(),localStorage.setItem("spells",JSON.stringify(this._charts))},renameChartByID:function(t,e){var r=_(this._charts).find(function(e){return e.id==t});if(!r)throw new n("Chart not found.",t);r.name=e,localStorage.setItem("spells",JSON.stringify(this._charts))},deleteChartByID:function(t,e){this._charts=this._charts.filter(function(e){return e.id!=t}),localStorage.setItem("spells",JSON.stringify(this._charts))},getAllCharts:function(){return this._charts},newChart:function(t,e,n){var r;return"sequenceDiagram"==t?r={id:uuid.v4(),type:"sequenceDiagram",name:e||"Untitled sequence diagram",content:this._sequenceDiagramExample,createTime:Date.now(),lastModified:Date.now()}:"flowchart"==t&&(r={id:uuid.v4(),type:"flowchart",direction:n||"TB",name:e||"Untitled flowchart",content:this._flowchartExample,createTime:Date.now(),lastModified:Date.now()}),this._charts.unshift(r),localStorage.setItem("spells",JSON.stringify(this._charts)),r.id},getLastOpenID:function(){if(!this._lastOpenID)throw new Error("Can't find modal._lastOpenID.");return this._lastOpenID},setLastOpenID:function(t){this._lastOpenID=t,localStorage.setItem("lastOpenID",this._lastOpenID)}},o={_editor:null,_type:null,_direction:"TB",_translateFlowchart:function(){var t=this._editor,n="",r=[];try{t.eachLine(function(i){var o="";if(t.getLineTokens(t.getLineNumber(i)).filter(function(t){return null!=t.type}).forEach(function(t){var e=t.string.trim();if(t.type.indexOf("box")!=-1)e=e.replace(/"/g,"#quot;"),o+="box ",t.type.indexOf("process")!=-1?e='["'+e+'"]':t.type.indexOf("decision")!=-1?e='{"'+e+'"}':t.type.indexOf(!0)&&(e='("'+e.slice(2,e.length-2)+'")'),r.indexOf(e)==-1&&r.push(e),n+="id"+r.indexOf(e);else if("arrow"==t.type)o+="arrow ","->>"==e&&(e="-->"),"-->>"==e&&(e="-.->"),n+=e;else if("arrow-end"==t.type||"arrow-head"==t.type){switch(o+=t.type+" ",e){case"-":e="--";break;case"--":e="-.";break;case"->>":e="-->";break;case"-->>":e=".->"}n+=e}else o+=t.type+" ",n+=e}),t.removeLineClass(t.getLineNumber(i),"background","syntaxError"),"box "!=o&&"box arrow box "!=o&&"box arrow-end arrow-message arrow-head box "!=o&&"subgraphDeclaration "!=o&&"endOfSubgraph "!=o&&""!=o)throw new e(o,t.getLineNumber(i));n+="\n"})}catch(e){return console.log("Lost in translation at line: "+e.lineNumber),t.getCursor().line!=e.lineNumber&&t.addLineClass(e.lineNumber,"background","syntaxError"),!1}return r.forEach(function(t){n="id"+r.indexOf(t)+t+"\n"+n}),n},markErrorAtLine:function(t){this._editor.getCursor().line!=t&&this._editor.addLineClass(t,"background","syntaxError")},_initEditorForSeq:function(t){var e=/[^\s:\->][^:\->]*/,n=/-x|->|-->|->>|--x|-->>/;CodeMirror.defineSimpleMode("seqdiagram",{start:[{regex:/participant/,token:"keyword participant"},{regex:/(\s*)(loop|alt|opt)(\s)(.*)/,token:[null,"keyword indent","before-description","description"],indent:!0,sol:!0},{regex:/\s*(else)(\s)(.*)/,token:["keyword else","before-description","description"],sol:!0},{regex:/(\s*)(note|Note)(\s+)(right of |left of |over )/,token:[null,"keyword note",null,"keyword note-direction"],sol:!0},{regex:/(:)(.+)/,token:["colon","message"]},{regex:/\s*end\s*$/,token:"keyword dedent",dedent:!0,sol:!0},{regex:/(-->>|-->|->>|->|--x|-x)(\s*)(\+|-)/,token:["arrow","before-activation","activation"]},{regex:/:/,token:"colon"},{regex:n,token:"arrow"},{regex:e,token:"actor"}]});var r=CodeMirror.fromTextArea(document.getElementById("code"),{lineNumbers:!0,lineWrapping:!0,viewportMargin:1/0,tabSize:2,indentWithTabs:!0,mode:"seqdiagram"});r.setValue(t);var i=[];i.update=function(){this.length=0;var t=this;r.eachLine(function(e){if(r.getLineNumber(e)!=r.getCursor().line){var n=r.getLineTokens(r.getLineNumber(e)).filter(function(t){return t.type});n.length>=3&&"actor"==n[0].type&&"arrow"==n[1].type&&"actor"==n[2].type?(t.indexOf(n[0].string.trim())==-1&&t.push(n[0].string.trim()),t.indexOf(n[2].string.trim())==-1&&t.push(n[2].string.trim())):2==n.length&&n[0].type.indexOf("participant")!=-1&&"actor"==n[1].type&&t.indexOf(n[1].string.trim())==-1&&t.push(n[1].string.trim())}})},i.update(),r.on("beforeChange",function(t,e){e.from.line==e.to.line&&"message"==t.getTokenTypeAt(e.from)||i.update()});var o,s=this;r.on("change",function(t,e){clearTimeout(o),o=setTimeout(function(){s.renderChart()},500),a.setChartContent(t.getValue()),t.showHint({hint:CodeMirror.hint.seqdef,completeSingle:!1,actors:i})}),this._editor=r},_initEditorForFlowchart:function(t){var e=/->>|-->>/,n=/-\s|--\s/,r=/[^\s:\->][^:\->]*/,i=/\s->>|\s-->>/,o=new RegExp("("+n.source+")("+r.source+")("+i.source+")"),s=/\(\([^\s\->].*?\)\)/,u=/[^\s\->].*?(\?|\？)/,l=/[^\(\s\->][^\?\？]*?/,c=/[^\(\s\->][^\?\？]*/,h=new RegExp("("+l.source+")("+e.source+")"),f=new RegExp("("+l.source+")"+o.source);CodeMirror.defineSimpleMode("flowchart",{start:[{regex:/\s*subgraph\s+[^\{\}\(\)]+$/,token:"subgraphDeclaration",sol:!0,indent:!0},{regex:/\s*end$/,token:"endOfSubgraph",sol:!0,dedent:!0},{regex:f,token:["box process","arrow-end","arrow-message","arrow-head"]},{regex:h,token:["box process","arrow"]},{regex:s,token:"box terminal"},{regex:u,token:"box decision"},{regex:c,token:"box process"},{regex:e,token:"arrow"},{regex:o,token:["arrow-end","arrow-message","arrow-head"]}]});var d=CodeMirror.fromTextArea(document.getElementById("code"),{lineNumbers:!0,lineWrapping:!0,viewportMargin:1/0,tabSize:2,indentWithTabs:!0,mode:"flowchart"});d.setValue(t);var p,g=this;d.on("change",function(t,e){p=setTimeout(function(){g.renderChart()},500),a.setChartContent(t.getValue()),t.showHint({hint:CodeMirror.hint.flowchart,completeSingle:!1,changeObj:e})}),this._editor=d},init:function(t,e){this._type=t,"sequenceDiagram"==t?this._initEditorForSeq(e):"flowchart"==t&&this._initEditorForFlowchart(e),this.renderChart()},_mermaidDraw:function(e){if(mermaidAPI.parse(e)){var n=this;n._editor.eachLine(function(t){n._editor.removeLineClass(n._editor.getLineNumber(t),"background","syntaxError")});var i;(i=document.querySelector(".chart svg"))&&r.removeChild(i),mermaidAPI.render("graphDiv",e,t)}},renderChart:function(){if("sequenceDiagram"==this._type)this._mermaidDraw("sequenceDiagram\n"+this._editor.getValue());else if("flowchart"==this._type){var t=this._translateFlowchart(this._editor);t&&"LR"==this._direction?this._mermaidDraw("graph LR\n"+t):t&&this._mermaidDraw("graph TB\n"+t)}}},a={currentChart:null,init:function(){i.init(),this.currentChart=i.getChartByID(i.getLastOpenID()),o.init(this.currentChart.type,this.currentChart.content)},setChartContent:function(t){try{i.setChartByID(this.currentChart.id,t)}catch(t){t instanceof n&&$("#chart-not-found").modal()}},newChart:function(t,e,n){i.setLastOpenID(i.newChart(t,e,n)),window.location.reload()},getAllCharts:function(){return _.toArray(_(i.getAllCharts()).sortBy(function(t){return-t.lastModified}))},openChartByID:function(t){try{i.setLastOpenID(t),window.location.reload()}catch(t){t instanceof n&&$("#chart-not-found").modal()}},renameChartByID:function(t,e){try{i.renameChartByID(t,e)}catch(t){t instanceof n&&$("#chart-not-found").modal()}},deleteChartByID:function(t){try{i.deleteChartByID(t)}catch(t){t instanceof n&&$("#chart-not-found").modal()}}};a.init(),window.debug=function(t){"on"==t?(window.controller=a,window.modal=i):(window.controller=null,window.modal=null)}});